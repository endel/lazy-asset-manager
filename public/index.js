if(function(global,factory){"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);return"function"===type||jQuery.isWindow(obj)?!1:1===obj.nodeType&&length?!0:"array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj}function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(risSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>=0!==not})}function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}function createOptions(options){var object=optionsCache[options]={};return jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0}),object}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Math.random()}function dataAttr(elem,key,data){var name;if(void 0===data&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$1").toLowerCase(),data=elem.getAttribute(name),"string"==typeof data){try{data="true"===data?!0:"false"===data?!1:"null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}data_user.set(elem,key,data)}else data=void 0;return data}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(11!==content.nodeType?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;l>i;i++)data_priv.set(elems[i],"globalEval",!refElements||data_priv.get(refElements[i],"globalEval"))}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1===dest.nodeType){if(data_priv.hasData(src)&&(pdataOld=data_priv.access(src),pdataCur=data_priv.set(dest,pdataOld),events=pdataOld.events)){delete pdataCur.handle,pdataCur.events={};for(type in events)for(i=0,l=events[type].length;l>i;i++)jQuery.event.add(dest,type,events[type][i])}data_user.hasData(src)&&(udataOld=data_user.access(src),udataCur=jQuery.extend({},udataOld),data_user.set(dest,udataCur))}}function getAll(context,tag){var ret=context.getElementsByTagName?context.getElementsByTagName(tag||"*"):context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return void 0===tag||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();"input"===nodeName&&rcheckableType.test(src.type)?dest.checked=src.checked:("input"===nodeName||"textarea"===nodeName)&&(dest.defaultValue=src.defaultValue)}function actualDisplay(name,doc){var style,elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle&&(style=window.getDefaultComputedStyle(elem[0]))?style.display:jQuery.css(elem[0],"display");return elem.detach(),display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||(display=actualDisplay(nodeName,doc),"none"!==display&&display||(iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement),doc=iframe[0].contentDocument,doc.write(),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return computed=computed||getStyles(elem),computed&&(ret=computed.getPropertyValue(name)||computed[name]),computed&&(""!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),void 0!==ret?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){return conditionFn()?void delete this.get:(this.get=hookFn).apply(this,arguments)}}}function vendorPropName(style,name){if(name in style)return name;for(var capName=name[0].toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;i--;)if(name=cssPrefixes[i]+capName,name in style)return name;return origName}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;4>i;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox="border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(0>=val||null==val){if(val=curCSS(elem,name,styles),(0>val||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;length>index;index++)elem=elements[index],elem.style&&(values[index]=data_priv.get(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=data_priv.access(elem,"olddisplay",defaultDisplay(elem.nodeName)))):(hidden=isHidden(elem),"none"===display&&hidden||data_priv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;length>index;index++)elem=elements[index],elem.style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function createFxNow(){return setTimeout(function(){fxNow=void 0}),fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};for(includeWidth=includeWidth?1:0;4>i;i+=2-includeWidth)which=cssExpand[i],attrs["margin"+which]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;length>index;index++)if(tween=collection[index].call(animation,prop,value))return tween}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=data_priv.get(elem,"fxshow");opts.queue||(hooks=jQuery._queueHooks(elem,"fx"),null==hooks.unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],display=jQuery.css(elem,"display"),"inline"===("none"===display?defaultDisplay(elem.nodeName):display)&&"none"===jQuery.css(elem,"float")&&(style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}));for(prop in props)if(value=props[prop],rfxtypes.exec(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else display=void 0;if(jQuery.isEmptyObject(orig))"inline"===("none"===display?defaultDisplay(elem.nodeName):display)&&(style.display=display);else{dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=data_priv.access(elem,"fxshow",{}),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;data_priv.remove(elem,"fxshow");for(prop in orig)jQuery.style(elem,prop,orig[prop])});for(prop in orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),hooks=jQuery.cssHooks[name],hooks&&"expand"in hooks){value=hooks.expand(value),delete props[name];for(index in value)index in props||(props[index]=value[index],specialEasing[index]=easing)}else specialEasing[name]=easing}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;length>index;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),1>percent&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;length>index;index++)animation.tweens[index].run(1);return gotoEnd?deferred.resolveWith(elem,[animation,gotoEnd]):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(propFilter(props,animation.opts.specialEasing);length>index;index++)if(result=animationPrefilters[index].call(animation,elem,props,animation.opts))return result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),void 0===ct&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}return finalDataType?(finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]):void 0}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(conv=converters[prev+" "+current]||converters["* "+current],!conv)for(conv2 in converters)if(tmp=conv2.split(" "),tmp[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){conv===!0?conv=converters[conv2]:converters[conv2]!==!0&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(conv!==!0)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}var arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},document=window.document,version="2.1.1-beta1",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return null!=num?0>num?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback,args){return jQuery.each(this,callback,args)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(0>i?len:0);return this.pushStack(j>=0&&len>j?[this[j]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||jQuery.isFunction(target)||(target={}),i===length&&(target=this,i--);length>i;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray,isWindow:function(obj){return null!=obj&&obj===obj.window},isNumeric:function(obj){return!jQuery.isArray(obj)&&obj-parseFloat(obj)>=0},isPlainObject:function(obj){return"object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj)?!1:obj.constructor&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},type:function(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(1===code.indexOf("use strict")?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray)for(;length>i&&(value=callback.apply(obj[i],args),value!==!1);i++);else for(i in obj)if(value=callback.apply(obj[i],args),value===!1)break}else if(isArray)for(;length>i&&(value=callback.call(obj[i],i,obj[i]),value!==!1);i++);else for(i in obj)if(value=callback.call(obj[i],i,obj[i]),value===!1)break;return obj},trim:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArraylike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;len>j;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){for(var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;length>i;i++)callbackInverse=!callback(elems[i],i),callbackInverse!==callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray)for(;length>i;i++)value=callback(elems[i],i,arg),null!=value&&ret.push(value);else for(i in elems)value=callback(elems[i],i,arg),null!=value&&ret.push(value);return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;return"string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn)?(args=slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy):void 0},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var Sizzle=function(window){function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,results=results||[],!selector||"string"!=typeof selector)return results;if(1!==(nodeType=context.nodeType)&&9!==nodeType)return[];if(documentIsHTML&&!seed){if(match=rquickExpr.exec(selector))if(m=match[1]){if(9===nodeType){if(elem=context.getElementById(m),!elem||!elem.parentNode)return results;if(elem.id===m)return results.push(elem),results}else if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nid=old=expando,newContext=context,newSelector=9===nodeType&&selector,1===nodeType&&"object"!==context.nodeName.toLowerCase()){for(groups=tokenize(selector),(old=context.getAttribute("id"))?nid=old.replace(rescape,"\\$&"):context.setAttribute("id",nid),nid="[id='"+nid+"'] ",i=groups.length;i--;)groups[i]=nid+toSelector(groups[i]);newContext=rsibling.test(selector)&&testContext(context.parentNode)||context,newSelector=groups.join(",")}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{old||context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}var keys=[];return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&&div.parentNode.removeChild(div),div=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=attrs.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&typeof context.getElementsByTagName!==strundefined&&context}function setFilters(){}function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){(!matched||(match=rcomma.exec(soFar)))&&(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length));for(type in Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";len>i;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements){if(outerCache=elem[expando]||(elem[expando]={}),(oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if(outerCache[dir]=newCache,newCache[2]=matcher(elem,context,xml))return!0}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;len>i;i++)Sizzle(selector,contexts[i],results);return results}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;len>i;i++)(elem=unmatched[i])&&(!filter||filter(elem,context,xml))&&(newUnmatched.push(elem),mapped&&map.push(i));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){return!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml))}];len>i;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if(matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches),matcher[expando]){for(j=++i;len>j&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,j>i&&matcherFromTokens(tokens.slice(i,j)),len>j&&matcherFromTokens(tokens=tokens.slice(j)),len>j&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context!==document&&context);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0;matcher=elementMatchers[j++];)if(matcher(elem,context,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}var i,support,Expr,getText,isXML,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+-new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},strundefined="undefined",MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=arr.indexOf||function(elem){for(var i=0,len=this.length;len>i;i++)if(this[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:([*^$|!~]?=)"+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+attributes.replace(3,8)+")*)|.*)\\)|)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;
return high!==high||escapedWhitespace?escaped:0>high?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?"HTML"!==documentElement.nodeName:!1},setDocument=Sizzle.setDocument=function(node){var hasCompare,doc=node?node.ownerDocument||node:preferredDoc,parent=doc.defaultView;return doc!==document&&9===doc.nodeType&&doc.documentElement?(document=doc,docElem=doc.documentElement,documentIsHTML=!isXML(doc),parent&&parent!==parent.top&&(parent.addEventListener?parent.addEventListener("unload",function(){setDocument()},!1):parent.attachEvent&&parent.attachEvent("onunload",function(){setDocument()})),support.attributes=assert(function(div){return div.className="i",!div.getAttribute("className")}),support.getElementsByTagName=assert(function(div){return div.appendChild(doc.createComment("")),!div.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(doc.getElementsByClassName)&&assert(function(div){return div.innerHTML="<div class='a'></div><div class='a i'></div>",div.firstChild.className="i",2===div.getElementsByClassName("i").length}),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!doc.getElementsByName||!doc.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if(typeof context.getElementById!==strundefined&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return typeof context.getElementsByTagName!==strundefined?context.getElementsByTagName(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){return typeof context.getElementsByClassName!==strundefined&&documentIsHTML?context.getElementsByClassName(className):void 0},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(doc.querySelectorAll))&&(assert(function(div){div.innerHTML="<select t=''><option selected=''></option></select>",div.querySelectorAll("[t^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked")}),assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("name","D"),div.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare?compare:(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&compare||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===doc||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)?-1:b===doc||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},doc):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),!(!support.matchesSelector||!documentIsHTML||rbuggyMatches&&rbuggyMatches.test(expr)||rbuggyQSA&&rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[5]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]&&void 0!==match[4]?match[2]=match[4]:unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:operator?(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result+" ").indexOf(check)>-1:"|="===operator?result===check||result.slice(0,check.length+1)===check+"-":!1):!0}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(outerCache=parent[expando]||(parent[expando]={}),cache=outerCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=cache[0]===dirruns&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns)diff=cache[1];else for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((node[expando]||(node[expando]={}))[type]=[dirruns,diff]),node!==elem)););return diff-=last,diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)idx=indexOf.call(seed,matched[i]),seed[idx]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return elemLang=elemLang.toLowerCase(),elemLang===lang||0===elemLang.indexOf(lang+"-");while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===!1},disabled:function(elem){return elem.disabled===!0},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[0>argument?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}},Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(match||(match=tokenize(selector)),i=match.length;i--;)cached=matcherFromTokens(match[i]),cached[expando]?setMatchers.push(cached):elementMatchers.push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers)),cached.selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if(tokens=match[0]=match[0].slice(0),tokens.length>2&&"ID"===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0],!context)return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),selector=seed.length&&toSelector(tokens),!selector)return push.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(document.createElement("div"))}),assert(function(div){return div.innerHTML="<a href='#'></a>","#"===div.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){return isXML?void 0:elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(div){return div.innerHTML="<input/>",div.firstChild.setAttribute("value",""),""===div.firstChild.getAttribute("value")})||addHandle("value",function(elem,name,isXML){return isXML||"input"!==elem.nodeName.toLowerCase()?void 0:elem.defaultValue}),assert(function(div){return null==div.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;return isXML?void 0:elem[name]===!0?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;len>i;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;len>i;i++)jQuery.find(selector,self[i],ret);return ret=this.pushStack(len>1?jQuery.unique(ret):ret),ret.selector=this.selector?this.selector+" "+selector:selector,ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context){var match,elem;if(!selector)return this;if("string"==typeof selector){if(match="<"===selector[0]&&">"===selector[selector.length-1]&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector),!match||!match[1]&&context)return!context||context.jquery?(context||rootjQuery).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return elem=document.getElementById(match[2]),elem&&elem.parentNode&&(this.length=1,this[0]=elem),this.context=document,this.selector=selector,this}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?"undefined"!=typeof rootjQuery.ready?rootjQuery.ready(selector):selector(jQuery):(void 0!==selector.selector&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(elem,dir,until){for(var matched=[],truncate=void 0!==until;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},sibling:function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched}}),jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;l>i;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;l>i;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?pos.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.unique(matched):matched)},index:function(elem){return elem?"string"==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),this.length>1&&(guaranteedUnique[name]||jQuery.unique(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(options){options="string"==typeof options?optionsCache[options]||createOptions(options):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){for(memory=options.memory&&data,fired=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length,firing=!0;list&&firingLength>firingIndex;firingIndex++)if(list[firingIndex].apply(data[0],data[1])===!1&&options.stopOnFalse){memory=!1;break}firing=!1,list&&(stack?stack.length&&fire(stack.shift()):memory?list=[]:self.disable())},self={add:function(){if(list){var start=list.length;!function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);"function"===type?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==type&&add(arg)})}(arguments),firing?firingLength=list.length:memory&&(firingStart=start,fire(memory))}return this},remove:function(){return list&&jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),firing&&(firingLength>=index&&firingLength--,firingIndex>=index&&firingIndex--)}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!(!list||!list.length)},empty:function(){return list=[],firingLength=0,this},disable:function(){return list=stack=memory=void 0,this},disabled:function(){return!list},lock:function(){return stack=void 0,memory||self.disable(),this},locked:function(){return!stack},fireWith:function(context,args){return!list||fired&&!stack||(args=args||[],args=[context,args.slice?args.slice():args],firing?stack.push(args):fire(args)),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify):newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length>1?slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(length>1)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);length>i;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues)):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){return jQuery.ready.promise().done(fn),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){(wait===!0?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,wait!==!0&&--jQuery.readyWait>0||(readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready"))))}}),jQuery.ready.promise=function(obj){return readyList||(readyList=jQuery.Deferred(),"complete"===document.readyState?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(obj)},jQuery.ready.promise();var access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if("object"===jQuery.type(key)){chainable=!0;for(i in key)jQuery.access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(void 0!==value&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;len>i;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet};jQuery.acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function(owner){if(!Data.accepts(owner))return 0;var descriptor={},unlock=owner[this.expando];if(!unlock){unlock=Data.uid++;try{descriptor[this.expando]={value:unlock},Object.defineProperties(owner,descriptor)}catch(e){descriptor[this.expando]=unlock,jQuery.extend(owner,descriptor)}}return this.cache[unlock]||(this.cache[unlock]={}),unlock},set:function(owner,data,value){var prop,unlock=this.key(owner),cache=this.cache[unlock];if("string"==typeof data)cache[data]=value;else if(jQuery.isEmptyObject(cache))jQuery.extend(this.cache[unlock],data);else for(prop in data)cache[prop]=data[prop];return cache},get:function(owner,key){var cache=this.cache[this.key(owner)];return void 0===key?cache:cache[key]},access:function(owner,key,value){var stored;return void 0===key||key&&"string"==typeof key&&void 0===value?(stored=this.get(owner,key),void 0!==stored?stored:this.get(owner,jQuery.camelCase(key))):(this.set(owner,key,value),void 0!==value?value:key)},remove:function(owner,key){var i,name,camel,unlock=this.key(owner),cache=this.cache[unlock];if(void 0===key)this.cache[unlock]={};else{jQuery.isArray(key)?name=key.concat(key.map(jQuery.camelCase)):(camel=jQuery.camelCase(key),key in cache?name=[key,camel]:(name=camel,name=name in cache?[name]:name.match(rnotwhite)||[])),i=name.length;for(;i--;)delete cache[name[i]]}},hasData:function(owner){return!jQuery.isEmptyObject(this.cache[owner[this.expando]]||{})},discard:function(owner){owner[this.expando]&&delete this.cache[owner[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({hasData:function(elem){return data_user.hasData(elem)||data_priv.hasData(elem)},data:function(elem,name,data){return data_user.access(elem,name,data)},removeData:function(elem,name){data_user.remove(elem,name)},_data:function(elem,name,data){return data_priv.access(elem,name,data)},_removeData:function(elem,name){data_priv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(void 0===key){if(this.length&&(data=data_user.get(elem),1===elem.nodeType&&!data_priv.get(elem,"hasDataAttrs"))){for(i=attrs.length;i--;)name=attrs[i].name,0===name.indexOf("data-")&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name]));data_priv.set(elem,"hasDataAttrs",!0)}return data}return"object"==typeof key?this.each(function(){data_user.set(this,key)}):access(this,function(value){var data,camelKey=jQuery.camelCase(key);if(elem&&void 0===value){if(data=data_user.get(elem,key),void 0!==data)return data;if(data=data_user.get(elem,camelKey),void 0!==data)return data;if(data=dataAttr(elem,camelKey,void 0),void 0!==data)return data}else this.each(function(){var data=data_user.get(this,camelKey);data_user.set(this,camelKey,value),-1!==key.indexOf("-")&&void 0!==data&&data_user.set(this,key,value)})},null,value,arguments.length>1,null,!0)},removeData:function(key){return this.each(function(){data_user.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;return elem?(type=(type||"fx")+"queue",queue=data_priv.get(elem,type),data&&(!queue||jQuery.isArray(data)?queue=data_priv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]):void 0},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()
},_queueHooks:function(elem,type){var key=type+"queueHooks";return data_priv.get(elem,key)||data_priv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)tmp=data_priv.get(elements[i],type+"queueHooks"),tmp&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(elem,el){return elem=el||elem,"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)},rcheckableType=/^(?:checkbox|radio)$/i;!function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue}();var strundefined="undefined";support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.get(elem);if(elemData)for(handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return typeof jQuery!==strundefined&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}),types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||(handlers=events[type]=[],handlers.delegateCount=0,special.setup&&special.setup.call(elem,data,namespaces,eventHandle)!==!1||elem.addEventListener&&elem.addEventListener(type,eventHandle,!1)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.hasData(elem)&&data_priv.get(elem);if(elemData&&(events=elemData.events)){for(types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)if(tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,handlers=events[type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&special.teardown.call(elem,namespaces,elemData.handle)!==!1||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&(delete elemData.handle,data_priv.remove(elem,"events"))}},trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>=0&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event),event.isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||special.trigger.apply(elem,data)!==!1)){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=i>1?bubbleType:special.bindType||type,handle=(data_priv.get(cur,"events")||{})[event.type]&&data_priv.get(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&handle.apply&&jQuery.acceptData(cur)&&(event.result=handle.apply(cur,data),event.result===!1&&event.preventDefault());return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&special._default.apply(eventPath.pop(),data)!==!1||!jQuery.acceptData(elem)||ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)&&(tmp=elem[ontype],tmp&&(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=void 0,tmp&&(elem[ontype]=tmp)),event.result}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(data_priv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if(args[0]=event,event.delegateTarget=this,!special.preDispatch||special.preDispatch.call(this,event)!==!1){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)(!event.namespace_re||event.namespace_re.test(handleObj.namespace))&&(event.handleObj=handleObj,event.data=handleObj.data,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),void 0!==ret&&(event.result=ret)===!1&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||"click"!==event.type))for(;cur!==this;cur=cur.parentNode||this)if(cur.disabled!==!0||"click"!==event.type){for(matches=[],i=0;delegateCount>i;i++)handleObj=handlers[i],sel=handleObj.selector+" ",void 0===matches[sel]&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<handlers.length&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;return null==event.pageX&&null!=original.clientX&&(eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),event.which||void 0===button||(event.which=1&button?1:2&button?3:4&button?2:0),event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)prop=copy[i],event[prop]=originalEvent[prop];return event.target||(event.target=document),3===event.target.nodeType&&(event.target=event.target.parentNode),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==safeActiveElement()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===safeActiveElement()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&jQuery.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){void 0!==event.result&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0,originalEvent:{}});bubble?jQuery.event.trigger(e,null,elem):jQuery.event.dispatch.call(elem,e),e.isDefaultPrevented()&&event.preventDefault()}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle,!1)},jQuery.Event=function(src,props){return this instanceof jQuery.Event?(src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&src.returnValue===!1?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),void(this[jQuery.expando]=!0)):new jQuery.Event(src,props)},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return(!related||related!==target&&!jQuery.contains(target,related))&&(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),data_priv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix)-1;attaches?data_priv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),data_priv.remove(doc,fix))}}}),jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if("object"==typeof types){"string"!=typeof selector&&(data=data||selector,selector=void 0);for(type in types)this.on(type,selector,data,types[type],one);return this}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),fn===!1)fn=returnFalse;else if(!fn)return this;return 1===one&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return(selector===!1||"function"==typeof selector)&&(fn=selector,selector=void 0),fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];return elem?jQuery.event.trigger(type,data,elem,!0):void 0}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!(support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),srcElements=getAll(elem),i=0,l=srcElements.length;l>i;i++)fixInput(srcElements[i],destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;l>i;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return destElements=getAll(clone,"script"),destElements.length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},buildFragment:function(elems,context,scripts,selection){for(var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;l>i;i++)if(elem=elems[i],elem||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if((!selection||-1===jQuery.inArray(elem,selection))&&(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(fragment.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts))for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment},cleanData:function(elems){for(var data,elem,type,key,special=jQuery.event.special,i=0;void 0!==(elem=elems[i]);i++){if(jQuery.acceptData(elem)&&(key=elem[data_priv.expando],key&&(data=data_priv.cache[key]))){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);data_priv.cache[key]&&delete data_priv.cache[key]}delete data_user.cache[elem[data_user.expando]]}}}),jQuery.fn.extend({text:function(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=value)})},null,value,arguments.length)},append:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},remove:function(selector,keepData){for(var elem,elems=selector?jQuery.filter(selector,this):this,i=0;null!=(elem=elems[i]);i++)keepData||1!==elem.nodeType||jQuery.cleanData(getAll(elem)),elem.parentNode&&(keepData&&jQuery.contains(elem.ownerDocument,elem)&&setGlobalEval(getAll(elem,"script")),elem.parentNode.removeChild(elem));return this},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null==dataAndEvents?!1:dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;l>i;i++)elem=this[i]||{},1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var arg=arguments[0];return this.domManip(arguments,function(elem){arg=this.parentNode,jQuery.cleanData(getAll(this)),arg&&arg.replaceChild(elem,this)}),arg&&(arg.length||arg.nodeType)?this:this.remove()},detach:function(selector){return this.remove(selector,!0)},domManip:function(args,callback){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return this.each(function(index){var self=set.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),self.domManip(args,callback)});if(l&&(fragment=jQuery.buildFragment(args,this[0].ownerDocument,!1,this),first=fragment.firstChild,1===fragment.childNodes.length&&(fragment=first),first)){for(scripts=jQuery.map(getAll(fragment,"script"),disableScript),hasScripts=scripts.length;l>i;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(this[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;hasScripts>i;i++)node=scripts[i],rscriptType.test(node.type||"")&&!data_priv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl&&jQuery._evalUrl(node.src):jQuery.globalEval(node.textContent.replace(rcleanScript,"")))}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;last>=i;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var iframe,elemdisplay={},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(elem){return elem.ownerDocument.defaultView.getComputedStyle(elem,null)};!function(){function computePixelPositionAndBoxSizingReliable(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",div.innerHTML="",docElem.appendChild(container);var divStyle=window.getComputedStyle(div,null);pixelPositionVal="1%"!==divStyle.top,boxSizingReliableVal="4px"===divStyle.width,docElem.removeChild(container)}var pixelPositionVal,boxSizingReliableVal,docElem=document.documentElement,container=document.createElement("div"),div=document.createElement("div");div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,container.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",container.appendChild(div),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function(){return computePixelPositionAndBoxSizingReliable(),pixelPositionVal},boxSizingReliable:function(){return null==boxSizingReliableVal&&computePixelPositionAndBoxSizingReliable(),boxSizingReliableVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));return marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",docElem.appendChild(container),ret=!parseFloat(window.getComputedStyle(marginDiv,null).marginRight),docElem.removeChild(container),ret}}))}(),jQuery.swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value?hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name]:(type=typeof value,"string"===type&&(ret=rrelNum.exec(value))&&(value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name)),type="number"),null!=value&&value===value&&("number"!==type||jQuery.cssNumber[origName]||(value+="px"),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra))||(style[name]=value)),void 0)}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],hooks&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),void 0===val&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),extra===!0||jQuery.isNumeric(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){return computed?0===elem.offsetWidth&&rdisplayswap.test(jQuery.css(elem,"display"))?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra):void 0},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){return computed?jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"]):void 0}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];4>i;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;len>i;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||"swing",this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.pos=eased=this.options.duration?jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return null==tween.elem[tween.prop]||tween.elem.style&&null!=tween.elem.style[tween.prop]?(result=jQuery.css(tween.elem,tween.prop,""),result&&"auto"!==result?result:0):tween.elem[tween.prop]},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):tween.elem.style&&(null!=tween.elem.style[jQuery.cssProps[tween.prop]]||jQuery.cssHooks[tween.prop])?jQuery.style(tween.elem,tween.prop,tween.now+tween.unit):tween.elem[tween.prop]=tween.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||"px"!==unit&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3],parts=parts||[],start=+target||1;do scale=scale||".5",start/=scale,jQuery.style(tween.elem,prop,start+unit);while(scale!==(scale=tween.cur()/target)&&1!==scale&&--maxIterations)}return parts&&(start=tween.start=+start||+target||0,tween.unit=unit,tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]),tween}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=["*"]):props=props.split(" ");for(var prop,index=0,length=props.length;length>index;index++)prop=props[index],tweeners[prop]=tweeners[prop]||[],tweeners[prop].unshift(callback)},prefilter:function(callback,prepend){prepend?animationPrefilters.unshift(callback):animationPrefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,(null==opt.queue||opt.queue===!0)&&(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||data_priv.get(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=data_priv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);
else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));(dequeue||!gotoEnd)&&jQuery.dequeue(this,type)})},finish:function(type){return type!==!1&&(type=type||"fx"),this.each(function(){var index,data=data_priv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;length>index;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;for(fxNow=jQuery.now();i<timers.length;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=void 0},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),timer()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,select.disabled=!0,support.optDisabled=!opt.disabled,input=document.createElement("input"),input.value="t",input.type="radio",support.radioValue="t"===input.value}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return typeof elem.getAttribute===strundefined?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)),void 0===value?hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:(ret=jQuery.find.attr(elem,name),null==ret?void 0:ret):null!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):void jQuery.removeAttr(elem,name))},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)&&(elem[propName]=!1),elem.removeAttribute(name)},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}}}),boolHook={set:function(elem,value,name){return value===!1?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;return isXML||(handle=attrHandle[name],attrHandle[name]=ret,ret=null!=getter(elem,name,isXML)?name.toLowerCase():null,attrHandle[name]=handle),ret}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return notxml=1!==nType||!jQuery.isXMLDoc(elem),notxml&&(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){return elem.hasAttribute("tabindex")||rfocusable.test(elem.nodeName)||elem.href?elem.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed="string"==typeof value&&value,i=0,len=this.length;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");finalValue=jQuery.trim(cur),elem.className!==finalValue&&(elem.className=finalValue)}return this},removeClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed=0===arguments.length||"string"==typeof value&&value,i=0,len=this.length;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"")){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>=0;)cur=cur.replace(" "+clazz+" "," ");finalValue=value?jQuery.trim(cur):"",elem.className!==finalValue&&(elem.className=finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value;return"boolean"==typeof stateVal&&"string"===type?stateVal?this.addClass(value):this.removeClass(value):this.each(jQuery.isFunction(value)?function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)}:function(){if("string"===type)for(var className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else(type===strundefined||"boolean"===type)&&(this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||value===!1?"":data_priv.get(this,"__className__")||"")})},hasClass:function(selector){for(var className=" "+selector+" ",i=0,l=this.length;l>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];{if(arguments.length)return isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(val=isFunction?value.call(this,i,jQuery(this).val()):value,null==val?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],hooks&&"set"in hooks&&void 0!==hooks.set(this,val,"value")||(this.value=val))});if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:(ret=elem.value,"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret)}}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:jQuery.trim(jQuery.text(elem))}},select:{get:function(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||0>index,values=one?null:[],max=one?index+1:options.length,i=0>index?max:one?index:0;max>i;i++)if(option=options[i],!(!option.selected&&i!==index||(support.optDisabled?option.disabled:null!==option.getAttribute("disabled"))||option.parentNode.disabled&&jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)option=options[i],(option.selected=jQuery.inArray(option.value,values)>=0)&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){return jQuery.isArray(value)?elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0:void 0}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+"")},jQuery.parseXML=function(data){var xml,tmp;if(!data||"string"!=typeof data)return null;try{tmp=new DOMParser,xml=tmp.parseFromString(data,"text/xml")}catch(e){xml=void 0}return(!xml||xml.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+data),xml};var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&300>status||304===status,responses&&(response=ajaxHandleResponses(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&(modified=jqXHR.getResponseHeader("Last-Modified"),modified&&(jQuery.lastModified[cacheURL]=modified),modified=jqXHR.getResponseHeader("etag"),modified&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,error=response.error,isSuccess=!error)):(error=statusText,(status||!statusText)&&(statusText="error",0>status&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=void 0,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof url&&(options=url,url=void 0),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(2>state)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""],null==s.crossDomain&&(parts=rurl.exec(s.url.toLowerCase()),s.crossDomain=!(!parts||parts[1]===ajaxLocParts[1]&&parts[2]===ajaxLocParts[2]&&(parts[3]||("http:"===parts[1]?"80":"443"))===(ajaxLocParts[3]||("http:"===ajaxLocParts[1]?"80":"443")))),s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;fireGlobals=s.global,fireGlobals&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),s.cache===!1&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort();strAbort="abort";for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),s.async&&s.timeout>0&&(timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(2>state))throw e;done(-1,e)}}else done(-1,"No Transport");return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,void 0,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=void 0),jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}}),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(html){var wrap;return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&&(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this)},wrapInner:function(html){return this.each(jQuery.isFunction(html)?function(i){jQuery(this).wrapInner(html.call(this,i))}:function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0},jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(void 0===traditional&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();window.ActiveXObject&&jQuery(window).on("unload",function(){for(var key in xhrCallbacks)xhrCallbacks[key]()}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback;return support.cors||xhrSupported&&!options.crossDomain?{send:function(headers,complete){var i,xhr=options.xhr(),id=++xhrId;if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");for(i in headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(delete xhrCallbacks[id],callback=xhr.onload=xhr.onerror=null,"abort"===type?xhr.abort():"error"===type?complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"string"==typeof xhr.responseText?{text:xhr.responseText}:void 0,xhr.getAllResponseHeaders()))}},xhr.onload=callback(),xhr.onerror=callback("error"),callback=xhrCallbacks[id]=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback)throw e}},abort:function(){callback&&callback()}}:void 0}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({async:!0,charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");return jsonProp||"jsonp"===s.dataTypes[0]?(callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):s.jsonp!==!1&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=void 0}),"script"):void 0}),jQuery.parseHTML=function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=jQuery.buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,type,response,self=this,off=url.indexOf(" ");return off>=0&&(selector=jQuery.trim(url.slice(off)),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=void 0):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])}),this},jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&(curCSSTop+curCSSLeft).indexOf("auto")>-1,calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,curOffset)),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(doc)return docElem=doc.documentElement,jQuery.contains(docElem,elem)?(typeof elem.getBoundingClientRect!==strundefined&&(box=elem.getBoundingClientRect()),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}):box},position:function(){if(this[0]){var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent||docElem;offsetParent&&!jQuery.nodeName(offsetParent,"html")&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);return void 0===val?win?win[prop]:elem[method]:void(win?win.scrollTo(top?window.pageXOffset:val,top?val:window.pageYOffset):elem[method]=val)},method,val,arguments.length,null)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){return computed?(computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed):void 0})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(void 0!==el.style[name])return{end:transEndEventNames[name]};return!1}$.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;$(this).one($.support.transition.end,function(){called=!0});var callback=function(){called||$($el).trigger($.support.transition.end)};return setTimeout(callback,duration),this},$(function(){$.support.transition=transitionEnd()})}(jQuery),+function($){"use strict";var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.prototype.close=function(e){function removeElement(){$parent.trigger("closed.bs.alert").remove()}var $this=$(this),selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=$(selector);e&&e.preventDefault(),$parent.length||($parent=$this.hasClass("alert")?$this:$this.parent()),$parent.trigger(e=$.Event("close.bs.alert")),e.isDefaultPrevented()||($parent.removeClass("in"),$.support.transition&&$parent.hasClass("fade")?$parent.one($.support.transition.end,removeElement).emulateTransitionEnd(150):removeElement())};var old=$.fn.alert;$.fn.alert=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.alert");data||$this.data("bs.alert",data=new Alert(this)),"string"==typeof option&&data[option].call($this)})},$.fn.alert.Constructor=Alert,$.fn.alert.noConflict=function(){return $.fn.alert=old,this},$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery),+function($){"use strict";var Button=function(element,options){this.$element=$(element),this.options=$.extend({},Button.DEFAULTS,options),this.isLoading=!1};Button.DEFAULTS={loadingText:"loading..."},Button.prototype.setState=function(state){var d="disabled",$el=this.$element,val=$el.is("input")?"val":"html",data=$el.data();state+="Text",data.resetText||$el.data("resetText",$el[val]()),$el[val](data[state]||this.options[state]),setTimeout($.proxy(function(){"loadingText"==state?(this.isLoading=!0,$el.addClass(d).attr(d,d)):this.isLoading&&(this.isLoading=!1,$el.removeClass(d).removeAttr(d))
},this),0)},Button.prototype.toggle=function(){var changed=!0,$parent=this.$element.closest('[data-toggle="buttons"]');if($parent.length){var $input=this.$element.find("input");"radio"==$input.prop("type")&&($input.prop("checked")&&this.$element.hasClass("active")?changed=!1:$parent.find(".active").removeClass("active")),changed&&$input.prop("checked",!this.$element.hasClass("active")).trigger("change")}changed&&this.$element.toggleClass("active")};var old=$.fn.button;$.fn.button=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.button"),options="object"==typeof option&&option;data||$this.data("bs.button",data=new Button(this,options)),"toggle"==option?data.toggle():option&&data.setState(option)})},$.fn.button.Constructor=Button,$.fn.button.noConflict=function(){return $.fn.button=old,this},$(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var $btn=$(e.target);$btn.hasClass("btn")||($btn=$btn.closest(".btn")),$btn.button("toggle"),e.preventDefault()})}(jQuery),+function($){"use strict";var Carousel=function(element,options){this.$element=$(element),this.$indicators=this.$element.find(".carousel-indicators"),this.options=options,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",$.proxy(this.pause,this)).on("mouseleave",$.proxy(this.cycle,this))};Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},Carousel.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval)),this},Carousel.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},Carousel.prototype.to=function(pos){var that=this,activeIndex=this.getActiveIndex();return pos>this.$items.length-1||0>pos?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){that.to(pos)}):activeIndex==pos?this.pause().cycle():this.slide(pos>activeIndex?"next":"prev",$(this.$items[pos]))},Carousel.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&$.support.transition&&(this.$element.trigger($.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},Carousel.prototype.next=function(){return this.sliding?void 0:this.slide("next")},Carousel.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active"),$next=next||$active[type](),isCycling=this.interval,direction="next"==type?"left":"right",fallback="next"==type?"first":"last",that=this;if(!$next.length){if(!this.options.wrap)return;$next=this.$element.find(".item")[fallback]()}if($next.hasClass("active"))return this.sliding=!1;var e=$.Event("slide.bs.carousel",{relatedTarget:$next[0],direction:direction});return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(this.sliding=!0,isCycling&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var $nextIndicator=$(that.$indicators.children()[that.getActiveIndex()]);$nextIndicator&&$nextIndicator.addClass("active")})),$.support.transition&&this.$element.hasClass("slide")?($next.addClass(type),$next[0].offsetWidth,$active.addClass(direction),$next.addClass(direction),$active.one($.support.transition.end,function(){$next.removeClass([type,direction].join(" ")).addClass("active"),$active.removeClass(["active",direction].join(" ")),that.sliding=!1,setTimeout(function(){that.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*$active.css("transition-duration").slice(0,-1))):($active.removeClass("active"),$next.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),isCycling&&this.cycle(),this)};var old=$.fn.carousel;$.fn.carousel=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.carousel"),options=$.extend({},Carousel.DEFAULTS,$this.data(),"object"==typeof option&&option),action="string"==typeof option?option:options.slide;data||$this.data("bs.carousel",data=new Carousel(this,options)),"number"==typeof option?data.to(option):action?data[action]():options.interval&&data.pause().cycle()})},$.fn.carousel.Constructor=Carousel,$.fn.carousel.noConflict=function(){return $.fn.carousel=old,this},$(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var href,$this=$(this),$target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"")),options=$.extend({},$target.data(),$this.data()),slideIndex=$this.attr("data-slide-to");slideIndex&&(options.interval=!1),$target.carousel(options),(slideIndex=$this.attr("data-slide-to"))&&$target.data("bs.carousel").to(slideIndex),e.preventDefault()}),$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);$carousel.carousel($carousel.data())})})}(jQuery),+function($){"use strict";var Collapse=function(element,options){this.$element=$(element),this.options=$.extend({},Collapse.DEFAULTS,options),this.transitioning=null,this.options.parent&&(this.$parent=$(this.options.parent)),this.options.toggle&&this.toggle()};Collapse.DEFAULTS={toggle:!0},Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"},Collapse.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var startEvent=$.Event("show.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){var actives=this.$parent&&this.$parent.find("> .panel > .in");if(actives&&actives.length){var hasData=actives.data("bs.collapse");if(hasData&&hasData.transitioning)return;actives.collapse("hide"),hasData||actives.data("bs.collapse",null)}var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0),this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("collapse in")[dimension]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)[dimension](this.$element[0][scrollSize])}}},Collapse.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var startEvent=$.Event("hide.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var complete=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return $.support.transition?void this.$element[dimension](0).one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350):complete.call(this)}}},Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var old=$.fn.collapse;$.fn.collapse=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.collapse"),options=$.extend({},Collapse.DEFAULTS,$this.data(),"object"==typeof option&&option);!data&&options.toggle&&"show"==option&&(option=!option),data||$this.data("bs.collapse",data=new Collapse(this,options)),"string"==typeof option&&data[option]()})},$.fn.collapse.Constructor=Collapse,$.fn.collapse.noConflict=function(){return $.fn.collapse=old,this},$(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var href,$this=$(this),target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""),$target=$(target),data=$target.data("bs.collapse"),option=data?"toggle":$this.data(),parent=$this.attr("data-parent"),$parent=parent&&$(parent);data&&data.transitioning||($parent&&$parent.find('[data-toggle=collapse][data-parent="'+parent+'"]').not($this).addClass("collapsed"),$this[$target.hasClass("in")?"addClass":"removeClass"]("collapsed")),$target.collapse(option)})}(jQuery),+function($){"use strict";function clearMenus(e){$(backdrop).remove(),$(toggle).each(function(){var $parent=getParent($(this)),relatedTarget={relatedTarget:this};$parent.hasClass("open")&&($parent.trigger(e=$.Event("hide.bs.dropdown",relatedTarget)),e.isDefaultPrevented()||$parent.removeClass("open").trigger("hidden.bs.dropdown",relatedTarget))})}function getParent($this){var selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}var backdrop=".dropdown-backdrop",toggle="[data-toggle=dropdown]",Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.prototype.toggle=function(e){var $this=$(this);if(!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(clearMenus(),!isActive){"ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length&&$('<div class="dropdown-backdrop"/>').insertAfter($(this)).on("click",clearMenus);var relatedTarget={relatedTarget:this};if($parent.trigger(e=$.Event("show.bs.dropdown",relatedTarget)),e.isDefaultPrevented())return;$parent.toggleClass("open").trigger("shown.bs.dropdown",relatedTarget),$this.focus()}return!1}},Dropdown.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var $this=$(this);if(e.preventDefault(),e.stopPropagation(),!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(!isActive||isActive&&27==e.keyCode)return 27==e.which&&$parent.find(toggle).focus(),$this.click();var desc=" li:not(.divider):visible a",$items=$parent.find("[role=menu]"+desc+", [role=listbox]"+desc);if($items.length){var index=$items.index($items.filter(":focus"));38==e.keyCode&&index>0&&index--,40==e.keyCode&&index<$items.length-1&&index++,~index||(index=0),$items.eq(index).focus()}}}};var old=$.fn.dropdown;$.fn.dropdown=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.dropdown");data||$this.data("bs.dropdown",data=new Dropdown(this)),"string"==typeof option&&data[option].call($this)})},$.fn.dropdown.Constructor=Dropdown,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=old,this},$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle+", [role=menu], [role=listbox]",Dropdown.prototype.keydown)}(jQuery),+function($){"use strict";var Modal=function(element,options){this.options=options,this.$element=$(element),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};Modal.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},Modal.prototype.toggle=function(_relatedTarget){return this[this.isShown?"hide":"show"](_relatedTarget)},Modal.prototype.show=function(_relatedTarget){var that=this,e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");that.$element.parent().length||that.$element.appendTo(document.body),that.$element.show().scrollTop(0),transition&&that.$element[0].offsetWidth,that.$element.addClass("in").attr("aria-hidden",!1),that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$element.find(".modal-dialog").one($.support.transition.end,function(){that.$element.focus().trigger(e)}).emulateTransitionEnd(300):that.$element.focus().trigger(e)}))},Modal.prototype.hide=function(e){e&&e.preventDefault(),e=$.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one($.support.transition.end,$.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))},Modal.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",$.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},Modal.prototype.hideModal=function(){var that=this;this.$element.hide(),this.backdrop(function(){that.removeBackdrop(),that.$element.trigger("hidden.bs.modal")})},Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},Modal.prototype.backdrop=function(callback){var animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;if(this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",$.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),doAnimate&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!callback)return;doAnimate?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()):callback&&callback()};var old=$.fn.modal;$.fn.modal=function(option,_relatedTarget){return this.each(function(){var $this=$(this),data=$this.data("bs.modal"),options=$.extend({},Modal.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.modal",data=new Modal(this,options)),"string"==typeof option?data[option](_relatedTarget):options.show&&data.show(_relatedTarget)})},$.fn.modal.Constructor=Modal,$.fn.modal.noConflict=function(){return $.fn.modal=old,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());$this.is("a")&&e.preventDefault(),$target.modal(option,this).one("hide",function(){$this.is(":visible")&&$this.focus()})}),$(document).on("show.bs.modal",".modal",function(){$(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){$(document.body).removeClass("modal-open")})}(jQuery),+function($){"use strict";var Tooltip=function(element,options){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",element,options)};Tooltip.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},Tooltip.prototype.init=function(type,element,options){this.enabled=!0,this.type=type,this.$element=$(element),this.options=this.getOptions(options);for(var triggers=this.options.trigger.split(" "),i=triggers.length;i--;){var trigger=triggers[i];if("click"==trigger)this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if("manual"!=trigger){var eventIn="hover"==trigger?"mouseenter":"focusin",eventOut="hover"==trigger?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS},Tooltip.prototype.getOptions=function(options){return options=$.extend({},this.getDefaults(),this.$element.data(),options),options.delay&&"number"==typeof options.delay&&(options.delay={show:options.delay,hide:options.delay}),options},Tooltip.prototype.getDelegateOptions=function(){var options={},defaults=this.getDefaults();return this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)}),options},Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(self.timeout),self.hoverState="in",self.options.delay&&self.options.delay.show?void(self.timeout=setTimeout(function(){"in"==self.hoverState&&self.show()},self.options.delay.show)):self.show()},Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(self.timeout),self.hoverState="out",self.options.delay&&self.options.delay.hide?void(self.timeout=setTimeout(function(){"out"==self.hoverState&&self.hide()},self.options.delay.hide)):self.hide()},Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var that=this,$tip=this.tip();this.setContent(),this.options.animation&&$tip.addClass("fade");var placement="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,autoToken=/\s?auto?\s?/i,autoPlace=autoToken.test(placement);autoPlace&&(placement=placement.replace(autoToken,"")||"top"),$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement),this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element);var pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if(autoPlace){var $parent=this.$element.parent(),orgPlacement=placement,docScroll=document.documentElement.scrollTop||document.body.scrollTop,parentWidth="body"==this.options.container?window.innerWidth:$parent.outerWidth(),parentHeight="body"==this.options.container?window.innerHeight:$parent.outerHeight(),parentLeft="body"==this.options.container?0:$parent.offset().left;placement="bottom"==placement&&pos.top+pos.height+actualHeight-docScroll>parentHeight?"top":"top"==placement&&pos.top-docScroll-actualHeight<0?"bottom":"right"==placement&&pos.right+actualWidth>parentWidth?"left":"left"==placement&&pos.left-actualWidth<parentLeft?"right":placement,$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement),this.hoverState=null;var complete=function(){that.$element.trigger("shown.bs."+that.type)};$.support.transition&&this.$tip.hasClass("fade")?$tip.one($.support.transition.end,complete).emulateTransitionEnd(150):complete()}},Tooltip.prototype.applyPlacement=function(offset,placement){var replace,$tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight,marginTop=parseInt($tip.css("margin-top"),10),marginLeft=parseInt($tip.css("margin-left"),10);isNaN(marginTop)&&(marginTop=0),isNaN(marginLeft)&&(marginLeft=0),offset.top=offset.top+marginTop,offset.left=offset.left+marginLeft,$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0),$tip.addClass("in");var actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if("top"==placement&&actualHeight!=height&&(replace=!0,offset.top=offset.top+height-actualHeight),/bottom|top/.test(placement)){var delta=0;offset.left<0&&(delta=-2*offset.left,offset.left=0,$tip.offset(offset),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight),this.replaceArrow(delta-width+actualWidth,actualWidth,"left")}else this.replaceArrow(actualHeight-height,actualHeight,"top");replace&&$tip.offset(offset)},Tooltip.prototype.replaceArrow=function(delta,dimension,position){this.arrow().css(position,delta?50*(1-delta/dimension)+"%":"")},Tooltip.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},Tooltip.prototype.hide=function(){function complete(){"in"!=that.hoverState&&$tip.detach(),that.$element.trigger("hidden.bs."+that.type)}var that=this,$tip=this.tip(),e=$.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:($tip.removeClass("in"),$.support.transition&&this.$tip.hasClass("fade")?$tip.one($.support.transition.end,complete).emulateTransitionEnd(150):complete(),this.hoverState=null,this)},Tooltip.prototype.fixTitle=function(){var $e=this.$element;($e.attr("title")||"string"!=typeof $e.attr("data-original-title"))&&$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},Tooltip.prototype.hasContent=function(){return this.getTitle()},Tooltip.prototype.getPosition=function(){var el=this.$element[0];return $.extend({},"function"==typeof el.getBoundingClientRect?el.getBoundingClientRect():{width:el.offsetWidth,height:el.offsetHeight},this.$element.offset())},Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return"bottom"==placement?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:"top"==placement?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:"left"==placement?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}},Tooltip.prototype.getTitle=function(){var title,$e=this.$element,o=this.options;return title=$e.attr("data-original-title")||("function"==typeof o.title?o.title.call($e[0]):o.title)},Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)},Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},Tooltip.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},Tooltip.prototype.enable=function(){this.enabled=!0},Tooltip.prototype.disable=function(){this.enabled=!1},Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled},Tooltip.prototype.toggle=function(e){var self=e?$(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;self.tip().hasClass("in")?self.leave(self):self.enter(self)},Tooltip.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var old=$.fn.tooltip;$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tooltip"),options="object"==typeof option&&option;(data||"destroy"!=option)&&(data||$this.data("bs.tooltip",data=new Tooltip(this,options)),"string"==typeof option&&data[option]())})},$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(jQuery),+function($){"use strict";var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype),Popover.prototype.constructor=Popover,Popover.prototype.getDefaults=function(){return Popover.DEFAULTS},Popover.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title),$tip.find(".popover-content")[this.options.html?"string"==typeof content?"html":"append":"text"](content),$tip.removeClass("fade top bottom left right in"),$tip.find(".popover-title").html()||$tip.find(".popover-title").hide()},Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()},Popover.prototype.getContent=function(){var $e=this.$element,o=this.options;return $e.attr("data-content")||("function"==typeof o.content?o.content.call($e[0]):o.content)},Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},Popover.prototype.tip=function(){return this.$tip||(this.$tip=$(this.options.template)),this.$tip};var old=$.fn.popover;$.fn.popover=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.popover"),options="object"==typeof option&&option;(data||"destroy"!=option)&&(data||$this.data("bs.popover",data=new Popover(this,options)),"string"==typeof option&&data[option]())})},$.fn.popover.Constructor=Popover,$.fn.popover.noConflict=function(){return $.fn.popover=old,this}}(jQuery),+function($){"use strict";function ScrollSpy(element,options){var href,process=$.proxy(this.process,this);this.$element=$($(element).is("body")?window:element),this.$body=$("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",process),this.options=$.extend({},ScrollSpy.DEFAULTS,options),this.selector=(this.options.target||(href=$(element).attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=$([]),this.targets=$([]),this.activeTarget=null,this.refresh(),this.process()}ScrollSpy.DEFAULTS={offset:10},ScrollSpy.prototype.refresh=function(){var offsetMethod=this.$element[0]==window?"offset":"position";this.offsets=$([]),this.targets=$([]);{var self=this;this.$body.find(this.selector).map(function(){var $el=$(this),href=$el.data("target")||$el.attr("href"),$href=/^#./.test(href)&&$(href);return $href&&$href.length&&$href.is(":visible")&&[[$href[offsetMethod]().top+(!$.isWindow(self.$scrollElement.get(0))&&self.$scrollElement.scrollTop()),href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){self.offsets.push(this[0]),self.targets.push(this[1])})}},ScrollSpy.prototype.process=function(){var i,scrollTop=this.$scrollElement.scrollTop()+this.options.offset,scrollHeight=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,maxScroll=scrollHeight-this.$scrollElement.height(),offsets=this.offsets,targets=this.targets,activeTarget=this.activeTarget;if(scrollTop>=maxScroll)return activeTarget!=(i=targets.last()[0])&&this.activate(i);if(activeTarget&&scrollTop<=offsets[0])return activeTarget!=(i=targets[0])&&this.activate(i);for(i=offsets.length;i--;)activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(!offsets[i+1]||scrollTop<=offsets[i+1])&&this.activate(targets[i])},ScrollSpy.prototype.activate=function(target){this.activeTarget=target,$(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]',active=$(selector).parents("li").addClass("active");active.parent(".dropdown-menu").length&&(active=active.closest("li.dropdown").addClass("active")),active.trigger("activate.bs.scrollspy")};var old=$.fn.scrollspy;$.fn.scrollspy=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.scrollspy"),options="object"==typeof option&&option;data||$this.data("bs.scrollspy",data=new ScrollSpy(this,options)),"string"==typeof option&&data[option]()})},$.fn.scrollspy.Constructor=ScrollSpy,$.fn.scrollspy.noConflict=function(){return $.fn.scrollspy=old,this},$(window).on("load",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);$spy.scrollspy($spy.data())})})}(jQuery),+function($){"use strict";var Tab=function(element){this.element=$(element)};Tab.prototype.show=function(){var $this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.data("target");if(selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")),!$this.parent("li").hasClass("active")){var previous=$ul.find(".active:last a")[0],e=$.Event("show.bs.tab",{relatedTarget:previous});if($this.trigger(e),!e.isDefaultPrevented()){var $target=$(selector);this.activate($this.parent("li"),$ul),this.activate($target,$target.parent(),function(){$this.trigger({type:"shown.bs.tab",relatedTarget:previous})})}}},Tab.prototype.activate=function(element,container,callback){function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),element.addClass("active"),transition?(element[0].offsetWidth,element.addClass("in")):element.removeClass("fade"),element.parent(".dropdown-menu")&&element.closest("li.dropdown").addClass("active"),callback&&callback()}var $active=container.find("> .active"),transition=callback&&$.support.transition&&$active.hasClass("fade");transition?$active.one($.support.transition.end,next).emulateTransitionEnd(150):next(),$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tab");data||$this.data("bs.tab",data=new Tab(this)),"string"==typeof option&&data[option]()})},$.fn.tab.Constructor=Tab,$.fn.tab.noConflict=function(){return $.fn.tab=old,this},$(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),$(this).tab("show")})}(jQuery),+function($){"use strict";var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options),this.$window=$(window).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this)),this.$element=$(element),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};Affix.RESET="affix affix-top affix-bottom",Affix.DEFAULTS={offset:0},Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(Affix.RESET).addClass("affix");var scrollTop=this.$window.scrollTop(),position=this.$element.offset();return this.pinnedOffset=position.top-scrollTop},Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)},Affix.prototype.checkPosition=function(){if(this.$element.is(":visible")){var scrollHeight=$(document).height(),scrollTop=this.$window.scrollTop(),position=this.$element.offset(),offset=this.options.offset,offsetTop=offset.top,offsetBottom=offset.bottom;"top"==this.affixed&&(position.top+=scrollTop),"object"!=typeof offset&&(offsetBottom=offsetTop=offset),"function"==typeof offsetTop&&(offsetTop=offset.top(this.$element)),"function"==typeof offsetBottom&&(offsetBottom=offset.bottom(this.$element));var affix=null!=this.unpin&&scrollTop+this.unpin<=position.top?!1:null!=offsetBottom&&position.top+this.$element.height()>=scrollHeight-offsetBottom?"bottom":null!=offsetTop&&offsetTop>=scrollTop?"top":!1;if(this.affixed!==affix){this.unpin&&this.$element.css("top","");var affixType="affix"+(affix?"-"+affix:""),e=$.Event(affixType+".bs.affix");this.$element.trigger(e),e.isDefaultPrevented()||(this.affixed=affix,this.unpin="bottom"==affix?this.getPinnedOffset():null,this.$element.removeClass(Affix.RESET).addClass(affixType).trigger($.Event(affixType.replace("affix","affixed"))),"bottom"==affix&&this.$element.offset({top:scrollHeight-offsetBottom-this.$element.height()}))
}}};var old=$.fn.affix;$.fn.affix=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.affix"),options="object"==typeof option&&option;data||$this.data("bs.affix",data=new Affix(this,options)),"string"==typeof option&&data[option]()})},$.fn.affix.Constructor=Affix,$.fn.affix.noConflict=function(){return $.fn.affix=old,this},$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this),data=$spy.data();data.offset=data.offset||{},data.offsetBottom&&(data.offset.bottom=data.offsetBottom),data.offsetTop&&(data.offset.top=data.offsetTop),$spy.affix(data)})})}(jQuery),function(global){var config_svg=function(){return"undefined"!=typeof document?document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"):void 0}(),utils_create=function(){var create;try{Object.create(null),create=Object.create}catch(err){create=function(){var F=function(){};return function(proto,props){var obj;return null===proto?{}:(F.prototype=proto,obj=new F,props&&Object.defineProperties(obj,props),obj)}}()}return create}(),config_namespaces={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},utils_createElement=function(svg,namespaces){return svg?function(type,ns){return ns?document.createElementNS(ns,type):document.createElement(type)}:function(type,ns){if(ns&&ns!==namespaces.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See https://github.com/RactiveJS/Ractive/wiki/SVG-and-older-browsers for more information";return document.createElement(type)}}(config_svg,config_namespaces),config_isClient=function(){return"object"==typeof document?!0:!1}(),utils_defineProperty=function(isClient){try{return Object.defineProperty({},"test",{value:0}),isClient&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Object.defineProperty}catch(err){return function(obj,prop,desc){obj[prop]=desc.value}}}(config_isClient),utils_defineProperties=function(createElement,defineProperty,isClient){try{try{Object.defineProperties({},{test:{value:0}})}catch(err){throw err}return isClient&&Object.defineProperties(createElement("div"),{test:{value:0}}),Object.defineProperties}catch(err){return function(obj,props){var prop;for(prop in props)props.hasOwnProperty(prop)&&defineProperty(obj,prop,props[prop])}}}(utils_createElement,utils_defineProperty,config_isClient),utils_normaliseKeypath=function(){var regex=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(keypath){return(keypath||"").replace(regex,".$1")}}(),registries_adaptors={},config_types={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40},utils_isArray=function(){var toString=Object.prototype.toString;return function(thing){return"[object Array]"===toString.call(thing)}}(),shared_clearCache=function(){return function clearCache(ractive,keypath){var cacheMap,wrappedProperty;if((wrappedProperty=ractive._wrapped[keypath])&&wrappedProperty.teardown()!==!1&&(ractive._wrapped[keypath]=null),ractive._cache[keypath]=void 0,cacheMap=ractive._cacheMap[keypath])for(;cacheMap.length;)clearCache(ractive,cacheMap.pop())}}(),shared_getValueFromCheckboxes=function(){return function(ractive,keypath){var value,checkboxes,checkbox,len,i,rootEl;for(value=[],rootEl=ractive.rendered?ractive.el:ractive.fragment.docFrag,checkboxes=rootEl.querySelectorAll('input[type="checkbox"][name="{{'+keypath+'}}"]'),len=checkboxes.length,i=0;len>i;i+=1)checkbox=checkboxes[i],(checkbox.hasAttribute("checked")||checkbox.checked)&&(value[value.length]=checkbox._ractive.value);return value}}(),shared_preDomUpdate=function(getValueFromCheckboxes){return function(ractive){var deferred,evaluator,selectValue,attribute,keypath,radio;for(deferred=ractive._deferred;evaluator=deferred.evals.pop();)evaluator.update().deferred=!1;for(;selectValue=deferred.selectValues.pop();)selectValue.deferredUpdate();for(;attribute=deferred.attrs.pop();)attribute.update().deferred=!1;for(;keypath=deferred.checkboxes.pop();)ractive.set(keypath,getValueFromCheckboxes(ractive,keypath));for(;radio=deferred.radios.pop();)radio.update()}}(shared_getValueFromCheckboxes),shared_postDomUpdate=function(){return function(ractive){var deferred,focusable,query,decorator,transition,observer;for(deferred=ractive._deferred,(focusable=deferred.focusable)&&(focusable.focus(),deferred.focusable=null);query=deferred.liveQueries.pop();)query._sort();for(;decorator=deferred.decorators.pop();)decorator.init();for(;transition=deferred.transitions.pop();)transition.init();for(;observer=deferred.observers.pop();)observer.update()}}(),shared_makeTransitionManager=function(){var makeTransitionManager=function(root,callback){var transitionManager,elementsToDetach,detachNodes,nodeHasNoTransitioningChildren;return root._parent&&root._parent._transitionManager?root._parent._transitionManager:(elementsToDetach=[],detachNodes=function(){var i,element;for(i=elementsToDetach.length;i--;)element=elementsToDetach[i],nodeHasNoTransitioningChildren(element.node)&&(element.detach(),elementsToDetach.splice(i,1))},nodeHasNoTransitioningChildren=function(node){var i,candidate;for(i=transitionManager.active.length;i--;)if(candidate=transitionManager.active[i],node.contains(candidate))return!1;return!0},transitionManager={active:[],push:function(node){transitionManager.active[transitionManager.active.length]=node},pop:function(node){var index;index=transitionManager.active.indexOf(node),-1!==index&&(transitionManager.active.splice(index,1),detachNodes(),!transitionManager.active.length&&transitionManager._ready&&transitionManager.complete())},complete:function(){callback&&callback.call(root)},ready:function(){detachNodes(),transitionManager._ready=!0,transitionManager.active.length||transitionManager.complete()},detachWhenReady:function(element){elementsToDetach[elementsToDetach.length]=element}})};return makeTransitionManager}(),shared_notifyDependants=function(){function notifyDependantsAtPriority(ractive,keypath,priority,onlyDirect){var depsByKeypath=ractive._deps[priority];depsByKeypath&&(updateAll(depsByKeypath[keypath]),onlyDirect||cascade(ractive._depsMap[keypath],ractive,priority))}function updateAll(deps){var i,len;if(deps)for(len=deps.length,i=0;len>i;i+=1)deps[i].update()}function cascade(childDeps,ractive,priority,onlyDirect){var i;if(childDeps)for(i=childDeps.length;i--;)notifyDependantsAtPriority(ractive,childDeps[i],priority,onlyDirect)}function notifyPatternObservers(ractive,registeredKeypath,actualKeypath,isParentOfChangedKeypath,isTopLevelCall){var i,patternObserver,children,child,key,childActualKeypath,potentialWildcardMatches,cascade;for(i=ractive._patternObservers.length;i--;)patternObserver=ractive._patternObservers[i],patternObserver.regex.test(actualKeypath)&&patternObserver.update(actualKeypath);isParentOfChangedKeypath||(cascade=function(keypath){if(children=ractive._depsMap[keypath])for(i=children.length;i--;)child=children[i],key=lastKey.exec(child)[0],childActualKeypath=actualKeypath+"."+key,notifyPatternObservers(ractive,child,childActualKeypath)},isTopLevelCall?(potentialWildcardMatches=getPotentialWildcardMatches(actualKeypath),potentialWildcardMatches.forEach(cascade)):cascade(registeredKeypath))}function getPotentialWildcardMatches(keypath){var keys,starMap,mapper,i,result,wildcardKeypath;for(keys=keypath.split("."),starMap=getStarMap(keys.length),result=[],mapper=function(star,i){return star?"*":keys[i]},i=starMap.length;i--;)wildcardKeypath=starMap[i].map(mapper).join("."),result[wildcardKeypath]||(result[result.length]=wildcardKeypath,result[wildcardKeypath]=!0);return result}function getStarMap(num){var max,binary,starMap,mapper,i,ones="";if(!starMaps[num]){for(starMap=[];ones.length<num;)ones+=1;for(max=parseInt(ones,2),mapper=function(digit){return"1"===digit},i=0;max>=i;i+=1){for(binary=i.toString(2);binary.length<num;)binary="0"+binary;starMap[i]=Array.prototype.map.call(binary,mapper)}starMaps[num]=starMap}return starMaps[num]}var notifyDependants,lastKey,starMaps={};return lastKey=/[^\.]+$/,notifyDependants=function(ractive,keypath,onlyDirect){var i;for(ractive._patternObservers.length&&notifyPatternObservers(ractive,keypath,keypath,onlyDirect,!0),i=0;i<ractive._deps.length;i+=1)notifyDependantsAtPriority(ractive,keypath,i,onlyDirect)},notifyDependants.multiple=function(ractive,keypaths,onlyDirect){var i,j,len;if(len=keypaths.length,ractive._patternObservers.length)for(i=len;i--;)notifyPatternObservers(ractive,keypaths[i],keypaths[i],onlyDirect,!0);for(i=0;i<ractive._deps.length;i+=1)if(ractive._deps[i])for(j=len;j--;)notifyDependantsAtPriority(ractive,keypaths[j],i,onlyDirect)},notifyDependants}(),Ractive_prototype_get_arrayAdaptor=function(types,defineProperty,isArray,clearCache,preDomUpdate,postDomUpdate,makeTransitionManager,notifyDependants){var arrayAdaptor,notifyArrayDependants,ArrayWrapper,patchArrayMethods,unpatchArrayMethods,patchedArrayProto,testObj,mutatorMethods,noop,errorMessage;return arrayAdaptor={filter:function(object){return isArray(object)&&(!object._ractive||!object._ractive.setting)},wrap:function(ractive,array,keypath){return new ArrayWrapper(ractive,array,keypath)}},ArrayWrapper=function(ractive,array,keypath){this.root=ractive,this.value=array,this.keypath=keypath,array._ractive||(defineProperty(array,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),patchArrayMethods(array)),array._ractive.instances[ractive._guid]||(array._ractive.instances[ractive._guid]=0,array._ractive.instances.push(ractive)),array._ractive.instances[ractive._guid]+=1,array._ractive.wrappers.push(this)},ArrayWrapper.prototype={get:function(){return this.value},teardown:function(){var array,storage,wrappers,instances,index;if(array=this.value,storage=array._ractive,wrappers=storage.wrappers,instances=storage.instances,storage.setting)return!1;if(index=wrappers.indexOf(this),-1===index)throw new Error(errorMessage);if(wrappers.splice(index,1),wrappers.length){if(instances[this.root._guid]-=1,!instances[this.root._guid]){if(index=instances.indexOf(this.root),-1===index)throw new Error(errorMessage);instances.splice(index,1)}}else delete array._ractive,unpatchArrayMethods(this.value)}},notifyArrayDependants=function(array,methodName,args){var notifyKeypathDependants,queueDependants,wrappers,wrapper,i;for(notifyKeypathDependants=function(root,keypath){var depsByKeypath,deps,keys,upstreamQueue,smartUpdateQueue,dumbUpdateQueue,i,changed,start,end,childKeypath,lengthUnchanged;if("sort"===methodName||"reverse"===methodName)return void root.set(keypath,array);for(clearCache(root,keypath),smartUpdateQueue=[],dumbUpdateQueue=[],i=0;i<root._deps.length;i+=1)if(depsByKeypath=root._deps[i],depsByKeypath&&(deps=depsByKeypath[keypath])){for(queueDependants(keypath,deps,smartUpdateQueue,dumbUpdateQueue),preDomUpdate(root);smartUpdateQueue.length;)smartUpdateQueue.pop().smartUpdate(methodName,args);for(;dumbUpdateQueue.length;)dumbUpdateQueue.pop().update()}if("splice"===methodName&&args.length>2&&args[1])for(changed=Math.min(args[1],args.length-2),start=args[0],end=start+changed,args[1]===args.length-2&&(lengthUnchanged=!0),i=start;end>i;i+=1)childKeypath=keypath+"."+i,notifyDependants(root,childKeypath);for(preDomUpdate(root),upstreamQueue=[],keys=keypath.split(".");keys.length;)keys.pop(),upstreamQueue[upstreamQueue.length]=keys.join(".");notifyDependants.multiple(root,upstreamQueue,!0),lengthUnchanged||notifyDependants(root,keypath+".length",!0)},queueDependants=function(keypath,deps,smartUpdateQueue,dumbUpdateQueue){var k,dependant;for(k=deps.length;k--;)dependant=deps[k],dependant.type===types.REFERENCE?dependant.update():dependant.keypath===keypath&&dependant.type===types.SECTION&&!dependant.inverted&&dependant.docFrag?smartUpdateQueue[smartUpdateQueue.length]=dependant:dumbUpdateQueue[dumbUpdateQueue.length]=dependant},wrappers=array._ractive.wrappers,i=wrappers.length;i--;)wrapper=wrappers[i],notifyKeypathDependants(wrapper.root,wrapper.keypath)},patchedArrayProto=[],mutatorMethods=["pop","push","reverse","shift","sort","splice","unshift"],noop=function(){},mutatorMethods.forEach(function(methodName){var method=function(){var result,instances,instance,i,previousTransitionManagers={},transitionManagers={};for(result=Array.prototype[methodName].apply(this,arguments),instances=this._ractive.instances,i=instances.length;i--;)instance=instances[i],previousTransitionManagers[instance._guid]=instance._transitionManager,instance._transitionManager=transitionManagers[instance._guid]=makeTransitionManager(instance,noop);for(this._ractive.setting=!0,notifyArrayDependants(this,methodName,arguments),this._ractive.setting=!1,i=instances.length;i--;)instance=instances[i],instance._transitionManager=previousTransitionManagers[instance._guid],transitionManagers[instance._guid].ready(),preDomUpdate(instance),postDomUpdate(instance);return result};defineProperty(patchedArrayProto,methodName,{value:method})}),testObj={},testObj.__proto__?(patchArrayMethods=function(array){array.__proto__=patchedArrayProto},unpatchArrayMethods=function(array){array.__proto__=Array.prototype}):(patchArrayMethods=function(array){var i,methodName;for(i=mutatorMethods.length;i--;)methodName=mutatorMethods[i],defineProperty(array,methodName,{value:patchedArrayProto[methodName],configurable:!0})},unpatchArrayMethods=function(array){var i;for(i=mutatorMethods.length;i--;)delete array[mutatorMethods[i]]}),errorMessage="Something went wrong in a rather interesting way",arrayAdaptor}(config_types,utils_defineProperty,utils_isArray,shared_clearCache,shared_preDomUpdate,shared_postDomUpdate,shared_makeTransitionManager,shared_notifyDependants),Ractive_prototype_get_magicAdaptor=function(){var magicAdaptor,MagicWrapper;try{Object.defineProperty({},"test",{value:0})}catch(err){return!1}return magicAdaptor={filter:function(object,keypath){return!!keypath},wrap:function(ractive,object,keypath){return new MagicWrapper(ractive,object,keypath)}},MagicWrapper=function(ractive,object,keypath){var keys,prop,objKeypath,descriptor,wrappers,oldGet,oldSet,get,set,wrapper=this;if(this.ractive=ractive,this.keypath=keypath,keys=keypath.split("."),this.prop=keys.pop(),objKeypath=keys.join("."),this.obj=objKeypath?ractive.get(objKeypath):ractive.data,descriptor=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),descriptor&&descriptor.set&&(wrappers=descriptor.set._ractiveWrappers))return void(-1===wrappers.indexOf(this)&&wrappers.push(this));if(descriptor&&!descriptor.configurable)throw new Error('Cannot use magic mode with property "'+prop+'" - object is not configurable');descriptor&&(this.value=descriptor.value,oldGet=descriptor.get,oldSet=descriptor.set),get=oldGet||function(){return wrapper.value},set=function(value){var wrappers,wrapper,i;for(oldSet&&oldSet(value),wrappers=set._ractiveWrappers,i=wrappers.length;i--;)wrapper=wrappers[i],wrapper.resetting||wrapper.ractive.set(wrapper.keypath,value)},set._ractiveWrappers=[this],Object.defineProperty(this.obj,this.prop,{get:get,set:set,enumerable:!0,configurable:!0})},MagicWrapper.prototype={get:function(){return this.value},reset:function(value){this.resetting=!0,this.value=value,this.resetting=!1},teardown:function(){var descriptor,set,value,wrappers;descriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),set=descriptor.set,wrappers=set._ractiveWrappers,wrappers.splice(wrappers.indexOf(this),1),wrappers.length||(value=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configrable:!0}),this.obj[this.prop]=value)}},magicAdaptor}(),shared_adaptIfNecessary=function(adaptorRegistry,arrayAdaptor,magicAdaptor){function prefixKeypath(obj,prefix){var key,prefixed={};if(!prefix)return obj;prefix+=".";for(key in obj)obj.hasOwnProperty(key)&&(prefixed[prefix+key]=obj[key]);return prefixed}function getPrefixer(rootKeypath){var rootDot;return prefixers[rootKeypath]||(rootDot=rootKeypath?rootKeypath+".":"",prefixers[rootKeypath]=function(relativeKeypath,value){var obj;return"string"==typeof relativeKeypath?(obj={},obj[rootDot+relativeKeypath]=value,obj):"object"==typeof relativeKeypath?rootDot?prefixKeypath(relativeKeypath,rootKeypath):relativeKeypath:void 0}),prefixers[rootKeypath]}var prefixers={};return function(ractive,keypath,value,isExpressionResult){var len,i,adaptor,wrapped;for(len=ractive.adaptors.length,i=0;len>i;i+=1){if(adaptor=ractive.adaptors[i],"string"==typeof adaptor){if(!adaptorRegistry[adaptor])throw new Error('Missing adaptor "'+adaptor+'"');adaptor=ractive.adaptors[i]=adaptorRegistry[adaptor]}if(adaptor.filter(value,keypath,ractive))return wrapped=ractive._wrapped[keypath]=adaptor.wrap(ractive,value,keypath,getPrefixer(keypath)),void(wrapped.value=value)}isExpressionResult||(ractive.magic&&magicAdaptor.filter(value,keypath,ractive)?ractive._wrapped[keypath]=magicAdaptor.wrap(ractive,value,keypath):ractive.modifyArrays&&arrayAdaptor.filter(value,keypath,ractive)&&(ractive._wrapped[keypath]=arrayAdaptor.wrap(ractive,value,keypath)))}}(registries_adaptors,Ractive_prototype_get_arrayAdaptor,Ractive_prototype_get_magicAdaptor),Ractive_prototype_get__get=function(normaliseKeypath,adaptorRegistry,adaptIfNecessary){var get,_get,retrieve;return get=function(keypath){return this._captured&&!this._captured[keypath]&&(this._captured.push(keypath),this._captured[keypath]=!0),_get(this,keypath)},_get=function(ractive,keypath){var cache,cached,value,wrapped,evaluator;return keypath=normaliseKeypath(keypath),cache=ractive._cache,void 0!==(cached=cache[keypath])?cached:((wrapped=ractive._wrapped[keypath])?value=wrapped.value:keypath?value=(evaluator=ractive._evaluators[keypath])?evaluator.value:retrieve(ractive,keypath):(adaptIfNecessary(ractive,"",ractive.data),value=ractive.data),cache[keypath]=value,value)},retrieve=function(ractive,keypath){var keys,key,parentKeypath,parentValue,cacheMap,value,wrapped;return keys=keypath.split("."),key=keys.pop(),parentKeypath=keys.join("."),parentValue=_get(ractive,parentKeypath),(wrapped=ractive._wrapped[parentKeypath])&&(parentValue=wrapped.get()),null!==parentValue&&void 0!==parentValue?((cacheMap=ractive._cacheMap[parentKeypath])?-1===cacheMap.indexOf(keypath)&&(cacheMap[cacheMap.length]=keypath):ractive._cacheMap[parentKeypath]=[keypath],value=parentValue[key],adaptIfNecessary(ractive,keypath,value),ractive._cache[keypath]=value,value):void 0},get}(utils_normaliseKeypath,registries_adaptors,shared_adaptIfNecessary),utils_isObject=function(){var toString=Object.prototype.toString;return function(thing){return"object"==typeof thing&&"[object Object]"===toString.call(thing)}}(),utils_isEqual=function(){return function(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b}}(),shared_resolveRef=function(){var resolveRef;return resolveRef=function(ractive,ref,contextStack){var keypath,keys,lastKey,contextKeys,innerMostContext,postfix,parentKeypath,parentValue,wrapped,context,ancestorErrorMessage;if(ancestorErrorMessage='Could not resolve reference - too many "../" prefixes',"."===ref){if(!contextStack.length)return"";keypath=contextStack[contextStack.length-1]}else if("."===ref.charAt(0))if(context=contextStack[contextStack.length-1],contextKeys=context?context.split("."):[],"../"===ref.substr(0,3)){for(;"../"===ref.substr(0,3);){if(!contextKeys.length)throw new Error(ancestorErrorMessage);contextKeys.pop(),ref=ref.substring(3)}contextKeys.push(ref),keypath=contextKeys.join(".")}else keypath=context?context+ref:ref.substring(1);else{for(keys=ref.split("."),lastKey=keys.pop(),postfix=keys.length?"."+keys.join("."):"",contextStack=contextStack.concat();contextStack.length;)if(innerMostContext=contextStack.pop(),parentKeypath=innerMostContext+postfix,parentValue=ractive.get(parentKeypath),(wrapped=ractive._wrapped[parentKeypath])&&(parentValue=wrapped.get()),"object"==typeof parentValue&&null!==parentValue&&parentValue.hasOwnProperty(lastKey)){keypath=innerMostContext+"."+ref;break}keypath||void 0===ractive.get(ref)||(keypath=ref)}return keypath?keypath.replace(/^\./,""):keypath}}(),shared_attemptKeypathResolution=function(resolveRef){var push=Array.prototype.push;return function(ractive){for(var unresolved,keypath,leftover;unresolved=ractive._pendingResolution.pop();)keypath=resolveRef(ractive,unresolved.ref,unresolved.contextStack),void 0!==keypath?unresolved.resolve(keypath):(leftover||(leftover=[])).push(unresolved);leftover&&push.apply(ractive._pendingResolution,leftover)}}(shared_resolveRef),shared_processDeferredUpdates=function(preDomUpdate,postDomUpdate){return function(ractive){preDomUpdate(ractive),postDomUpdate(ractive)}}(shared_preDomUpdate,shared_postDomUpdate),Ractive_prototype_shared_replaceData=function(){return function(ractive,keypath,value){var keys,accumulated,wrapped,obj,key,currentKeypath,keypathToClear;for(keys=keypath.split("."),accumulated=[],(wrapped=ractive._wrapped[""])?(wrapped.set&&wrapped.set(keys.join("."),value),obj=wrapped.get()):obj=ractive.data;keys.length>1;)key=accumulated[accumulated.length]=keys.shift(),currentKeypath=accumulated.join("."),(wrapped=ractive._wrapped[currentKeypath])?(wrapped.set&&wrapped.set(keys.join("."),value),obj=wrapped.get()):(obj.hasOwnProperty(key)||(keypathToClear||(keypathToClear=currentKeypath),obj[key]=/^\s*[0-9]+\s*$/.test(keys[0])?[]:{}),obj=obj[key]);return key=keys[0],obj[key]=value,keypathToClear}}(),Ractive_prototype_set=function(isObject,isEqual,normaliseKeypath,clearCache,notifyDependants,attemptKeypathResolution,makeTransitionManager,processDeferredUpdates,replaceData){var set,updateModel,getUpstreamChanges,resetWrapped;return set=function(keypath,value,complete){var map,changes,upstreamChanges,previousTransitionManager,transitionManager,i,changeHash;if(changes=[],isObject(keypath)&&(map=keypath,complete=value),map)for(keypath in map)map.hasOwnProperty(keypath)&&(value=map[keypath],keypath=normaliseKeypath(keypath),updateModel(this,keypath,value,changes));else keypath=normaliseKeypath(keypath),updateModel(this,keypath,value,changes);if(changes.length){if(previousTransitionManager=this._transitionManager,this._transitionManager=transitionManager=makeTransitionManager(this,complete),upstreamChanges=getUpstreamChanges(changes),upstreamChanges.length&&notifyDependants.multiple(this,upstreamChanges,!0),notifyDependants.multiple(this,changes),this._pendingResolution.length&&attemptKeypathResolution(this),processDeferredUpdates(this),this._transitionManager=previousTransitionManager,transitionManager.ready(),!this.firingChangeEvent){for(this.firingChangeEvent=!0,changeHash={},i=changes.length;i--;)changeHash[changes[i]]=this.get(changes[i]);this.fire("change",changeHash),this.firingChangeEvent=!1}return this}},updateModel=function(ractive,keypath,value,changes){var cached,previous,wrapped,keypathToClear,evaluator;if(!(wrapped=ractive._wrapped[keypath])||!wrapped.reset||resetWrapped(ractive,keypath,value,wrapped,changes)===!1){if((evaluator=ractive._evaluators[keypath])&&(evaluator.value=value),cached=ractive._cache[keypath],previous=ractive.get(keypath),previous===value||evaluator){if(value===cached&&"object"!=typeof value)return}else keypathToClear=replaceData(ractive,keypath,value);clearCache(ractive,keypathToClear||keypath),changes[changes.length]=keypath}},getUpstreamChanges=function(changes){var i,keypath,keys,upstreamKeypath,upstreamChanges=[""];for(i=changes.length;i--;)for(keypath=changes[i],keys=keypath.split(".");keys.length>1;)keys.pop(),upstreamKeypath=keys.join("."),upstreamChanges[upstreamKeypath]||(upstreamChanges[upstreamChanges.length]=upstreamKeypath,upstreamChanges[upstreamKeypath]=!0);return upstreamChanges},resetWrapped=function(ractive,keypath,value,wrapped,changes){var previous,cached,cacheMap,i;if(previous=wrapped.get(),!isEqual(previous,value)&&wrapped.reset(value)===!1)return!1;if(value=wrapped.get(),cached=ractive._cache[keypath],!isEqual(cached,value)){if(ractive._cache[keypath]=value,cacheMap=ractive._cacheMap[keypath])for(i=cacheMap.length;i--;)clearCache(ractive,cacheMap[i]);changes[changes.length]=keypath}},set}(utils_isObject,utils_isEqual,utils_normaliseKeypath,shared_clearCache,shared_notifyDependants,shared_attemptKeypathResolution,shared_makeTransitionManager,shared_processDeferredUpdates,Ractive_prototype_shared_replaceData),Ractive_prototype_update=function(makeTransitionManager,attemptKeypathResolution,clearCache,notifyDependants,processDeferredUpdates){return function(keypath,complete){var transitionManager,previousTransitionManager;return"function"==typeof keypath&&(complete=keypath,keypath=""),previousTransitionManager=this._transitionManager,this._transitionManager=transitionManager=makeTransitionManager(this,complete),attemptKeypathResolution(this),clearCache(this,keypath||""),notifyDependants(this,keypath||""),processDeferredUpdates(this),this._transitionManager=previousTransitionManager,transitionManager.ready(),"string"==typeof keypath?this.fire("update",keypath):this.fire("update"),this}}(shared_makeTransitionManager,shared_attemptKeypathResolution,shared_clearCache,shared_notifyDependants,shared_processDeferredUpdates),utils_arrayContentsMatch=function(isArray){return function(a,b){var i;if(!isArray(a)||!isArray(b))return!1;if(a.length!==b.length)return!1;for(i=a.length;i--;)if(a[i]!==b[i])return!1;return!0}}(utils_isArray),Ractive_prototype_updateModel=function(getValueFromCheckboxes,arrayContentsMatch,isEqual){function consolidateChangedValues(ractive,keypath,values,deferredCheckboxes,cascade){var bindings,childDeps,i,binding,oldValue,newValue;if(bindings=ractive._twowayBindings[keypath])for(i=bindings.length;i--;)binding=bindings[i],(!binding.radioName||binding.node.checked)&&(binding.checkboxName?binding.changed()&&!deferredCheckboxes[keypath]&&(deferredCheckboxes[keypath]=!0,deferredCheckboxes[deferredCheckboxes.length]=keypath):(oldValue=binding.attr.value,newValue=binding.value(),arrayContentsMatch(oldValue,newValue)||isEqual(oldValue,newValue)||(values[keypath]=newValue)));if(cascade&&(childDeps=ractive._depsMap[keypath]))for(i=childDeps.length;i--;)consolidateChangedValues(ractive,childDeps[i],values,deferredCheckboxes,cascade)}return function(keypath,cascade){var values,deferredCheckboxes,i;if("string"!=typeof keypath&&(keypath="",cascade=!0),consolidateChangedValues(this,keypath,values={},deferredCheckboxes=[],cascade),i=deferredCheckboxes.length)for(;i--;)keypath=deferredCheckboxes[i],values[keypath]=getValueFromCheckboxes(this,keypath);this.set(values)}}(shared_getValueFromCheckboxes,utils_arrayContentsMatch,utils_isEqual),Ractive_prototype_animate_requestAnimationFrame=function(){return"undefined"!=typeof window?(function(vendors,lastTime,window){var x,setTimeout;if(!window.requestAnimationFrame){for(x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"];window.requestAnimationFrame||(setTimeout=window.setTimeout,window.requestAnimationFrame=function(callback){var currTime,timeToCall,id;return currTime=Date.now(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=setTimeout(function(){callback(currTime+timeToCall)},timeToCall),lastTime=currTime+timeToCall,id})}}(["ms","moz","webkit","o"],0,window),window.requestAnimationFrame):void 0}(),Ractive_prototype_animate_animations=function(rAF){var queue=[],animations={tick:function(){var i,animation;for(i=0;i<queue.length;i+=1)animation=queue[i],animation.tick()||queue.splice(i--,1);queue.length?rAF(animations.tick):animations.running=!1},add:function(animation){queue[queue.length]=animation,animations.running||(animations.running=!0,animations.tick())},abort:function(keypath,root){for(var animation,i=queue.length;i--;)animation=queue[i],animation.root===root&&animation.keypath===keypath&&animation.stop()}};return animations}(Ractive_prototype_animate_requestAnimationFrame),utils_warn=function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(){console.warn.apply(console,arguments)}:function(){}}(),utils_isNumeric=function(){return function(thing){return!isNaN(parseFloat(thing))&&isFinite(thing)}}(),shared_interpolate=function(isArray,isObject,isNumeric){function makeNumberInterpolator(from,to){var delta=to-from;return delta?function(t){return from+t*delta}:function(){return from}}function makeArrayInterpolator(from,to){var intermediate,interpolators,len,i;for(intermediate=[],interpolators=[],i=len=Math.min(from.length,to.length);i--;)interpolators[i]=interpolate(from[i],to[i]);for(i=len;i<from.length;i+=1)intermediate[i]=from[i];for(i=len;i<to.length;i+=1)intermediate[i]=to[i];return function(t){for(var i=len;i--;)intermediate[i]=interpolators[i](t);return intermediate}}function makeObjectInterpolator(from,to){var len,interpolators,intermediate,prop,properties=[];intermediate={},interpolators={};for(prop in from)from.hasOwnProperty(prop)&&(to.hasOwnProperty(prop)?(properties[properties.length]=prop,interpolators[prop]=interpolate(from[prop],to[prop])):intermediate[prop]=from[prop]);for(prop in to)to.hasOwnProperty(prop)&&!from.hasOwnProperty(prop)&&(intermediate[prop]=to[prop]);return len=properties.length,function(t){for(var prop,i=len;i--;)prop=properties[i],intermediate[prop]=interpolators[prop](t);return intermediate}}var interpolate=function(from,to){return isNumeric(from)&&isNumeric(to)?makeNumberInterpolator(+from,+to):isArray(from)&&isArray(to)?makeArrayInterpolator(from,to):isObject(from)&&isObject(to)?makeObjectInterpolator(from,to):function(){return to}};return interpolate}(utils_isArray,utils_isObject,utils_isNumeric),Ractive_prototype_animate_Animation=function(warn,interpolate){var Animation=function(options){var key;this.startTime=Date.now();for(key in options)options.hasOwnProperty(key)&&(this[key]=options[key]);this.interpolator=interpolate(this.from,this.to),this.running=!0};return Animation.prototype={tick:function(){var elapsed,t,value,timeNow,index,keypath;return keypath=this.keypath,this.running?(timeNow=Date.now(),elapsed=timeNow-this.startTime,elapsed>=this.duration?(null!==keypath&&this.root.set(keypath,this.to),this.step&&this.step(1,this.to),this.complete&&this.complete(1,this.to),index=this.root._animations.indexOf(this),-1===index&&warn("Animation was not found"),this.root._animations.splice(index,1),this.running=!1,!1):(t=this.easing?this.easing(elapsed/this.duration):elapsed/this.duration,null!==keypath&&(value=this.interpolator(t),this.root.set(keypath,value)),this.step&&this.step(t,value),!0)):!1},stop:function(){var index;this.running=!1,index=this.root._animations.indexOf(this),-1===index&&warn("Animation was not found"),this.root._animations.splice(index,1)}},Animation}(utils_warn,shared_interpolate),registries_easing=function(){return{linear:function(pos){return pos},easeIn:function(pos){return Math.pow(pos,3)},easeOut:function(pos){return Math.pow(pos-1,3)+1},easeInOut:function(pos){return(pos/=.5)<1?.5*Math.pow(pos,3):.5*(Math.pow(pos-2,3)+2)}}}(),Ractive_prototype_animate__animate=function(isEqual,animations,Animation,easingRegistry){function animate(root,keypath,to,options){var easing,duration,animation,from;return null!==keypath&&(from=root.get(keypath)),animations.abort(keypath,root),isEqual(from,to)?(options.complete&&options.complete(1,options.to),noAnimation):(options.easing&&(easing="function"==typeof options.easing?options.easing:root.easing&&root.easing[options.easing]?root.easing[options.easing]:easingRegistry[options.easing],"function"!=typeof easing&&(easing=null)),duration=void 0===options.duration?400:options.duration,animation=new Animation({keypath:keypath,from:from,to:to,root:root,duration:duration,easing:easing,step:options.step,complete:options.complete}),animations.add(animation),root._animations[root._animations.length]=animation,animation)
}var noAnimation={stop:function(){}};return function(keypath,to,options){var k,animation,animations,easing,duration,step,complete,makeValueCollector,currentValues,collectValue,dummy,dummyOptions;if("object"==typeof keypath){options=to||{},easing=options.easing,duration=options.duration,animations=[],step=options.step,complete=options.complete,(step||complete)&&(currentValues={},options.step=null,options.complete=null,makeValueCollector=function(keypath){return function(t,value){currentValues[keypath]=value}});for(k in keypath)keypath.hasOwnProperty(k)&&((step||complete)&&(collectValue=makeValueCollector(k),options={easing:easing,duration:duration},step&&(options.step=collectValue),complete&&(options.complete=collectValue)),animations[animations.length]=animate(this,k,keypath[k],options));return(step||complete)&&(dummyOptions={easing:easing,duration:duration},step&&(dummyOptions.step=function(t){step(t,currentValues)}),complete&&(dummyOptions.complete=function(t){complete(t,currentValues)}),animations[animations.length]=dummy=animate(this,null,null,dummyOptions)),{stop:function(){for(;animations.length;)animations.pop().stop();dummy&&dummy.stop()}}}return options=options||{},animation=animate(this,keypath,to,options),{stop:function(){animation.stop()}}}}(utils_isEqual,Ractive_prototype_animate_animations,Ractive_prototype_animate_Animation,registries_easing),Ractive_prototype_on=function(){return function(eventName,callback){var listeners,n,self=this;if("object"==typeof eventName){listeners=[];for(n in eventName)eventName.hasOwnProperty(n)&&(listeners[listeners.length]=this.on(n,eventName[n]));return{cancel:function(){for(;listeners.length;)listeners.pop().cancel()}}}return this._subs[eventName]?this._subs[eventName].push(callback):this._subs[eventName]=[callback],{cancel:function(){self.off(eventName,callback)}}}}(),Ractive_prototype_off=function(){return function(eventName,callback){var subscribers,index;if(!callback)if(eventName)this._subs[eventName]=[];else for(eventName in this._subs)delete this._subs[eventName];subscribers=this._subs[eventName],subscribers&&(index=subscribers.indexOf(callback),-1!==index&&subscribers.splice(index,1))}}(),shared_registerDependant=function(){return function(dependant){var depsByKeypath,deps,keys,parentKeypath,map,ractive,keypath,priority;if(ractive=dependant.root,keypath=dependant.keypath,priority=dependant.priority,depsByKeypath=ractive._deps[priority]||(ractive._deps[priority]={}),deps=depsByKeypath[keypath]||(depsByKeypath[keypath]=[]),deps[deps.length]=dependant,dependant.registered=!0,keypath)for(keys=keypath.split(".");keys.length;)keys.pop(),parentKeypath=keys.join("."),map=ractive._depsMap[parentKeypath]||(ractive._depsMap[parentKeypath]=[]),void 0===map[keypath]&&(map[keypath]=0,map[map.length]=keypath),map[keypath]+=1,keypath=parentKeypath}}(),shared_unregisterDependant=function(){return function(dependant){var deps,index,keys,parentKeypath,map,ractive,keypath,priority;if(ractive=dependant.root,keypath=dependant.keypath,priority=dependant.priority,deps=ractive._deps[priority][keypath],index=deps.indexOf(dependant),-1===index||!dependant.registered)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");if(deps.splice(index,1),dependant.registered=!1,keypath)for(keys=keypath.split(".");keys.length;)keys.pop(),parentKeypath=keys.join("."),map=ractive._depsMap[parentKeypath],map[keypath]-=1,map[keypath]||(map.splice(map.indexOf(keypath),1),map[keypath]=void 0),keypath=parentKeypath}}(),Ractive_prototype_observe_Observer=function(isEqual){var Observer=function(ractive,keypath,callback,options){var self=this;this.root=ractive,this.keypath=keypath,this.callback=callback,this.defer=options.defer,this.debug=options.debug,this.proxy={update:function(){self.reallyUpdate()}},this.priority=0,this.context=options&&options.context?options.context:ractive};return Observer.prototype={init:function(immediate){immediate!==!1?this.update():this.value=this.root.get(this.keypath)},update:function(){return this.defer&&this.ready?void this.root._deferred.observers.push(this.proxy):void this.reallyUpdate()},reallyUpdate:function(){var oldValue,newValue;if(oldValue=this.value,newValue=this.root.get(this.keypath),this.value=newValue,!this.updating){if(this.updating=!0,!isEqual(newValue,oldValue)||!this.ready)try{this.callback.call(this.context,newValue,oldValue,this.keypath)}catch(err){if(this.debug||this.root.debug)throw err}this.updating=!1}}},Observer}(utils_isEqual),Ractive_prototype_observe_getPattern=function(){return function(ractive,pattern){var keys,key,values,toGet,newToGet,expand,concatenate;for(keys=pattern.split("."),toGet=[],expand=function(keypath){var value,key;value=ractive._wrapped[keypath]?ractive._wrapped[keypath].get():ractive.get(keypath);for(key in value)newToGet.push(keypath+"."+key)},concatenate=function(keypath){return keypath+"."+key};key=keys.shift();)"*"===key?(newToGet=[],toGet.forEach(expand),toGet=newToGet):toGet[0]?toGet=toGet.map(concatenate):toGet[0]=key;return values={},toGet.forEach(function(keypath){values[keypath]=ractive.get(keypath)}),values}}(),Ractive_prototype_observe_PatternObserver=function(isEqual,getPattern){var PatternObserver,wildcard=/\*/;return PatternObserver=function(ractive,keypath,callback,options){this.root=ractive,this.callback=callback,this.defer=options.defer,this.debug=options.debug,this.keypath=keypath,this.regex=new RegExp("^"+keypath.replace(/\./g,"\\.").replace(/\*/g,"[^\\.]+")+"$"),this.values={},this.defer&&(this.proxies=[]),this.priority="pattern",this.context=options&&options.context?options.context:ractive},PatternObserver.prototype={init:function(immediate){var values,keypath;if(values=getPattern(this.root,this.keypath),immediate!==!1)for(keypath in values)values.hasOwnProperty(keypath)&&this.update(keypath);else this.values=values},update:function(keypath){var values;{if(!wildcard.test(keypath))return this.defer&&this.ready?void this.root._deferred.observers.push(this.getProxy(keypath)):void this.reallyUpdate(keypath);values=getPattern(this.root,keypath);for(keypath in values)values.hasOwnProperty(keypath)&&this.update(keypath)}},reallyUpdate:function(keypath){var value=this.root.get(keypath);if(this.updating)return void(this.values[keypath]=value);if(this.updating=!0,!isEqual(value,this.values[keypath])||!this.ready){try{this.callback.call(this.context,value,this.values[keypath],keypath)}catch(err){if(this.debug||this.root.debug)throw err}this.values[keypath]=value}this.updating=!1},getProxy:function(keypath){var self=this;return this.proxies[keypath]||(this.proxies[keypath]={update:function(){self.reallyUpdate(keypath)}}),this.proxies[keypath]}},PatternObserver}(utils_isEqual,Ractive_prototype_observe_getPattern),Ractive_prototype_observe_getObserverFacade=function(normaliseKeypath,registerDependant,unregisterDependant,Observer,PatternObserver){var wildcard=/\*/,emptyObject={};return function(ractive,keypath,callback,options){var observer,isPatternObserver;return keypath=normaliseKeypath(keypath),options=options||emptyObject,wildcard.test(keypath)?(observer=new PatternObserver(ractive,keypath,callback,options),ractive._patternObservers.push(observer),isPatternObserver=!0):observer=new Observer(ractive,keypath,callback,options),registerDependant(observer),observer.init(options.init),observer.ready=!0,{cancel:function(){var index;isPatternObserver&&(index=ractive._patternObservers.indexOf(observer),-1!==index&&ractive._patternObservers.splice(index,1)),unregisterDependant(observer)}}}}(utils_normaliseKeypath,shared_registerDependant,shared_unregisterDependant,Ractive_prototype_observe_Observer,Ractive_prototype_observe_PatternObserver),Ractive_prototype_observe__observe=function(isObject,getObserverFacade){return function(keypath,callback,options){var k,observers=[];if(isObject(keypath)){options=callback;for(k in keypath)keypath.hasOwnProperty(k)&&(callback=keypath[k],observers[observers.length]=getObserverFacade(this,k,callback,options));return{cancel:function(){for(;observers.length;)observers.pop().cancel()}}}return getObserverFacade(this,keypath,callback,options)}}(utils_isObject,Ractive_prototype_observe_getObserverFacade),Ractive_prototype_fire=function(){return function(eventName){var args,i,len,subscribers=this._subs[eventName];if(subscribers)for(args=Array.prototype.slice.call(arguments,1),i=0,len=subscribers.length;len>i;i+=1)subscribers[i].apply(this,args)}}(),Ractive_prototype_find=function(){return function(selector){return this.el?this.fragment.find(selector):null}}(),utils_matches=function(isClient,createElement){var div,methodNames,unprefixed,prefixed,vendors,i,j,makeFunction;if(isClient){for(div=createElement("div"),methodNames=["matches","matchesSelector"],vendors=["o","ms","moz","webkit"],makeFunction=function(methodName){return function(node,selector){return node[methodName](selector)}},i=methodNames.length;i--;){if(unprefixed=methodNames[i],div[unprefixed])return makeFunction(unprefixed);for(j=vendors.length;j--;)if(prefixed=vendors[i]+unprefixed.substr(0,1).toUpperCase()+unprefixed.substring(1),div[prefixed])return makeFunction(prefixed)}return function(node,selector){var nodes,i;for(nodes=(node.parentNode||node.document).querySelectorAll(selector),i=nodes.length;i--;)if(nodes[i]===node)return!0;return!1}}}(config_isClient,utils_createElement),Ractive_prototype_shared_makeQuery_test=function(matches){return function(item,noDirty){var itemMatches=this._isComponentQuery?!this.selector||item.name===this.selector:matches(item.node,this.selector);return itemMatches?(this.push(item.node||item.instance),noDirty||this._makeDirty(),!0):void 0}}(utils_matches),Ractive_prototype_shared_makeQuery_cancel=function(){return function(){var liveQueries,selector,index;liveQueries=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],selector=this.selector,index=liveQueries.indexOf(selector),-1!==index&&(liveQueries.splice(index,1),liveQueries[selector]=null)}}(),Ractive_prototype_shared_makeQuery_sortByItemPosition=function(){function getParent(item){var parentFragment;return(parentFragment=item.parentFragment)?parentFragment.owner:item.component&&(parentFragment=item.component.parentFragment)?parentFragment.owner:void 0}function getAncestry(item){var ancestry,ancestor;for(ancestry=[item],ancestor=getParent(item);ancestor;)ancestry.push(ancestor),ancestor=getParent(ancestor);return ancestry}return function(a,b){var ancestryA,ancestryB,oldestA,oldestB,mutualAncestor,indexA,indexB,fragments,fragmentA,fragmentB;for(ancestryA=getAncestry(a.component||a._ractive.proxy),ancestryB=getAncestry(b.component||b._ractive.proxy),oldestA=ancestryA[ancestryA.length-1],oldestB=ancestryB[ancestryB.length-1];oldestA&&oldestA===oldestB;)ancestryA.pop(),ancestryB.pop(),mutualAncestor=oldestA,oldestA=ancestryA[ancestryA.length-1],oldestB=ancestryB[ancestryB.length-1];if(oldestA=oldestA.component||oldestA,oldestB=oldestB.component||oldestB,fragmentA=oldestA.parentFragment,fragmentB=oldestB.parentFragment,fragmentA===fragmentB)return indexA=fragmentA.items.indexOf(oldestA),indexB=fragmentB.items.indexOf(oldestB),indexA-indexB||ancestryA.length-ancestryB.length;if(fragments=mutualAncestor.fragments)return indexA=fragments.indexOf(fragmentA),indexB=fragments.indexOf(fragmentB),indexA-indexB||ancestryA.length-ancestryB.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}(),Ractive_prototype_shared_makeQuery_sortByDocumentPosition=function(sortByItemPosition){return function(node,otherNode){var bitmask;return node.compareDocumentPosition?(bitmask=node.compareDocumentPosition(otherNode),2&bitmask?1:-1):sortByItemPosition(node,otherNode)}}(Ractive_prototype_shared_makeQuery_sortByItemPosition),Ractive_prototype_shared_makeQuery_sort=function(sortByDocumentPosition,sortByItemPosition){return function(){this.sort(this._isComponentQuery?sortByItemPosition:sortByDocumentPosition),this._dirty=!1}}(Ractive_prototype_shared_makeQuery_sortByDocumentPosition,Ractive_prototype_shared_makeQuery_sortByItemPosition),Ractive_prototype_shared_makeQuery_dirty=function(){return function(){this._dirty||(this._root._deferred.liveQueries.push(this),this._dirty=!0)}}(),Ractive_prototype_shared_makeQuery_remove=function(){return function(item){var index=this.indexOf(this._isComponentQuery?item.instance:item.node);-1!==index&&this.splice(index,1)}}(),Ractive_prototype_shared_makeQuery__makeQuery=function(defineProperties,test,cancel,sort,dirty,remove){return function(ractive,selector,live,isComponentQuery){var query;return query=[],defineProperties(query,{selector:{value:selector},live:{value:live},_isComponentQuery:{value:isComponentQuery},_test:{value:test}}),live?(defineProperties(query,{cancel:{value:cancel},_root:{value:ractive},_sort:{value:sort},_makeDirty:{value:dirty},_remove:{value:remove},_dirty:{value:!1,writable:!0}}),query):query}}(utils_defineProperties,Ractive_prototype_shared_makeQuery_test,Ractive_prototype_shared_makeQuery_cancel,Ractive_prototype_shared_makeQuery_sort,Ractive_prototype_shared_makeQuery_dirty,Ractive_prototype_shared_makeQuery_remove),Ractive_prototype_findAll=function(warn,matches,defineProperties,makeQuery){return function(selector,options){var liveQueries,query;return this.el?(options=options||{},liveQueries=this._liveQueries,(query=liveQueries[selector])?options&&options.live?query:query.slice():(query=makeQuery(this,selector,!!options.live,!1),query.live&&(liveQueries.push(selector),liveQueries[selector]=query),this.fragment.findAll(selector,query),query)):[]}}(utils_warn,utils_matches,utils_defineProperties,Ractive_prototype_shared_makeQuery__makeQuery),Ractive_prototype_findComponent=function(){return function(selector){return this.fragment.findComponent(selector)}}(),Ractive_prototype_findAllComponents=function(warn,matches,defineProperties,makeQuery){return function(selector,options){var liveQueries,query;return options=options||{},liveQueries=this._liveComponentQueries,(query=liveQueries[selector])?options&&options.live?query:query.slice():(query=makeQuery(this,selector,!!options.live,!0),query.live&&(liveQueries.push(selector),liveQueries[selector]=query),this.fragment.findAllComponents(selector,query),query)}}(utils_warn,utils_matches,utils_defineProperties,Ractive_prototype_shared_makeQuery__makeQuery),utils_getElement=function(){return function(input){var output;return"undefined"!=typeof window&&document&&input?input.nodeType?input:"string"==typeof input&&(output=document.getElementById(input),!output&&document.querySelector&&(output=document.querySelector(input)),output&&output.nodeType)?output:input[0]&&input[0].nodeType?input[0]:null:null}}(),render_shared_initFragment=function(types,create){return function(fragment,options){var numItems,i,parentFragment,parentRefs,ref;if(fragment.owner=options.owner,parentFragment=fragment.owner.parentFragment,fragment.root=options.root,fragment.pNode=options.pNode,fragment.contextStack=options.contextStack||[],fragment.owner.type===types.SECTION&&(fragment.index=options.index),parentFragment&&(parentRefs=parentFragment.indexRefs)){fragment.indexRefs=create(null);for(ref in parentRefs)fragment.indexRefs[ref]=parentRefs[ref]}for(fragment.priority=parentFragment?parentFragment.priority+1:1,options.indexRef&&(fragment.indexRefs||(fragment.indexRefs={}),fragment.indexRefs[options.indexRef]=options.index),fragment.items=[],numItems=options.descriptor?options.descriptor.length:0,i=0;numItems>i;i+=1)fragment.items[fragment.items.length]=fragment.createItem({parentFragment:fragment,descriptor:options.descriptor[i],index:i})}}(config_types,utils_create),render_DomFragment_shared_insertHtml=function(createElement){var elementCache={};return function(html,tagName,docFrag){var container,nodes=[];if(html)for(container=elementCache[tagName]||(elementCache[tagName]=createElement(tagName)),container.innerHTML=html;container.firstChild;)nodes[nodes.length]=container.firstChild,docFrag.appendChild(container.firstChild);return nodes}}(utils_createElement),render_DomFragment_Text=function(types){var DomText,lessThan,greaterThan;return lessThan=/</g,greaterThan=/>/g,DomText=function(options,docFrag){this.type=types.TEXT,this.descriptor=options.descriptor,docFrag&&(this.node=document.createTextNode(options.descriptor),docFrag.appendChild(this.node))},DomText.prototype={detach:function(){return this.node.parentNode.removeChild(this.node),this.node},teardown:function(destroy){destroy&&this.detach()},firstNode:function(){return this.node},toString:function(){return(""+this.descriptor).replace(lessThan,"&lt;").replace(greaterThan,"&gt;")}},DomText}(config_types),shared_teardown=function(unregisterDependant){return function(thing){if(thing.keypath)unregisterDependant(thing);else{var index=thing.root._pendingResolution.indexOf(thing);-1!==index&&thing.root._pendingResolution.splice(index,1)}}}(shared_unregisterDependant),render_shared_Evaluator_Reference=function(types,isEqual,defineProperty,registerDependant,unregisterDependant){function wrapFunction(fn,ractive,evaluator){var prop,evaluators,index;if(!thisPattern.test(fn.toString()))return defineProperty(fn,"_nowrap",{value:!0}),fn;if(!fn["_"+ractive._guid]){defineProperty(fn,"_"+ractive._guid,{value:function(){var originalCaptured,result,i,evaluator;if(originalCaptured=ractive._captured,originalCaptured||(ractive._captured=[]),result=fn.apply(ractive,arguments),ractive._captured.length)for(i=evaluators.length;i--;)evaluator=evaluators[i],evaluator.updateSoftDependencies(ractive._captured);return ractive._captured=originalCaptured,result},writable:!0});for(prop in fn)fn.hasOwnProperty(prop)&&(fn["_"+ractive._guid][prop]=fn[prop]);fn["_"+ractive._guid+"_evaluators"]=[]}return evaluators=fn["_"+ractive._guid+"_evaluators"],index=evaluators.indexOf(evaluator),-1===index&&evaluators.push(evaluator),fn["_"+ractive._guid]}var Reference,thisPattern;return thisPattern=/this/,Reference=function(root,keypath,evaluator,argNum,priority){var value;this.evaluator=evaluator,this.keypath=keypath,this.root=root,this.argNum=argNum,this.type=types.REFERENCE,this.priority=priority,value=root.get(keypath),"function"==typeof value&&(value=wrapFunction(value,root,evaluator)),this.value=evaluator.values[argNum]=value,registerDependant(this)},Reference.prototype={update:function(){var value=this.root.get(this.keypath);"function"!=typeof value||value._nowrap||(value=wrapFunction(value,this.root,this.evaluator)),isEqual(value,this.value)||(this.evaluator.values[this.argNum]=value,this.evaluator.bubble(),this.value=value)},teardown:function(){unregisterDependant(this)}},Reference}(config_types,utils_isEqual,utils_defineProperty,shared_registerDependant,shared_unregisterDependant),render_shared_Evaluator_SoftReference=function(isEqual,registerDependant,unregisterDependant){var SoftReference=function(root,keypath,evaluator){this.root=root,this.keypath=keypath,this.priority=evaluator.priority,this.evaluator=evaluator,registerDependant(this)};return SoftReference.prototype={update:function(){var value=this.root.get(this.keypath);isEqual(value,this.value)||(this.evaluator.bubble(),this.value=value)},teardown:function(){unregisterDependant(this)}},SoftReference}(utils_isEqual,shared_registerDependant,shared_unregisterDependant),render_shared_Evaluator__Evaluator=function(isEqual,defineProperty,clearCache,notifyDependants,registerDependant,unregisterDependant,adaptIfNecessary,Reference,SoftReference){function getFunctionFromString(str,i){var fn,args;if(str=str.replace(/\$\{([0-9]+)\}/g,"_$1"),cache[str])return cache[str];for(args=[];i--;)args[i]="_"+i;return fn=new Function(args.join(","),"return("+str+")"),cache[str]=fn,fn}var Evaluator,cache={};return Evaluator=function(root,keypath,functionStr,args,priority){var i,arg;for(this.root=root,this.keypath=keypath,this.priority=priority,this.fn=getFunctionFromString(functionStr,args.length),this.values=[],this.refs=[],i=args.length;i--;)(arg=args[i])?arg[0]?this.values[i]=arg[1]:this.refs[this.refs.length]=new Reference(root,arg[1],this,i,priority):this.values[i]=void 0;this.selfUpdating=this.refs.length<=1,this.update()},Evaluator.prototype={bubble:function(){this.selfUpdating?this.update():this.deferred||(this.root._deferred.evals.push(this),this.deferred=!0)},update:function(){var value;if(this.evaluating)return this;this.evaluating=!0;try{value=this.fn.apply(null,this.values)}catch(err){if(this.root.debug)throw err;value=void 0}return isEqual(value,this.value)||(clearCache(this.root,this.keypath),this.root._cache[this.keypath]=value,adaptIfNecessary(this.root,this.keypath,value,!0),this.value=value,notifyDependants(this.root,this.keypath)),this.evaluating=!1,this},teardown:function(){for(;this.refs.length;)this.refs.pop().teardown();clearCache(this.root,this.keypath),this.root._evaluators[this.keypath]=null},refresh:function(){this.selfUpdating||(this.deferred=!0);for(var i=this.refs.length;i--;)this.refs[i].update();this.deferred&&(this.update(),this.deferred=!1)},updateSoftDependencies:function(softDeps){var i,keypath,ref;for(this.softRefs||(this.softRefs=[]),i=this.softRefs.length;i--;)ref=this.softRefs[i],softDeps[ref.keypath]||(this.softRefs.splice(i,1),this.softRefs[ref.keypath]=!1,ref.teardown());for(i=softDeps.length;i--;)keypath=softDeps[i],this.softRefs[keypath]||(ref=new SoftReference(this.root,keypath,this),this.softRefs[this.softRefs.length]=ref,this.softRefs[keypath]=!0);this.selfUpdating=this.refs.length+this.softRefs.length<=1}},Evaluator}(utils_isEqual,utils_defineProperty,shared_clearCache,shared_notifyDependants,shared_registerDependant,shared_unregisterDependant,shared_adaptIfNecessary,render_shared_Evaluator_Reference,render_shared_Evaluator_SoftReference),render_shared_ExpressionResolver_ReferenceScout=function(resolveRef,teardown){var ReferenceScout=function(resolver,ref,contextStack,argNum){var keypath,root;root=this.root=resolver.root,keypath=resolveRef(root,ref,contextStack),void 0!==keypath?resolver.resolveRef(argNum,!1,keypath):(this.ref=ref,this.argNum=argNum,this.resolver=resolver,this.contextStack=contextStack,root._pendingResolution[root._pendingResolution.length]=this)};return ReferenceScout.prototype={resolve:function(keypath){this.keypath=keypath,this.resolver.resolveRef(this.argNum,!1,keypath)},teardown:function(){this.keypath||teardown(this)}},ReferenceScout}(shared_resolveRef,shared_teardown),render_shared_ExpressionResolver_isRegularKeypath=function(){var keyPattern=/^(?:(?:[a-zA-Z$_][a-zA-Z$_0-9]*)|(?:[0-9]|[1-9][0-9]+))$/;return function(keypath){var keys,key,i;for(keys=keypath.split("."),i=keys.length;i--;)if(key=keys[i],"undefined"===key||!keyPattern.test(key))return!1;return!0}}(),render_shared_ExpressionResolver_getKeypath=function(normaliseKeypath,isRegularKeypath){return function(str,args){var unique,normalised;return unique=str.replace(/\$\{([0-9]+)\}/g,function(match,$1){return args[$1]?args[$1][1]:"undefined"}),normalised=normaliseKeypath(unique),isRegularKeypath(normalised)?normalised:"${"+unique.replace(/[\.\[\]]/g,"-")+"}"}}(utils_normaliseKeypath,render_shared_ExpressionResolver_isRegularKeypath),render_shared_ExpressionResolver_reassignDependants=function(registerDependant,unregisterDependant){function cascade(ractive,oldKeypath,toReassign){var map,i;if(map=ractive._depsMap[oldKeypath])for(i=map.length;i--;)gatherDependants(ractive,map[i],toReassign)}function gatherDependants(ractive,oldKeypath,toReassign){var priority,dependantsByKeypath,dependants,i;for(priority=ractive._deps.length;priority--;)if(dependantsByKeypath=ractive._deps[priority],dependantsByKeypath&&(dependants=dependantsByKeypath[oldKeypath]))for(i=dependants.length;i--;)toReassign.push(dependants[i]);cascade(ractive,oldKeypath,toReassign)}return function(ractive,oldKeypath,newKeypath){var toReassign,i,dependant;for(toReassign=[],gatherDependants(ractive,oldKeypath,toReassign),i=toReassign.length;i--;)dependant=toReassign[i],unregisterDependant(dependant),dependant.keypath=dependant.keypath.replace(oldKeypath,newKeypath),registerDependant(dependant),dependant.update()}}(shared_registerDependant,shared_unregisterDependant),render_shared_ExpressionResolver__ExpressionResolver=function(Evaluator,ReferenceScout,getKeypath,reassignDependants){var ExpressionResolver=function(mustache){var expression,i,len,ref,indexRefs;if(this.root=mustache.root,this.mustache=mustache,this.args=[],this.scouts=[],expression=mustache.descriptor.x,indexRefs=mustache.parentFragment.indexRefs,this.str=expression.s,len=this.unresolved=this.args.length=expression.r?expression.r.length:0,!len)return this.resolved=this.ready=!0,void this.bubble();for(i=0;len>i;i+=1)ref=expression.r[i],indexRefs&&void 0!==indexRefs[ref]?this.resolveRef(i,!0,indexRefs[ref]):this.scouts[this.scouts.length]=new ReferenceScout(this,ref,mustache.contextStack,i);this.ready=!0,this.bubble()};return ExpressionResolver.prototype={bubble:function(){var oldKeypath;this.ready&&(oldKeypath=this.keypath,this.keypath=getKeypath(this.str,this.args),"${"===this.keypath.substr(0,2)&&this.createEvaluator(),oldKeypath?reassignDependants(this.root,oldKeypath,this.keypath):this.mustache.resolve(this.keypath))},teardown:function(){for(;this.scouts.length;)this.scouts.pop().teardown()},resolveRef:function(argNum,isIndexRef,value){this.args[argNum]=[isIndexRef,value],this.bubble(),this.resolved=!--this.unresolved},createEvaluator:function(){this.root._evaluators[this.keypath]?this.root._evaluators[this.keypath].refresh():this.root._evaluators[this.keypath]=new Evaluator(this.root,this.keypath,this.str,this.args,this.mustache.priority)}},ExpressionResolver}(render_shared_Evaluator__Evaluator,render_shared_ExpressionResolver_ReferenceScout,render_shared_ExpressionResolver_getKeypath,render_shared_ExpressionResolver_reassignDependants),render_shared_initMustache=function(resolveRef,ExpressionResolver){return function(mustache,options){var keypath,indexRef,parentFragment;parentFragment=mustache.parentFragment=options.parentFragment,mustache.root=parentFragment.root,mustache.contextStack=parentFragment.contextStack,mustache.descriptor=options.descriptor,mustache.index=options.index||0,mustache.priority=parentFragment.priority,mustache.type=options.descriptor.t,options.descriptor.r&&(parentFragment.indexRefs&&void 0!==parentFragment.indexRefs[options.descriptor.r]?(indexRef=parentFragment.indexRefs[options.descriptor.r],mustache.indexRef=options.descriptor.r,mustache.value=indexRef,mustache.render(mustache.value)):(keypath=resolveRef(mustache.root,options.descriptor.r,mustache.contextStack),void 0!==keypath?mustache.resolve(keypath):(mustache.ref=options.descriptor.r,mustache.root._pendingResolution[mustache.root._pendingResolution.length]=mustache))),options.descriptor.x&&(mustache.expressionResolver=new ExpressionResolver(mustache)),mustache.descriptor.n&&!mustache.hasOwnProperty("value")&&mustache.render(void 0)}}(shared_resolveRef,render_shared_ExpressionResolver__ExpressionResolver),render_shared_resolveMustache=function(types,registerDependant,unregisterDependant){return function(keypath){keypath!==this.keypath&&(this.registered&&unregisterDependant(this),this.keypath=keypath,registerDependant(this),this.update(),this.root.twoway&&this.parentFragment.owner.type===types.ATTRIBUTE&&this.parentFragment.owner.element.bind(),this.expressionResolver&&this.expressionResolver.resolved&&(this.expressionResolver=null))}}(config_types,shared_registerDependant,shared_unregisterDependant),render_shared_updateMustache=function(isEqual){return function(){var wrapped,value;value=this.root.get(this.keypath),(wrapped=this.root._wrapped[this.keypath])&&(value=wrapped.get()),isEqual(value,this.value)||(this.render(value),this.value=value)}}(utils_isEqual),render_DomFragment_Interpolator=function(types,teardown,initMustache,resolveMustache,updateMustache){var DomInterpolator,lessThan,greaterThan;return lessThan=/</g,greaterThan=/>/g,DomInterpolator=function(options,docFrag){this.type=types.INTERPOLATOR,docFrag&&(this.node=document.createTextNode(""),docFrag.appendChild(this.node)),initMustache(this,options)},DomInterpolator.prototype={update:updateMustache,resolve:resolveMustache,detach:function(){return this.node.parentNode.removeChild(this.node),this.node},teardown:function(destroy){destroy&&this.detach(),teardown(this)},render:function(value){this.node&&(this.node.data=void 0==value?"":value)},firstNode:function(){return this.node},toString:function(){var value=void 0!=this.value?""+this.value:"";return value.replace(lessThan,"&lt;").replace(greaterThan,"&gt;")}},DomInterpolator}(config_types,shared_teardown,render_shared_initMustache,render_shared_resolveMustache,render_shared_updateMustache),render_shared_updateSection=function(isArray,isObject,create){function updateListSection(section,value,fragmentOptions){var i,length,fragmentsToRemove;if(length=value.length,length<section.length)for(fragmentsToRemove=section.fragments.splice(length,section.length-length);fragmentsToRemove.length;)fragmentsToRemove.pop().teardown(!0);else if(length>section.length)for(i=section.length;length>i;i+=1)fragmentOptions.contextStack=section.contextStack.concat(section.keypath+"."+i),fragmentOptions.index=i,section.descriptor.i&&(fragmentOptions.indexRef=section.descriptor.i),section.fragments[i]=section.createFragment(fragmentOptions);section.length=length}function updateListObjectSection(section,value,fragmentOptions){var id,fragmentsById;fragmentsById=section.fragmentsById||(section.fragmentsById=create(null));for(id in fragmentsById)void 0===value[id]&&fragmentsById[id]&&(fragmentsById[id].teardown(!0),fragmentsById[id]=null);for(id in value)void 0===value[id]||fragmentsById[id]||(fragmentOptions.contextStack=section.contextStack.concat(section.keypath+"."+id),fragmentOptions.index=id,section.descriptor.i&&(fragmentOptions.indexRef=section.descriptor.i),fragmentsById[id]=section.createFragment(fragmentOptions))}function updateContextSection(section,fragmentOptions){section.length||(fragmentOptions.contextStack=section.contextStack.concat(section.keypath),fragmentOptions.index=0,section.fragments[0]=section.createFragment(fragmentOptions),section.length=1)}function updateConditionalSection(section,value,inverted,fragmentOptions){var doRender,emptyArray,fragmentsToRemove,fragment;if(emptyArray=isArray(value)&&0===value.length,doRender=inverted?emptyArray||!value:value&&!emptyArray){if(section.length||(fragmentOptions.contextStack=section.contextStack,fragmentOptions.index=0,section.fragments[0]=section.createFragment(fragmentOptions),section.length=1),section.length>1)for(fragmentsToRemove=section.fragments.splice(1);fragment=fragmentsToRemove.pop();)fragment.teardown(!0)}else section.length&&(section.teardownFragments(!0),section.length=0)}return function(section,value){var fragmentOptions;return fragmentOptions={descriptor:section.descriptor.f,root:section.root,pNode:section.parentFragment.pNode,owner:section},section.descriptor.n?void updateConditionalSection(section,value,!0,fragmentOptions):void(isArray(value)?updateListSection(section,value,fragmentOptions):isObject(value)?section.descriptor.i?updateListObjectSection(section,value,fragmentOptions):updateContextSection(section,fragmentOptions):updateConditionalSection(section,value,!1,fragmentOptions))}}(utils_isArray,utils_isObject,utils_create),render_DomFragment_Section_reassignFragment=function(types,unregisterDependant,ExpressionResolver){function reassignFragment(fragment,indexRef,oldIndex,newIndex,by,oldKeypath,newKeypath){var i,item,context,query;if(!fragment.html){for(fragment.indexRefs&&void 0!==fragment.indexRefs[indexRef]&&(fragment.indexRefs[indexRef]=newIndex),i=fragment.contextStack.length;i--;)context=fragment.contextStack[i],context.substr(0,oldKeypath.length)===oldKeypath&&(fragment.contextStack[i]=context.replace(oldKeypath,newKeypath));
for(i=fragment.items.length;i--;)switch(item=fragment.items[i],item.type){case types.ELEMENT:reassignElement(item,indexRef,oldIndex,newIndex,by,oldKeypath,newKeypath);break;case types.PARTIAL:reassignFragment(item.fragment,indexRef,oldIndex,newIndex,by,oldKeypath,newKeypath);break;case types.COMPONENT:reassignFragment(item.instance.fragment,indexRef,oldIndex,newIndex,by,oldKeypath,newKeypath),(query=fragment.root._liveComponentQueries[item.name])&&query._makeDirty();break;case types.SECTION:case types.INTERPOLATOR:case types.TRIPLE:reassignMustache(item,indexRef,oldIndex,newIndex,by,oldKeypath,newKeypath)}}}function reassignElement(element,indexRef,oldIndex,newIndex,by,oldKeypath,newKeypath){var i,attribute,storage,masterEventName,proxies,proxy,binding,bindings,liveQueries,ractive;for(i=element.attributes.length;i--;)attribute=element.attributes[i],attribute.fragment&&(reassignFragment(attribute.fragment,indexRef,oldIndex,newIndex,by,oldKeypath,newKeypath),attribute.twoway&&attribute.updateBindings());if(storage=element.node._ractive){storage.keypath.substr(0,oldKeypath.length)===oldKeypath&&(storage.keypath=storage.keypath.replace(oldKeypath,newKeypath)),void 0!==indexRef&&(storage.index[indexRef]=newIndex);for(masterEventName in storage.events)for(proxies=storage.events[masterEventName].proxies,i=proxies.length;i--;)proxy=proxies[i],"object"==typeof proxy.n&&reassignFragment(proxy.a,indexRef,oldIndex,newIndex,by,oldKeypath,newKeypath),proxy.d&&reassignFragment(proxy.d,indexRef,oldIndex,newIndex,by,oldKeypath,newKeypath);(binding=storage.binding)&&binding.keypath.substr(0,oldKeypath.length)===oldKeypath&&(bindings=storage.root._twowayBindings[binding.keypath],bindings.splice(bindings.indexOf(binding),1),binding.keypath=binding.keypath.replace(oldKeypath,newKeypath),bindings=storage.root._twowayBindings[binding.keypath]||(storage.root._twowayBindings[binding.keypath]=[]),bindings.push(binding))}if(element.fragment&&reassignFragment(element.fragment,indexRef,oldIndex,newIndex,by,oldKeypath,newKeypath),liveQueries=element.liveQueries)for(ractive=element.root,i=liveQueries.length;i--;)ractive._liveQueries[liveQueries[i]]._makeDirty()}function reassignMustache(mustache,indexRef,oldIndex,newIndex,by,oldKeypath,newKeypath){var i;if(mustache.descriptor.x&&(mustache.expressionResolver&&mustache.expressionResolver.teardown(),mustache.expressionResolver=new ExpressionResolver(mustache)),mustache.keypath?mustache.keypath.substr(0,oldKeypath.length)===oldKeypath&&mustache.resolve(mustache.keypath.replace(oldKeypath,newKeypath)):mustache.indexRef===indexRef&&(mustache.value=newIndex,mustache.render(newIndex)),mustache.fragments)for(i=mustache.fragments.length;i--;)reassignFragment(mustache.fragments[i],indexRef,oldIndex,newIndex,by,oldKeypath,newKeypath)}return reassignFragment}(config_types,shared_unregisterDependant,render_shared_ExpressionResolver__ExpressionResolver),render_DomFragment_Section_reassignFragments=function(types,reassignFragment,preDomUpdate){return function(root,section,start,end,by){var i,fragment,indexRef,oldIndex,newIndex,oldKeypath,newKeypath;for(indexRef=section.descriptor.i,i=start;end>i;i+=1)fragment=section.fragments[i],oldIndex=i-by,newIndex=i,oldKeypath=section.keypath+"."+(i-by),newKeypath=section.keypath+"."+i,fragment.index+=by,reassignFragment(fragment,indexRef,oldIndex,newIndex,by,oldKeypath,newKeypath);preDomUpdate(root)}}(config_types,render_DomFragment_Section_reassignFragment,shared_preDomUpdate),render_DomFragment_Section_prototype_merge=function(reassignFragment){return function(newIndices){var parentFragment,firstChange,changed,i,newLength,newFragments,toTeardown,fragmentOptions,fragment,nextNode,section=this;if(parentFragment=this.parentFragment,newFragments=[],newIndices.forEach(function(newIndex,oldIndex){var by,oldKeypath,newKeypath;return newIndex===oldIndex?void(newFragments[newIndex]=section.fragments[oldIndex]):(void 0===firstChange&&(firstChange=oldIndex),-1===newIndex?void(toTeardown||(toTeardown=[])).push(section.fragments[oldIndex]):(by=newIndex-oldIndex,oldKeypath=section.keypath+"."+oldIndex,newKeypath=section.keypath+"."+newIndex,reassignFragment(section.fragments[oldIndex],section.descriptor.i,oldIndex,newIndex,by,oldKeypath,newKeypath),newFragments[newIndex]=section.fragments[oldIndex],void(changed=!0)))}),toTeardown)for(;fragment=toTeardown.pop();)fragment.teardown(!0);if(void 0===firstChange&&(firstChange=this.length),newLength=this.root.get(this.keypath).length,newLength!==firstChange){for(fragmentOptions={descriptor:this.descriptor.f,root:this.root,pNode:parentFragment.pNode,owner:this},this.descriptor.i&&(fragmentOptions.indexRef=this.descriptor.i),i=firstChange;newLength>i;i+=1)(fragment=newFragments[i])?this.docFrag.appendChild(fragment.detach(!1)):(fragmentOptions.contextStack=this.contextStack.concat(this.keypath+"."+i),fragmentOptions.index=i,fragment=this.createFragment(fragmentOptions)),this.fragments[i]=fragment;nextNode=parentFragment.findNextNode(this),parentFragment.pNode.insertBefore(this.docFrag,nextNode),this.length=newLength}}}(render_DomFragment_Section_reassignFragment),circular=function(){return[]}(),render_DomFragment_Section__Section=function(types,isClient,initMustache,updateMustache,resolveMustache,updateSection,reassignFragment,reassignFragments,merge,teardown,circular){var DomSection,DomFragment;return circular.push(function(){DomFragment=circular.DomFragment}),DomSection=function(options,docFrag){this.type=types.SECTION,this.inverted=!!options.descriptor.n,this.fragments=[],this.length=0,docFrag&&(this.docFrag=document.createDocumentFragment()),this.initialising=!0,initMustache(this,options),docFrag&&docFrag.appendChild(this.docFrag),this.initialising=!1},DomSection.prototype={update:updateMustache,resolve:resolveMustache,smartUpdate:function(methodName,args){var fragmentOptions;("push"===methodName||"unshift"===methodName||"splice"===methodName)&&(fragmentOptions={descriptor:this.descriptor.f,root:this.root,pNode:this.parentFragment.pNode,owner:this},this.descriptor.i&&(fragmentOptions.indexRef=this.descriptor.i)),this[methodName]&&(this.rendering=!0,this[methodName](fragmentOptions,args),this.rendering=!1)},pop:function(){this.length&&(this.fragments.pop().teardown(!0),this.length-=1)},push:function(fragmentOptions,args){var start,end,i;for(start=this.length,end=start+args.length,i=start;end>i;i+=1)fragmentOptions.contextStack=this.contextStack.concat(this.keypath+"."+i),fragmentOptions.index=i,this.fragments[i]=this.createFragment(fragmentOptions);this.length+=args.length,this.parentFragment.pNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))},shift:function(){this.splice(null,[0,1])},unshift:function(fragmentOptions,args){this.splice(fragmentOptions,[0,0].concat(new Array(args.length)))},splice:function(fragmentOptions,args){var insertionPoint,addedItems,removedItems,balance,i,start,end,spliceArgs,reassignStart;if(args.length&&(start=+(args[0]<0?this.length+args[0]:args[0]),addedItems=Math.max(0,args.length-2),removedItems=void 0!==args[1]?args[1]:this.length-start,removedItems=Math.min(removedItems,this.length-start),balance=addedItems-removedItems)){if(0>balance){for(end=start-balance,i=start;end>i;i+=1)this.fragments[i].teardown(!0);this.fragments.splice(start,-balance)}else{for(end=start+balance,insertionPoint=this.fragments[start]?this.fragments[start].firstNode():this.parentFragment.findNextNode(this),spliceArgs=[start,0].concat(new Array(balance)),this.fragments.splice.apply(this.fragments,spliceArgs),i=start;end>i;i+=1)fragmentOptions.contextStack=this.contextStack.concat(this.keypath+"."+i),fragmentOptions.index=i,this.fragments[i]=this.createFragment(fragmentOptions);this.parentFragment.pNode.insertBefore(this.docFrag,insertionPoint)}this.length+=balance,reassignStart=start+addedItems,reassignFragments(this.root,this,reassignStart,this.length,balance)}},merge:merge,detach:function(){var i,len;for(len=this.fragments.length,i=0;len>i;i+=1)this.docFrag.appendChild(this.fragments[i].detach());return this.docFrag},teardown:function(destroy){this.teardownFragments(destroy),teardown(this)},firstNode:function(){return this.fragments[0]?this.fragments[0].firstNode():this.parentFragment.findNextNode(this)},findNextNode:function(fragment){return this.fragments[fragment.index+1]?this.fragments[fragment.index+1].firstNode():this.parentFragment.findNextNode(this)},teardownFragments:function(destroy){for(var id,fragment;fragment=this.fragments.shift();)fragment.teardown(destroy);if(this.fragmentsById)for(id in this.fragmentsById)this.fragments[id]&&(this.fragmentsById[id].teardown(destroy),this.fragmentsById[id]=null)},render:function(value){var nextNode,wrapped;(wrapped=this.root._wrapped[this.keypath])&&(value=wrapped.get()),this.rendering||(this.rendering=!0,updateSection(this,value),this.rendering=!1,(!this.docFrag||this.docFrag.childNodes.length)&&!this.initialising&&isClient&&(nextNode=this.parentFragment.findNextNode(this),nextNode&&nextNode.parentNode===this.parentFragment.pNode?this.parentFragment.pNode.insertBefore(this.docFrag,nextNode):this.parentFragment.pNode.appendChild(this.docFrag)))},createFragment:function(options){var fragment=new DomFragment(options);return this.docFrag&&this.docFrag.appendChild(fragment.docFrag),fragment},toString:function(){var str,i,id,len;for(str="",i=0,len=this.length,i=0;len>i;i+=1)str+=this.fragments[i].toString();if(this.fragmentsById)for(id in this.fragmentsById)this.fragmentsById[id]&&(str+=this.fragmentsById[id].toString());return str},find:function(selector){var i,len,queryResult;for(len=this.fragments.length,i=0;len>i;i+=1)if(queryResult=this.fragments[i].find(selector))return queryResult;return null},findAll:function(selector,query){var i,len;for(len=this.fragments.length,i=0;len>i;i+=1)this.fragments[i].findAll(selector,query)},findComponent:function(selector){var i,len,queryResult;for(len=this.fragments.length,i=0;len>i;i+=1)if(queryResult=this.fragments[i].findComponent(selector))return queryResult;return null},findAllComponents:function(selector,query){var i,len;for(len=this.fragments.length,i=0;len>i;i+=1)this.fragments[i].findAllComponents(selector,query)}},DomSection}(config_types,config_isClient,render_shared_initMustache,render_shared_updateMustache,render_shared_resolveMustache,render_shared_updateSection,render_DomFragment_Section_reassignFragment,render_DomFragment_Section_reassignFragments,render_DomFragment_Section_prototype_merge,shared_teardown,circular),render_DomFragment_Triple=function(types,matches,initMustache,updateMustache,resolveMustache,insertHtml,teardown){var DomTriple=function(options,docFrag){this.type=types.TRIPLE,docFrag&&(this.nodes=[],this.docFrag=document.createDocumentFragment()),this.initialising=!0,initMustache(this,options),docFrag&&docFrag.appendChild(this.docFrag),this.initialising=!1};return DomTriple.prototype={update:updateMustache,resolve:resolveMustache,detach:function(){for(var i=this.nodes.length;i--;)this.docFrag.appendChild(this.nodes[i]);return this.docFrag},teardown:function(destroy){destroy&&(this.detach(),this.docFrag=this.nodes=null),teardown(this)},firstNode:function(){return this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},render:function(html){var node,pNode;if(this.nodes){for(;this.nodes.length;)node=this.nodes.pop(),node.parentNode.removeChild(node);if(!html)return void(this.nodes=[]);pNode=this.parentFragment.pNode,this.nodes=insertHtml(html,pNode.tagName,this.docFrag),this.initialising||pNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))}},toString:function(){return void 0!=this.value?this.value:""},find:function(selector){var i,len,node,queryResult;for(len=this.nodes.length,i=0;len>i;i+=1)if(node=this.nodes[i],1===node.nodeType){if(matches(node,selector))return node;if(queryResult=node.querySelector(selector))return queryResult}return null},findAll:function(selector,queryResult){var i,len,node,queryAllResult,numNodes,j;for(len=this.nodes.length,i=0;len>i;i+=1)if(node=this.nodes[i],1===node.nodeType&&(matches(node,selector)&&queryResult.push(node),queryAllResult=node.querySelectorAll(selector)))for(numNodes=queryAllResult.length,j=0;numNodes>j;j+=1)queryResult.push(queryAllResult[j])}},DomTriple}(config_types,utils_matches,render_shared_initMustache,render_shared_updateMustache,render_shared_resolveMustache,render_DomFragment_shared_insertHtml,shared_teardown),render_DomFragment_Element_initialise_getElementNamespace=function(namespaces){return function(descriptor,parentNode){return descriptor.a&&descriptor.a.xmlns?descriptor.a.xmlns:"svg"===descriptor.e?namespaces.svg:parentNode.namespaceURI||namespaces.html}}(config_namespaces),render_DomFragment_shared_enforceCase=function(){var svgCamelCaseElements,svgCamelCaseAttributes,createMap,map;return svgCamelCaseElements="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),svgCamelCaseAttributes="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),createMap=function(items){for(var map={},i=items.length;i--;)map[items[i].toLowerCase()]=items[i];return map},map=createMap(svgCamelCaseElements.concat(svgCamelCaseAttributes)),function(elementName){var lowerCaseElementName=elementName.toLowerCase();return map[lowerCaseElementName]||lowerCaseElementName}}(),render_DomFragment_Attribute_helpers_determineNameAndNamespace=function(namespaces,enforceCase){return function(attribute,name){var colonIndex,namespacePrefix;if(colonIndex=name.indexOf(":"),-1===colonIndex||(namespacePrefix=name.substr(0,colonIndex),"xmlns"===namespacePrefix))attribute.name=attribute.element.namespace!==namespaces.html?enforceCase(name):name,attribute.lcName=attribute.name.toLowerCase();else if(name=name.substring(colonIndex+1),attribute.name=enforceCase(name),attribute.lcName=attribute.name.toLowerCase(),attribute.namespace=namespaces[namespacePrefix.toLowerCase()],!attribute.namespace)throw'Unknown namespace ("'+namespacePrefix+'")'}}(config_namespaces,render_DomFragment_shared_enforceCase),render_DomFragment_Attribute_helpers_setStaticAttribute=function(namespaces){return function(attribute,options){var node,value=null===options.value?"":options.value;(node=options.pNode)&&(attribute.namespace?node.setAttributeNS(attribute.namespace,options.name,value):"style"===options.name&&node.style.setAttribute?node.style.setAttribute("cssText",value):"class"!==options.name||node.namespaceURI&&node.namespaceURI!==namespaces.html?node.setAttribute(options.name,value):node.className=value,"id"===attribute.name&&(options.root.nodes[options.value]=node),"value"===attribute.name&&(node._ractive.value=options.value)),attribute.value=options.value}}(config_namespaces),render_DomFragment_Attribute_helpers_determinePropertyName=function(namespaces){var propertyNames={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(attribute,options){var propertyName;!attribute.pNode||attribute.namespace||options.pNode.namespaceURI&&options.pNode.namespaceURI!==namespaces.html||(propertyName=propertyNames[attribute.name]||attribute.name,void 0!==options.pNode[propertyName]&&(attribute.propertyName=propertyName),("boolean"==typeof options.pNode[propertyName]||"value"===propertyName)&&(attribute.useProperty=!0))}}(config_namespaces),render_DomFragment_Attribute_prototype_bind=function(types,warn,arrayContentsMatch,getValueFromCheckboxes){var bindAttribute,getInterpolator,updateModel,update,getBinding,inheritProperties,MultipleSelectBinding,SelectBinding,RadioNameBinding,CheckboxNameBinding,CheckedBinding,FileListBinding,ContentEditableBinding,GenericBinding;return bindAttribute=function(){var interpolator,binding,bindings,node=this.pNode;return this.fragment&&(interpolator=getInterpolator(this))?(this.interpolator=interpolator,this.keypath=interpolator.keypath||interpolator.descriptor.r,(binding=getBinding(this))?(node._ractive.binding=this.element.binding=binding,this.twoway=!0,bindings=this.root._twowayBindings[this.keypath]||(this.root._twowayBindings[this.keypath]=[]),bindings[bindings.length]=binding,!0):!1):!1},updateModel=function(){this._ractive.binding.update()},update=function(){var value=this._ractive.root.get(this._ractive.binding.keypath);this.value=void 0==value?"":value},getInterpolator=function(attribute){var item,errorMessage;return 1!==attribute.fragment.items.length?null:(item=attribute.fragment.items[0],item.type!==types.INTERPOLATOR?null:item.keypath||item.ref?item.keypath&&"${"===item.keypath.substr(0,2)?(errorMessage="You cannot set up two-way binding against an expression "+item.keypath,attribute.root.debug&&warn(errorMessage),null):item:null)},getBinding=function(attribute){var node=attribute.pNode;if("SELECT"===node.tagName)return node.multiple?new MultipleSelectBinding(attribute,node):new SelectBinding(attribute,node);if("checkbox"===node.type||"radio"===node.type){if("name"===attribute.propertyName){if("checkbox"===node.type)return new CheckboxNameBinding(attribute,node);if("radio"===node.type)return new RadioNameBinding(attribute,node)}return"checked"===attribute.propertyName?new CheckedBinding(attribute,node):null}return"value"!==attribute.lcName&&warn("This is... odd"),"file"===node.type?new FileListBinding(attribute,node):node.getAttribute("contenteditable")?new ContentEditableBinding(attribute,node):new GenericBinding(attribute,node)},MultipleSelectBinding=function(attribute,node){var valueFromModel;inheritProperties(this,attribute,node),node.addEventListener("change",updateModel,!1),valueFromModel=this.root.get(this.keypath),void 0===valueFromModel&&this.update()},MultipleSelectBinding.prototype={value:function(){var value,options,i,len;for(value=[],options=this.node.options,len=options.length,i=0;len>i;i+=1)options[i].selected&&(value[value.length]=options[i]._ractive.value);return value},update:function(){var attribute,previousValue,value;return attribute=this.attr,previousValue=attribute.value,value=this.value(),void 0!==previousValue&&arrayContentsMatch(value,previousValue)||(attribute.receiving=!0,attribute.value=value,this.root.set(this.keypath,value),attribute.receiving=!1),this},deferUpdate:function(){this.deferred!==!0&&(this.root._deferred.attrs.push(this),this.deferred=!0)},teardown:function(){this.node.removeEventListener("change",updateModel,!1)}},SelectBinding=function(attribute,node){var valueFromModel;inheritProperties(this,attribute,node),node.addEventListener("change",updateModel,!1),valueFromModel=this.root.get(this.keypath),void 0===valueFromModel&&this.update()},SelectBinding.prototype={value:function(){var options,i,len;for(options=this.node.options,len=options.length,i=0;len>i;i+=1)if(options[i].selected)return options[i]._ractive.value},update:function(){var value=this.value();return this.attr.receiving=!0,this.attr.value=value,this.root.set(this.keypath,value),this.attr.receiving=!1,this},deferUpdate:function(){this.deferred!==!0&&(this.root._deferred.attrs.push(this),this.deferred=!0)},teardown:function(){this.node.removeEventListener("change",updateModel,!1)}},RadioNameBinding=function(attribute,node){var valueFromModel;this.radioName=!0,inheritProperties(this,attribute,node),node.name="{{"+attribute.keypath+"}}",node.addEventListener("change",updateModel,!1),node.attachEvent&&node.addEventListener("click",updateModel,!1),valueFromModel=this.root.get(this.keypath),void 0!==valueFromModel?node.checked=valueFromModel==node._ractive.value:this.root._deferred.radios.push(this)},RadioNameBinding.prototype={value:function(){return this.node._ractive?this.node._ractive.value:this.node.value},update:function(){var node=this.node;node.checked&&(this.attr.receiving=!0,this.root.set(this.keypath,this.value()),this.attr.receiving=!1)},teardown:function(){this.node.removeEventListener("change",updateModel,!1),this.node.removeEventListener("click",updateModel,!1)}},CheckboxNameBinding=function(attribute,node){var valueFromModel,checked;this.checkboxName=!0,inheritProperties(this,attribute,node),node.name="{{"+this.keypath+"}}",node.addEventListener("change",updateModel,!1),node.attachEvent&&node.addEventListener("click",updateModel,!1),valueFromModel=this.root.get(this.keypath),void 0!==valueFromModel?(checked=-1!==valueFromModel.indexOf(node._ractive.value),node.checked=checked):-1===this.root._deferred.checkboxes.indexOf(this.keypath)&&this.root._deferred.checkboxes.push(this.keypath)},CheckboxNameBinding.prototype={changed:function(){return this.node.checked!==!!this.checked},update:function(){this.checked=this.node.checked,this.attr.receiving=!0,this.root.set(this.keypath,getValueFromCheckboxes(this.root,this.keypath)),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",updateModel,!1),this.node.removeEventListener("click",updateModel,!1)}},CheckedBinding=function(attribute,node){inheritProperties(this,attribute,node),node.addEventListener("change",updateModel,!1),node.attachEvent&&node.addEventListener("click",updateModel,!1)},CheckedBinding.prototype={value:function(){return this.node.checked},update:function(){this.attr.receiving=!0,this.root.set(this.keypath,this.value()),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",updateModel,!1),this.node.removeEventListener("click",updateModel,!1)}},FileListBinding=function(attribute,node){inheritProperties(this,attribute,node),node.addEventListener("change",updateModel,!1)},FileListBinding.prototype={value:function(){return this.attr.pNode.files},update:function(){this.attr.root.set(this.attr.keypath,this.value())},teardown:function(){this.node.removeEventListener("change",updateModel,!1)}},ContentEditableBinding=function(attribute,node){inheritProperties(this,attribute,node),node.addEventListener("change",updateModel,!1),this.root.lazy||(node.addEventListener("input",updateModel,!1),node.attachEvent&&node.addEventListener("keyup",updateModel,!1))},ContentEditableBinding.prototype={update:function(){this.attr.receiving=!0,this.root.set(this.keypath,this.node.innerHTML),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",updateModel,!1),this.node.removeEventListener("input",updateModel,!1),this.node.removeEventListener("keyup",updateModel,!1)}},GenericBinding=function(attribute,node){inheritProperties(this,attribute,node),node.addEventListener("change",updateModel,!1),this.root.lazy||(node.addEventListener("input",updateModel,!1),node.attachEvent&&node.addEventListener("keyup",updateModel,!1)),this.node.addEventListener("blur",update,!1)},GenericBinding.prototype={value:function(){var value=this.attr.pNode.value;return+value+""===value&&-1===value.indexOf("e")&&(value=+value),value},update:function(){var attribute=this.attr,value=this.value();attribute.receiving=!0,attribute.root.set(attribute.keypath,value),attribute.receiving=!1},teardown:function(){this.node.removeEventListener("change",updateModel,!1),this.node.removeEventListener("input",updateModel,!1),this.node.removeEventListener("keyup",updateModel,!1),this.node.removeEventListener("blur",update,!1)}},inheritProperties=function(binding,attribute,node){binding.attr=attribute,binding.node=node,binding.root=attribute.root,binding.keypath=attribute.keypath},bindAttribute}(config_types,utils_warn,utils_arrayContentsMatch,shared_getValueFromCheckboxes),render_DomFragment_Attribute_prototype_update=function(isArray,namespaces){var updateAttribute,updateFileInputValue,deferSelect,initSelect,updateSelect,updateMultipleSelect,updateRadioName,updateCheckboxName,updateIEStyleAttribute,updateClassName,updateContentEditableValue,updateEverythingElse;return updateAttribute=function(){var node;if(!this.ready)return this;if(node=this.pNode,"SELECT"===node.tagName&&"value"===this.lcName)return this.update=deferSelect,this.deferredUpdate=initSelect,this.update();if(this.isFileInputValue)return this.update=updateFileInputValue,this;if(this.twoway&&"name"===this.lcName){if("radio"===node.type)return this.update=updateRadioName,this.update();if("checkbox"===node.type)return this.update=updateCheckboxName,this.update()}return"style"===this.lcName&&node.style.setAttribute?(this.update=updateIEStyleAttribute,this.update()):"class"!==this.lcName||node.namespaceURI&&node.namespaceURI!==namespaces.html?node.getAttribute("contenteditable")&&"value"===this.lcName?(this.update=updateContentEditableValue,this.update()):(this.update=updateEverythingElse,this.update()):(this.update=updateClassName,this.update())},updateFileInputValue=function(){return this},initSelect=function(){this.deferredUpdate=this.pNode.multiple?updateMultipleSelect:updateSelect,this.deferredUpdate()},deferSelect=function(){return this.root._deferred.selectValues.push(this),this},updateSelect=function(){var options,option,i,value=this.fragment.getValue();for(this.value=this.pNode._ractive.value=value,options=this.pNode.options,i=options.length;i--;)if(option=options[i],option._ractive.value==value)return option.selected=!0,this;return this},updateMultipleSelect=function(){var options,i,value=this.fragment.getValue();for(isArray(value)||(value=[value]),options=this.pNode.options,i=options.length;i--;)options[i].selected=-1!==value.indexOf(options[i]._ractive.value);return this.value=value,this},updateRadioName=function(){var node,value;return node=this.pNode,value=this.fragment.getValue(),node.checked=value==node._ractive.value,this},updateCheckboxName=function(){var node,value;return node=this.pNode,value=this.fragment.getValue(),isArray(value)?(node.checked=-1!==value.indexOf(node._ractive.value),this):(node.checked=value==node._ractive.value,this)},updateIEStyleAttribute=function(){var node,value;return node=this.pNode,value=this.fragment.getValue(),void 0===value&&(value=""),value!==this.value&&(node.style.setAttribute("cssText",value),this.value=value),this},updateClassName=function(){var node,value;return node=this.pNode,value=this.fragment.getValue(),void 0===value&&(value=""),value!==this.value&&(node.className=value,this.value=value),this},updateContentEditableValue=function(){var node,value;return node=this.pNode,value=this.fragment.getValue(),void 0===value&&(value=""),value!==this.value&&(this.receiving||(node.innerHTML=value),this.value=value),this},updateEverythingElse=function(){var node,value;if(node=this.pNode,value=this.fragment.getValue(),this.isValueAttribute&&(node._ractive.value=value),void 0===value&&(value=""),value!==this.value){if(this.useProperty)return this.receiving||(node[this.propertyName]=value),this.value=value,this;if(this.namespace)return node.setAttributeNS(this.namespace,this.name,value),this.value=value,this;"id"===this.lcName&&(void 0!==this.value&&(this.root.nodes[this.value]=void 0),this.root.nodes[value]=node),node.setAttribute(this.name,value),this.value=value}return this},updateAttribute}(utils_isArray,config_namespaces),parse_Tokenizer_utils_getStringMatch=function(){return function(string){var substr;return substr=this.str.substr(this.pos,string.length),substr===string?(this.pos+=string.length,string):null}}(),parse_Tokenizer_utils_allowWhitespace=function(){var leadingWhitespace=/^\s+/;return function(){var match=leadingWhitespace.exec(this.remaining());return match?(this.pos+=match[0].length,match[0]):null}}(),parse_Tokenizer_utils_makeRegexMatcher=function(){return function(regex){return function(tokenizer){var match=regex.exec(tokenizer.str.substring(tokenizer.pos));return match?(tokenizer.pos+=match[0].length,match[1]||match[0]):null}}}(),parse_Tokenizer_getExpression_getPrimary_getLiteral_getStringLiteral_getEscapedChars=function(){function getEscapedChar(tokenizer){var character;return tokenizer.getStringMatch("\\")?(character=tokenizer.str.charAt(tokenizer.pos),tokenizer.pos+=1,character):null}return function(tokenizer){var character,chars="";for(character=getEscapedChar(tokenizer);character;)chars+=character,character=getEscapedChar(tokenizer);return chars||null}}(),parse_Tokenizer_getExpression_getPrimary_getLiteral_getStringLiteral_getQuotedString=function(makeRegexMatcher,getEscapedChars){var getUnescapedDoubleQuotedChars=makeRegexMatcher(/^[^\\"]+/),getUnescapedSingleQuotedChars=makeRegexMatcher(/^[^\\']+/);return function getQuotedString(tokenizer,singleQuotes){var start,string,escaped,unescaped,next,matcher;if(start=tokenizer.pos,string="",matcher=singleQuotes?getUnescapedSingleQuotedChars:getUnescapedDoubleQuotedChars,escaped=getEscapedChars(tokenizer),escaped&&(string+=escaped),unescaped=matcher(tokenizer),unescaped&&(string+=unescaped),!string)return"";for(next=getQuotedString(tokenizer,singleQuotes);""!==next;)string+=next;return string}}(parse_Tokenizer_utils_makeRegexMatcher,parse_Tokenizer_getExpression_getPrimary_getLiteral_getStringLiteral_getEscapedChars),parse_Tokenizer_getExpression_getPrimary_getLiteral_getStringLiteral__getStringLiteral=function(types,getQuotedString){return function(tokenizer){var start,string;return start=tokenizer.pos,tokenizer.getStringMatch('"')?(string=getQuotedString(tokenizer,!1),tokenizer.getStringMatch('"')?{t:types.STRING_LITERAL,v:string}:(tokenizer.pos=start,null)):tokenizer.getStringMatch("'")?(string=getQuotedString(tokenizer,!0),tokenizer.getStringMatch("'")?{t:types.STRING_LITERAL,v:string}:(tokenizer.pos=start,null)):null}}(config_types,parse_Tokenizer_getExpression_getPrimary_getLiteral_getStringLiteral_getQuotedString),parse_Tokenizer_getExpression_getPrimary_getLiteral_getNumberLiteral=function(types,makeRegexMatcher){var getNumber=makeRegexMatcher(/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/);return function(tokenizer){var result;return(result=getNumber(tokenizer))?{t:types.NUMBER_LITERAL,v:result}:null}}(config_types,parse_Tokenizer_utils_makeRegexMatcher),parse_Tokenizer_getExpression_shared_getName=function(makeRegexMatcher){return makeRegexMatcher(/^[a-zA-Z_$][a-zA-Z_$0-9]*/)}(parse_Tokenizer_utils_makeRegexMatcher),parse_Tokenizer_getExpression_shared_getKey=function(getStringLiteral,getNumberLiteral,getName){var identifier=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(tokenizer){var token;return(token=getStringLiteral(tokenizer))?identifier.test(token.v)?token.v:'"'+token.v.replace(/"/g,'\\"')+'"':(token=getNumberLiteral(tokenizer))?token.v:(token=getName(tokenizer))?token:void 0}}(parse_Tokenizer_getExpression_getPrimary_getLiteral_getStringLiteral__getStringLiteral,parse_Tokenizer_getExpression_getPrimary_getLiteral_getNumberLiteral,parse_Tokenizer_getExpression_shared_getName),utils_parseJSON=function(getStringMatch,allowWhitespace,getStringLiteral,getKey){function getKeyValuePair(tokenizer){var key,valueToken,pair;
return tokenizer.allowWhitespace(),(key=getKey(tokenizer))?(pair={key:key},tokenizer.allowWhitespace(),tokenizer.getStringMatch(":")?(tokenizer.allowWhitespace(),(valueToken=tokenizer.getToken())?(pair.value=valueToken.v,pair):null):null):null}var Tokenizer,specials,specialsPattern,numberPattern,placeholderPattern,placeholderAtStartPattern;return specials={"true":!0,"false":!1,undefined:void 0,"null":null},specialsPattern=new RegExp("^(?:"+Object.keys(specials).join("|")+")"),numberPattern=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,placeholderPattern=/\$\{([^\}]+)\}/g,placeholderAtStartPattern=/^\$\{([^\}]+)\}/,Tokenizer=function(str,values){this.str=str,this.values=values,this.pos=0,this.result=this.getToken()},Tokenizer.prototype={remaining:function(){return this.str.substring(this.pos)},getStringMatch:getStringMatch,getToken:function(){return this.allowWhitespace(),this.getPlaceholder()||this.getSpecial()||this.getNumber()||this.getString()||this.getObject()||this.getArray()},getPlaceholder:function(){var match;return this.values?(match=placeholderAtStartPattern.exec(this.remaining()))&&this.values.hasOwnProperty(match[1])?(this.pos+=match[0].length,{v:this.values[match[1]]}):void 0:null},getSpecial:function(){var match;return(match=specialsPattern.exec(this.remaining()))?(this.pos+=match[0].length,{v:specials[match[0]]}):void 0},getNumber:function(){var match;return(match=numberPattern.exec(this.remaining()))?(this.pos+=match[0].length,{v:+match[0]}):void 0},getString:function(){var values,stringLiteral=getStringLiteral(this);return stringLiteral&&(values=this.values)?{v:stringLiteral.v.replace(placeholderPattern,function(match,$1){return values[$1]||$1})}:stringLiteral},getObject:function(){var result,pair;if(!this.getStringMatch("{"))return null;for(result={};pair=getKeyValuePair(this);){if(result[pair.key]=pair.value,this.allowWhitespace(),this.getStringMatch("}"))return{v:result};if(!this.getStringMatch(","))return null}return null},getArray:function(){var result,valueToken;if(!this.getStringMatch("["))return null;for(result=[];valueToken=this.getToken();){if(result.push(valueToken.v),this.getStringMatch("]"))return{v:result};if(!this.getStringMatch(","))return null}return null},allowWhitespace:allowWhitespace},function(str,values){var tokenizer=new Tokenizer(str,values);return tokenizer.result?{value:tokenizer.result.v,remaining:tokenizer.remaining()}:null}}(parse_Tokenizer_utils_getStringMatch,parse_Tokenizer_utils_allowWhitespace,parse_Tokenizer_getExpression_getPrimary_getLiteral_getStringLiteral__getStringLiteral,parse_Tokenizer_getExpression_shared_getKey),render_StringFragment_Interpolator=function(types,teardown,initMustache,updateMustache,resolveMustache){function stringify(value){return"string"==typeof value?value:JSON.stringify(value)}var StringInterpolator=function(options){this.type=types.INTERPOLATOR,initMustache(this,options)};return StringInterpolator.prototype={update:updateMustache,resolve:resolveMustache,render:function(value){this.value=value,this.parentFragment.bubble()},teardown:function(){teardown(this)},toString:function(){return void 0==this.value?"":stringify(this.value)}},StringInterpolator}(config_types,shared_teardown,render_shared_initMustache,render_shared_updateMustache,render_shared_resolveMustache),render_StringFragment_Section=function(types,initMustache,updateMustache,resolveMustache,updateSection,teardown,circular){var StringSection,StringFragment;return circular.push(function(){StringFragment=circular.StringFragment}),StringSection=function(options){this.type=types.SECTION,this.fragments=[],this.length=0,initMustache(this,options)},StringSection.prototype={update:updateMustache,resolve:resolveMustache,teardown:function(){this.teardownFragments(),teardown(this)},teardownFragments:function(){for(;this.fragments.length;)this.fragments.shift().teardown();this.length=0},bubble:function(){this.value=this.fragments.join(""),this.parentFragment.bubble()},render:function(value){var wrapped;(wrapped=this.root._wrapped[this.keypath])&&(value=wrapped.get()),updateSection(this,value),this.parentFragment.bubble()},createFragment:function(options){return new StringFragment(options)},toString:function(){return this.fragments.join("")}},StringSection}(config_types,render_shared_initMustache,render_shared_updateMustache,render_shared_resolveMustache,render_shared_updateSection,shared_teardown,circular),render_StringFragment_Text=function(types){var StringText=function(text){this.type=types.TEXT,this.text=text};return StringText.prototype={toString:function(){return this.text},teardown:function(){}},StringText}(config_types),render_StringFragment_prototype_toArgsList=function(warn,parseJSON){return function(){var values,counter,jsonesque,guid,errorMessage,parsed,processItems;if(!this.argsList||this.dirty){if(values={},counter=0,guid=this.root._guid,processItems=function(items){return items.map(function(item){var placeholderId,wrapped,value;return item.text?item.text:item.fragments?item.fragments.map(function(fragment){return processItems(fragment.items)}).join(""):(placeholderId=guid+"-"+counter++,value=(wrapped=item.root._wrapped[item.keypath])?wrapped.value:item.value,values[placeholderId]=value,"${"+placeholderId+"}")}).join("")},jsonesque=processItems(this.items),parsed=parseJSON("["+jsonesque+"]",values))this.argsList=parsed.value;else{if(errorMessage="Could not parse directive arguments ("+this.toString()+"). If you think this is a bug, please file an issue at http://github.com/RactiveJS/Ractive/issues",this.root.debug)throw new Error(errorMessage);warn(errorMessage),this.argsList=[jsonesque]}this.dirty=!1}return this.argsList}}(utils_warn,utils_parseJSON),render_StringFragment__StringFragment=function(types,parseJSON,initFragment,Interpolator,Section,Text,toArgsList,circular){var StringFragment=function(options){initFragment(this,options)};return StringFragment.prototype={createItem:function(options){if("string"==typeof options.descriptor)return new Text(options.descriptor);switch(options.descriptor.t){case types.INTERPOLATOR:return new Interpolator(options);case types.TRIPLE:return new Interpolator(options);case types.SECTION:return new Section(options);default:throw"Something went wrong in a rather interesting way"}},bubble:function(){this.dirty=!0,this.owner.bubble()},teardown:function(){var numItems,i;for(numItems=this.items.length,i=0;numItems>i;i+=1)this.items[i].teardown()},getValue:function(){var value;return 1===this.items.length&&this.items[0].type===types.INTERPOLATOR&&(value=this.items[0].value,void 0!==value)?value:this.toString()},isSimple:function(){var i,item,containsInterpolator;if(void 0!==this.simple)return this.simple;for(i=this.items.length;i--;)if(item=this.items[i],item.type!==types.TEXT){if(item.type!==types.INTERPOLATOR)return this.simple=!1;if(containsInterpolator)return!1;containsInterpolator=!0}return this.simple=!0},toString:function(){return this.items.join("")},toJSON:function(){var parsed,value=this.getValue();return"string"==typeof value&&(parsed=parseJSON(value),value=parsed?parsed.value:value),value},toArgsList:toArgsList},circular.StringFragment=StringFragment,StringFragment}(config_types,utils_parseJSON,render_shared_initFragment,render_StringFragment_Interpolator,render_StringFragment_Section,render_StringFragment_Text,render_StringFragment_prototype_toArgsList,circular),render_DomFragment_Attribute__Attribute=function(types,determineNameAndNamespace,setStaticAttribute,determinePropertyName,bind,update,StringFragment){var DomAttribute=function(options){return this.type=types.ATTRIBUTE,this.element=options.element,determineNameAndNamespace(this,options.name),null===options.value||"string"==typeof options.value?void setStaticAttribute(this,options):(this.root=options.root,this.pNode=options.pNode,this.parentFragment=this.element.parentFragment,this.fragment=new StringFragment({descriptor:options.value,root:this.root,owner:this,contextStack:options.contextStack}),void(this.pNode&&("value"===this.name&&(this.isValueAttribute=!0,"INPUT"===this.pNode.tagName&&"file"===this.pNode.type&&(this.isFileInputValue=!0)),determinePropertyName(this,options),this.selfUpdating=this.fragment.isSimple(),this.ready=!0)))};return DomAttribute.prototype={bind:bind,update:update,updateBindings:function(){this.keypath=this.interpolator.keypath||this.interpolator.ref,"name"===this.propertyName&&(this.pNode.name="{{"+this.keypath+"}}")},teardown:function(){var i;if(this.boundEvents)for(i=this.boundEvents.length;i--;)this.pNode.removeEventListener(this.boundEvents[i],this.updateModel,!1);this.fragment&&this.fragment.teardown()},bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(this.root._deferred.attrs.push(this),this.deferred=!0)},toString:function(){var str;return null===this.value?this.name:this.fragment?(str=this.fragment.toString(),this.name+"="+JSON.stringify(str)):this.name+"="+JSON.stringify(this.value)}},DomAttribute}(config_types,render_DomFragment_Attribute_helpers_determineNameAndNamespace,render_DomFragment_Attribute_helpers_setStaticAttribute,render_DomFragment_Attribute_helpers_determinePropertyName,render_DomFragment_Attribute_prototype_bind,render_DomFragment_Attribute_prototype_update,render_StringFragment__StringFragment),render_DomFragment_Element_initialise_createElementAttributes=function(DomAttribute){return function(element,attributes){var attrName,attrValue,attr;element.attributes=[];for(attrName in attributes)attributes.hasOwnProperty(attrName)&&(attrValue=attributes[attrName],attr=new DomAttribute({element:element,name:attrName,value:attrValue,root:element.root,pNode:element.node,contextStack:element.parentFragment.contextStack}),element.attributes[element.attributes.length]=element.attributes[attrName]=attr,"name"!==attrName&&attr.update());return element.attributes}}(render_DomFragment_Attribute__Attribute),render_DomFragment_Element_initialise_appendElementChildren=function(warn,namespaces,StringFragment,circular){var DomFragment,updateCss,updateScript;return circular.push(function(){DomFragment=circular.DomFragment}),updateCss=function(){var node=this.node,content=this.fragment.toString();node.styleSheet&&(node.styleSheet.cssText=content),node.innerHTML=content},updateScript=function(){this.node.type&&"text/javascript"!==this.node.type||warn("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.innerHTML=this.fragment.toString()},function(element,node,descriptor,docFrag){var liveQueries,i,selector,queryAllResult,j;if("script"===element.lcName||"style"===element.lcName)return element.fragment=new StringFragment({descriptor:descriptor.f,root:element.root,contextStack:element.parentFragment.contextStack,owner:element}),void(docFrag&&("script"===element.lcName?(element.bubble=updateScript,element.node.innerHTML=element.fragment.toString()):(element.bubble=updateCss,element.bubble())));if("string"!=typeof descriptor.f||node&&node.namespaceURI&&node.namespaceURI!==namespaces.html)element.fragment=new DomFragment({descriptor:descriptor.f,root:element.root,pNode:node,contextStack:element.parentFragment.contextStack,owner:element}),docFrag&&node.appendChild(element.fragment.docFrag);else if(element.html=descriptor.f,docFrag)for(node.innerHTML=element.html,liveQueries=element.root._liveQueries,i=liveQueries.length;i--;)if(selector=liveQueries[i],(queryAllResult=node.querySelectorAll(selector))&&(j=queryAllResult.length))for((element.liveQueries||(element.liveQueries=[])).push(selector),element.liveQueries[selector]=[];j--;)element.liveQueries[selector][j]=queryAllResult[j]}}(utils_warn,config_namespaces,render_StringFragment__StringFragment,circular),render_DomFragment_Element_initialise_decorate_Decorator=function(warn,StringFragment){var Decorator=function(descriptor,root,owner,contextStack){var name,fragment,errorMessage;if(this.root=root,this.node=owner.node,name=descriptor.n||descriptor,"string"!=typeof name&&(fragment=new StringFragment({descriptor:name,root:this.root,owner:owner,contextStack:contextStack}),name=fragment.toString(),fragment.teardown()),descriptor.a?this.params=descriptor.a:descriptor.d&&(fragment=new StringFragment({descriptor:descriptor.d,root:this.root,owner:owner,contextStack:contextStack}),this.params=fragment.toArgsList(),fragment.teardown()),this.fn=root.decorators[name],!this.fn){if(errorMessage='Missing "'+name+'" decorator. You may need to download a plugin via https://github.com/RactiveJS/Ractive/wiki/Plugins#decorators',root.debug)throw new Error(errorMessage);warn(errorMessage)}};return Decorator.prototype={init:function(){var result,args;if(this.params?(args=[this.node].concat(this.params),result=this.fn.apply(this.root,args)):result=this.fn.call(this.root,this.node),!result||!result.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.teardown=result.teardown}},Decorator}(utils_warn,render_StringFragment__StringFragment),render_DomFragment_Element_initialise_decorate__decorate=function(Decorator){return function(descriptor,root,owner,contextStack){owner.decorator=new Decorator(descriptor,root,owner,contextStack),owner.decorator.fn&&root._deferred.decorators.push(owner.decorator)}}(render_DomFragment_Element_initialise_decorate_Decorator),render_DomFragment_Element_initialise_addEventProxies_addEventProxy=function(warn,StringFragment){var addEventProxy,MasterEventHandler,ProxyEvent,firePlainEvent,fireEventWithArgs,fireEventWithDynamicArgs,customHandlers,genericHandler,getCustomHandler;return addEventProxy=function(element,triggerEventName,proxyDescriptor,contextStack,indexRefs){var events,master;events=element.node._ractive.events,master=events[triggerEventName]||(events[triggerEventName]=new MasterEventHandler(element,triggerEventName,contextStack,indexRefs)),master.add(proxyDescriptor)},MasterEventHandler=function(element,eventName,contextStack){var definition;this.element=element,this.root=element.root,this.node=element.node,this.name=eventName,this.contextStack=contextStack,this.proxies=[],(definition=this.root.events[eventName])?this.custom=definition(this.node,getCustomHandler(eventName)):("on"+eventName in this.node||warn('Missing "'+this.name+'" event. You may need to download a plugin via https://github.com/RactiveJS/Ractive/wiki/Plugins#events'),this.node.addEventListener(eventName,genericHandler,!1))},MasterEventHandler.prototype={add:function(proxy){this.proxies[this.proxies.length]=new ProxyEvent(this.element,this.root,proxy,this.contextStack)},teardown:function(){var i;for(this.custom?this.custom.teardown():this.node.removeEventListener(this.name,genericHandler,!1),i=this.proxies.length;i--;)this.proxies[i].teardown()},fire:function(event){for(var i=this.proxies.length;i--;)this.proxies[i].fire(event)}},ProxyEvent=function(element,ractive,descriptor,contextStack){var name;return this.root=ractive,name=descriptor.n||descriptor,this.n="string"==typeof name?name:new StringFragment({descriptor:descriptor.n,root:this.root,owner:element,contextStack:contextStack}),descriptor.a?(this.a=descriptor.a,void(this.fire=fireEventWithArgs)):descriptor.d?(this.d=new StringFragment({descriptor:descriptor.d,root:this.root,owner:element,contextStack:contextStack}),void(this.fire=fireEventWithDynamicArgs)):void(this.fire=firePlainEvent)},ProxyEvent.prototype={teardown:function(){this.n.teardown&&this.n.teardown(),this.d&&this.d.teardown()},bubble:function(){}},firePlainEvent=function(event){this.root.fire(this.n.toString(),event)},fireEventWithArgs=function(event){this.root.fire.apply(this.root,[this.n.toString(),event].concat(this.a))},fireEventWithDynamicArgs=function(event){var args=this.d.toArgsList();"string"==typeof args&&(args=args.substr(1,args.length-2)),this.root.fire.apply(this.root,[this.n.toString(),event].concat(args))},genericHandler=function(event){var storage=this._ractive;storage.events[event.type].fire({node:this,original:event,index:storage.index,keypath:storage.keypath,context:storage.root.get(storage.keypath)})},customHandlers={},getCustomHandler=function(eventName){return customHandlers[eventName]?customHandlers[eventName]:customHandlers[eventName]=function(event){var storage=event.node._ractive;event.index=storage.index,event.keypath=storage.keypath,event.context=storage.root.get(storage.keypath),storage.events[eventName].fire(event)}},addEventProxy}(utils_warn,render_StringFragment__StringFragment),render_DomFragment_Element_initialise_addEventProxies__addEventProxies=function(addEventProxy){return function(element,proxies){var i,eventName,eventNames;for(eventName in proxies)if(proxies.hasOwnProperty(eventName))for(eventNames=eventName.split("-"),i=eventNames.length;i--;)addEventProxy(element,eventNames[i],proxies[eventName],element.parentFragment.contextStack)}}(render_DomFragment_Element_initialise_addEventProxies_addEventProxy),render_DomFragment_Element_initialise_updateLiveQueries=function(){return function(element){var ractive,liveQueries,i,selector,query;for(ractive=element.root,liveQueries=ractive._liveQueries,i=liveQueries.length;i--;)selector=liveQueries[i],query=liveQueries[selector],query._test(element)&&((element.liveQueries||(element.liveQueries=[])).push(selector),element.liveQueries[selector]=[element.node])}}(),utils_camelCase=function(){return function(hyphenatedStr){return hyphenatedStr.replace(/-([a-zA-Z])/g,function(match,$1){return $1.toUpperCase()})}}(),utils_fillGaps=function(){return function(target,source){var key;for(key in source)source.hasOwnProperty(key)&&!target.hasOwnProperty(key)&&(target[key]=source[key]);return target}}(),render_DomFragment_Element_shared_executeTransition_Transition=function(isClient,createElement,warn,isNumeric,isArray,camelCase,fillGaps,StringFragment){function prefix(prop){var i,vendor,capped;if(!prefixCache[prop])if(void 0!==testStyle[prop])prefixCache[prop]=prop;else for(capped=prop.charAt(0).toUpperCase()+prop.substring(1),i=vendors.length;i--;)if(vendor=vendors[i],void 0!==testStyle[vendor+capped]){prefixCache[prop]=vendor+capped;break}return prefixCache[prop]}function unprefix(prop){return prop.replace(unprefixPattern,"")}function hyphenate(str){var hyphenated;return vendorPattern.test(str)&&(str="-"+str),hyphenated=str.replace(/[A-Z]/g,function(match){return"-"+match.toLowerCase()})}var Transition,testStyle,vendors,vendorPattern,unprefixPattern,prefixCache,CSS_TRANSITIONS_ENABLED,TRANSITION,TRANSITION_DURATION,TRANSITION_PROPERTY,TRANSITION_TIMING_FUNCTION,TRANSITIONEND;if(isClient)return testStyle=createElement("div").style,function(){void 0!==testStyle.transition?(TRANSITION="transition",TRANSITIONEND="transitionend",CSS_TRANSITIONS_ENABLED=!0):void 0!==testStyle.webkitTransition?(TRANSITION="webkitTransition",TRANSITIONEND="webkitTransitionEnd",CSS_TRANSITIONS_ENABLED=!0):CSS_TRANSITIONS_ENABLED=!1}(),TRANSITION&&(TRANSITION_DURATION=TRANSITION+"Duration",TRANSITION_PROPERTY=TRANSITION+"Property",TRANSITION_TIMING_FUNCTION=TRANSITION+"TimingFunction"),Transition=function(descriptor,root,owner,contextStack,isIntro){var name,fragment,errorMessage,t=this;if(this.root=root,this.node=owner.node,this.isIntro=isIntro,this.originalStyle=this.node.getAttribute("style"),this.complete=function(noReset){!noReset&&t.isIntro&&t.resetStyle(),t._manager.pop(t.node),t.node._ractive.transition=null},name=descriptor.n||descriptor,"string"!=typeof name&&(fragment=new StringFragment({descriptor:name,root:this.root,owner:owner,contextStack:contextStack}),name=fragment.toString(),fragment.teardown()),this.name=name,descriptor.a?this.params=descriptor.a:descriptor.d&&(fragment=new StringFragment({descriptor:descriptor.d,root:this.root,owner:owner,contextStack:contextStack}),this.params=fragment.toArgsList(),fragment.teardown()),this._fn=root.transitions[name],!this._fn){if(errorMessage='Missing "'+name+'" transition. You may need to download a plugin via https://github.com/RactiveJS/Ractive/wiki/Plugins#transitions',root.debug)throw new Error(errorMessage);return void warn(errorMessage)}},Transition.prototype={init:function(){if(this._inited)throw new Error("Cannot initialize a transition more than once");this._inited=!0,this._fn.apply(this.root,[this].concat(this.params))},getStyle:function(props){var computedStyle,styles,i,prop,value;if(computedStyle=window.getComputedStyle(this.node),"string"==typeof props)return value=computedStyle[prefix(props)],"0px"===value&&(value=0),value;if(!isArray(props))throw new Error("Transition#getStyle must be passed a string, or an array of strings representing CSS properties");for(styles={},i=props.length;i--;)prop=props[i],value=computedStyle[prefix(prop)],"0px"===value&&(value=0),styles[prop]=value;return styles},setStyle:function(style,value){var prop;if("string"==typeof style)this.node.style[prefix(style)]=value;else for(prop in style)style.hasOwnProperty(prop)&&(this.node.style[prefix(prop)]=style[prop]);return this},animateStyle:function(style,value,options,complete){var propertyNames,changedProperties,computedStyle,current,to,from,transitionEndHandler,i,prop,t=this;for("string"==typeof style?(to={},to[style]=value):(to=style,complete=options,options=value),options||(warn('The "'+t.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),options=t,complete=t.complete),options.duration||(t.setStyle(to),complete&&complete()),propertyNames=Object.keys(to),changedProperties=[],computedStyle=window.getComputedStyle(t.node),from={},i=propertyNames.length;i--;)prop=propertyNames[i],current=computedStyle[prefix(prop)],"0px"===current&&(current=0),current!=to[prop]&&(changedProperties[changedProperties.length]=prop,t.node.style[prefix(prop)]=current);return changedProperties.length?void setTimeout(function(){t.node.style[TRANSITION_PROPERTY]=propertyNames.map(prefix).map(hyphenate).join(","),t.node.style[TRANSITION_TIMING_FUNCTION]=hyphenate(options.easing||"linear"),t.node.style[TRANSITION_DURATION]=options.duration/1e3+"s",transitionEndHandler=function(event){var index;index=changedProperties.indexOf(camelCase(unprefix(event.propertyName))),-1!==index&&changedProperties.splice(index,1),changedProperties.length||(t.root.fire(t.name+":end"),t.node.removeEventListener(TRANSITIONEND,transitionEndHandler,!1),complete&&complete())},t.node.addEventListener(TRANSITIONEND,transitionEndHandler,!1),setTimeout(function(){for(var i=changedProperties.length;i--;)prop=changedProperties[i],t.node.style[prefix(prop)]=to[prop]},0)},options.delay||0):void(complete&&complete())},resetStyle:function(){this.originalStyle?this.node.setAttribute("style",this.originalStyle):(this.node.getAttribute("style"),this.node.removeAttribute("style"))},processParams:function(params,defaults){return"number"==typeof params?params={duration:params}:"string"==typeof params?params="slow"===params?{duration:600}:"fast"===params?{duration:200}:{duration:400}:params||(params={}),fillGaps(params,defaults)}},vendors=["o","ms","moz","webkit"],vendorPattern=new RegExp("^(?:"+vendors.join("|")+")([A-Z])"),unprefixPattern=new RegExp("^-(?:"+vendors.join("|")+")-"),prefixCache={},Transition}(config_isClient,utils_createElement,utils_warn,utils_isNumeric,utils_isArray,utils_camelCase,utils_fillGaps,render_StringFragment__StringFragment),render_DomFragment_Element_shared_executeTransition__executeTransition=function(warn,Transition){return function(descriptor,root,owner,contextStack,isIntro){var transition,node,oldTransition;!root.transitionsEnabled||root._parent&&!root._parent.transitionsEnabled||(transition=new Transition(descriptor,root,owner,contextStack,isIntro),transition._fn&&(node=transition.node,transition._manager=root._transitionManager,(oldTransition=node._ractive.transition)&&oldTransition.complete(),node._ractive.transition=transition,transition._manager.push(node),isIntro?root._deferred.transitions.push(transition):transition.init()))}}(utils_warn,render_DomFragment_Element_shared_executeTransition_Transition),render_DomFragment_Element_initialise__initialise=function(types,namespaces,create,defineProperty,matches,warn,createElement,getElementNamespace,createElementAttributes,appendElementChildren,decorate,addEventProxies,updateLiveQueries,executeTransition,enforceCase){return function(element,options,docFrag){var parentFragment,pNode,contextStack,descriptor,namespace,name,attributes,width,height,loadHandler,root,selectBinding,errorMessage;if(element.type=types.ELEMENT,parentFragment=element.parentFragment=options.parentFragment,pNode=parentFragment.pNode,contextStack=parentFragment.contextStack,descriptor=element.descriptor=options.descriptor,element.root=root=parentFragment.root,element.index=options.index,element.lcName=descriptor.e.toLowerCase(),element.eventListeners=[],element.customEventListeners=[],pNode&&(namespace=element.namespace=getElementNamespace(descriptor,pNode),name=namespace!==namespaces.html?enforceCase(descriptor.e):descriptor.e,element.node=createElement(name,namespace),defineProperty(element.node,"_ractive",{value:{proxy:element,keypath:contextStack.length?contextStack[contextStack.length-1]:"",index:parentFragment.indexRefs,events:create(null),root:root}})),attributes=createElementAttributes(element,descriptor.a),descriptor.f){if(element.node&&element.node.getAttribute("contenteditable")&&element.node.innerHTML){if(errorMessage="A pre-populated contenteditable element should not have children",root.debug)throw new Error(errorMessage);warn(errorMessage)}appendElementChildren(element,element.node,descriptor,docFrag)}docFrag&&descriptor.v&&addEventProxies(element,descriptor.v),docFrag&&(root.twoway&&(element.bind(),element.node.getAttribute("contenteditable")&&element.node._ractive.binding&&element.node._ractive.binding.update()),attributes.name&&!attributes.name.twoway&&attributes.name.update(),"IMG"===element.node.tagName&&((width=element.attributes.width)||(height=element.attributes.height))&&element.node.addEventListener("load",loadHandler=function(){width&&(element.node.width=width.value),height&&(element.node.height=height.value),element.node.removeEventListener("load",loadHandler,!1)},!1),docFrag.appendChild(element.node),descriptor.o&&decorate(descriptor.o,root,element,contextStack),descriptor.t1&&executeTransition(descriptor.t1,root,element,contextStack,!0),"OPTION"===element.node.tagName&&("SELECT"===pNode.tagName&&(selectBinding=pNode._ractive.binding)&&selectBinding.deferUpdate(),element.node._ractive.value==pNode._ractive.value&&(element.node.selected=!0)),element.node.autofocus&&(root._deferred.focusable=element.node)),updateLiveQueries(element)}}(config_types,config_namespaces,utils_create,utils_defineProperty,utils_matches,utils_warn,utils_createElement,render_DomFragment_Element_initialise_getElementNamespace,render_DomFragment_Element_initialise_createElementAttributes,render_DomFragment_Element_initialise_appendElementChildren,render_DomFragment_Element_initialise_decorate__decorate,render_DomFragment_Element_initialise_addEventProxies__addEventProxies,render_DomFragment_Element_initialise_updateLiveQueries,render_DomFragment_Element_shared_executeTransition__executeTransition,render_DomFragment_shared_enforceCase),render_DomFragment_Element_prototype_teardown=function(executeTransition){return function(destroy){var eventName,binding,bindings,i,liveQueries,selector,query,nodesToRemove,j;for(this.fragment&&this.fragment.teardown(!1);this.attributes.length;)this.attributes.pop().teardown();if(this.node){for(eventName in this.node._ractive.events)this.node._ractive.events[eventName].teardown();(binding=this.node._ractive.binding)&&(binding.teardown(),bindings=this.root._twowayBindings[binding.attr.keypath],bindings.splice(bindings.indexOf(binding),1))}if(this.decorator&&this.decorator.teardown(),this.descriptor.t2&&executeTransition(this.descriptor.t2,this.root,this,this.parentFragment.contextStack,!1),destroy&&this.root._transitionManager.detachWhenReady(this),liveQueries=this.liveQueries)for(i=liveQueries.length;i--;)if(selector=liveQueries[i],nodesToRemove=this.liveQueries[selector])for(j=nodesToRemove.length,query=this.root._liveQueries[selector];j--;)query._remove(nodesToRemove[j])}}(render_DomFragment_Element_shared_executeTransition__executeTransition),config_voidElementNames=function(){return"area base br col command doctype embed hr img input keygen link meta param source track wbr".split(" ")}(),render_DomFragment_Element_prototype_toString=function(voidElementNames){return function(){var str,i,len;for(str="<"+(this.descriptor.y?"!doctype":this.descriptor.e),len=this.attributes.length,i=0;len>i;i+=1)str+=" "+this.attributes[i].toString();return str+=">",this.html?str+=this.html:this.fragment&&(str+=this.fragment.toString()),-1===voidElementNames.indexOf(this.descriptor.e)&&(str+="</"+this.descriptor.e+">"),str}}(config_voidElementNames),render_DomFragment_Element_prototype_find=function(matches){return function(selector){var queryResult;return matches(this.node,selector)?this.node:this.html&&(queryResult=this.node.querySelector(selector))?queryResult:this.fragment&&this.fragment.find?this.fragment.find(selector):void 0}}(utils_matches),render_DomFragment_Element_prototype_findAll=function(){return function(selector,query){var queryAllResult,i,numNodes,node,registeredNodes;if(query._test(this,!0)&&query.live&&((this.liveQueries||(this.liveQueries=[])).push(selector),this.liveQueries[selector]=[this.node]),this.html&&(queryAllResult=this.node.querySelectorAll(selector))&&(numNodes=queryAllResult.length))for(query.live&&(this.liveQueries[selector]||((this.liveQueries||(this.liveQueries=[])).push(selector),this.liveQueries[selector]=[]),registeredNodes=this.liveQueries[selector]),i=0;numNodes>i;i+=1)node=queryAllResult[i],query.push(node),query.live&&registeredNodes.push(node);this.fragment&&this.fragment.findAll(selector,query)}}(),render_DomFragment_Element_prototype_findComponent=function(){return function(selector){return this.fragment?this.fragment.findComponent(selector):void 0}}(),render_DomFragment_Element_prototype_findAllComponents=function(){return function(selector,query){this.fragment&&this.fragment.findAllComponents(selector,query)}}(),render_DomFragment_Element_prototype_bind=function(){return function(){var attributes=this.attributes;if(this.node&&(this.binding&&(this.binding.teardown(),this.binding=null),!(this.node.getAttribute("contenteditable")&&attributes.value&&attributes.value.bind())))switch(this.descriptor.e){case"select":case"textarea":return void(attributes.value&&attributes.value.bind());case"input":if("radio"===this.node.type||"checkbox"===this.node.type){if(attributes.name&&attributes.name.bind())return;if(attributes.checked&&attributes.checked.bind())return}if(attributes.value&&attributes.value.bind())return}}}(),render_DomFragment_Element__Element=function(initialise,teardown,toString,find,findAll,findComponent,findAllComponents,bind){var DomElement=function(options,docFrag){initialise(this,options,docFrag)};return DomElement.prototype={detach:function(){return this.node?(this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node):void 0},teardown:teardown,firstNode:function(){return this.node},findNextNode:function(){return null},bubble:function(){},toString:toString,find:find,findAll:findAll,findComponent:findComponent,findAllComponents:findAllComponents,bind:bind},DomElement}(render_DomFragment_Element_initialise__initialise,render_DomFragment_Element_prototype_teardown,render_DomFragment_Element_prototype_toString,render_DomFragment_Element_prototype_find,render_DomFragment_Element_prototype_findAll,render_DomFragment_Element_prototype_findComponent,render_DomFragment_Element_prototype_findAllComponents,render_DomFragment_Element_prototype_bind),config_errors={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser"},registries_partials={},parse_utils_stripHtmlComments=function(){return function(html){var commentStart,commentEnd,processed;
for(processed="";html.length;){if(commentStart=html.indexOf("<!--"),commentEnd=html.indexOf("-->"),-1===commentStart&&-1===commentEnd){processed+=html;break}if(-1!==commentStart&&-1===commentEnd)throw"Illegal HTML - expected closing comment sequence ('-->')";if(-1!==commentEnd&&-1===commentStart||commentStart>commentEnd)throw"Illegal HTML - unexpected closing comment sequence ('-->')";processed+=html.substr(0,commentStart),html=html.substring(commentEnd+3)}return processed}}(),parse_utils_stripStandalones=function(types){return function(tokens){var i,current,backOne,backTwo,leadingLinebreak,trailingLinebreak;for(leadingLinebreak=/^\s*\r?\n/,trailingLinebreak=/\r?\n\s*$/,i=2;i<tokens.length;i+=1)current=tokens[i],backOne=tokens[i-1],backTwo=tokens[i-2],current.type===types.TEXT&&backOne.type===types.MUSTACHE&&backTwo.type===types.TEXT&&trailingLinebreak.test(backTwo.value)&&leadingLinebreak.test(current.value)&&(backOne.mustacheType!==types.INTERPOLATOR&&backOne.mustacheType!==types.TRIPLE&&(backTwo.value=backTwo.value.replace(trailingLinebreak,"\n")),current.value=current.value.replace(leadingLinebreak,""),""===current.value&&tokens.splice(i--,1));return tokens}}(config_types),parse_utils_stripCommentTokens=function(types){return function(tokens){var i,current,previous,next;for(i=0;i<tokens.length;i+=1)current=tokens[i],previous=tokens[i-1],next=tokens[i+1],(current.mustacheType===types.COMMENT||current.mustacheType===types.DELIMCHANGE)&&(tokens.splice(i,1),previous&&next&&previous.type===types.TEXT&&next.type===types.TEXT&&(previous.value+=next.value,tokens.splice(i,1)),i-=1);return tokens}}(config_types),parse_Tokenizer_getMustache_getDelimiterChange=function(makeRegexMatcher){var getDelimiter=makeRegexMatcher(/^[^\s=]+/);return function(tokenizer){var start,opening,closing;return tokenizer.getStringMatch("=")?(start=tokenizer.pos,tokenizer.allowWhitespace(),(opening=getDelimiter(tokenizer))?(tokenizer.allowWhitespace(),(closing=getDelimiter(tokenizer))?(tokenizer.allowWhitespace(),tokenizer.getStringMatch("=")?[opening,closing]:(tokenizer.pos=start,null)):(tokenizer.pos=start,null)):(tokenizer.pos=start,null)):null}}(parse_Tokenizer_utils_makeRegexMatcher),parse_Tokenizer_getMustache_getMustacheType=function(types){var mustacheTypes={"#":types.SECTION,"^":types.INVERTED,"/":types.CLOSING,">":types.PARTIAL,"!":types.COMMENT,"&":types.TRIPLE};return function(tokenizer){var type=mustacheTypes[tokenizer.str.charAt(tokenizer.pos)];return type?(tokenizer.pos+=1,type):null}}(config_types),parse_Tokenizer_getMustache_getMustacheContent=function(types,makeRegexMatcher,getMustacheType){var getIndexRef=makeRegexMatcher(/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/),arrayMember=/^[0-9][1-9]*$/;return function(tokenizer,isTriple){var start,mustache,type,expr,i,remaining,index;if(start=tokenizer.pos,mustache={type:isTriple?types.TRIPLE:types.MUSTACHE},!(isTriple||((expr=tokenizer.getExpression())&&(mustache.mustacheType=types.INTERPOLATOR,tokenizer.allowWhitespace(),tokenizer.getStringMatch(tokenizer.delimiters[1])?tokenizer.pos-=tokenizer.delimiters[1].length:(tokenizer.pos=start,expr=null)),expr||(type=getMustacheType(tokenizer),type===types.TRIPLE?mustache={type:types.TRIPLE}:mustache.mustacheType=type||types.INTERPOLATOR,type!==types.COMMENT&&type!==types.CLOSING||(remaining=tokenizer.remaining(),index=remaining.indexOf(tokenizer.delimiters[1]),-1===index)))))return mustache.ref=remaining.substr(0,index),tokenizer.pos+=index,mustache;for(expr||(tokenizer.allowWhitespace(),expr=tokenizer.getExpression());expr.t===types.BRACKETED&&expr.x;)expr=expr.x;return expr.t===types.REFERENCE?mustache.ref=expr.n:expr.t===types.NUMBER_LITERAL&&arrayMember.test(expr.v)?mustache.ref=expr.v:mustache.expression=expr,i=getIndexRef(tokenizer),null!==i&&(mustache.indexRef=i),mustache}}(config_types,parse_Tokenizer_utils_makeRegexMatcher,parse_Tokenizer_getMustache_getMustacheType),parse_Tokenizer_getMustache__getMustache=function(types,getDelimiterChange,getMustacheContent){function getMustache(tokenizer,seekTriple){var content,delimiters,start=tokenizer.pos;return delimiters=seekTriple?tokenizer.tripleDelimiters:tokenizer.delimiters,tokenizer.getStringMatch(delimiters[0])?(content=getDelimiterChange(tokenizer))?tokenizer.getStringMatch(delimiters[1])?(tokenizer[seekTriple?"tripleDelimiters":"delimiters"]=content,{type:types.MUSTACHE,mustacheType:types.DELIMCHANGE}):(tokenizer.pos=start,null):(tokenizer.allowWhitespace(),content=getMustacheContent(tokenizer,seekTriple),null===content?(tokenizer.pos=start,null):(tokenizer.allowWhitespace(),tokenizer.getStringMatch(delimiters[1])?content:(tokenizer.pos=start,null))):null}return function(){var seekTripleFirst=this.tripleDelimiters[0].length>this.delimiters[0].length;return getMustache(this,seekTripleFirst)||getMustache(this,!seekTripleFirst)}}(config_types,parse_Tokenizer_getMustache_getDelimiterChange,parse_Tokenizer_getMustache_getMustacheContent),parse_Tokenizer_getComment_getComment=function(types){return function(){var content,remaining,endIndex;if(!this.getStringMatch("<!--"))return null;if(remaining=this.remaining(),endIndex=remaining.indexOf("-->"),-1===endIndex)throw new Error('Unexpected end of input (expected "-->" to close comment)');return content=remaining.substr(0,endIndex),this.pos+=endIndex+3,{type:types.COMMENT,content:content}}}(config_types),parse_Tokenizer_utils_getLowestIndex=function(){return function(haystack,needles){var i,index,lowest;for(i=needles.length;i--;){if(index=haystack.indexOf(needles[i]),!index)return 0;-1!==index&&(!lowest||lowest>index)&&(lowest=index)}return lowest||-1}}(),parse_Tokenizer_getTag__getTag=function(types,makeRegexMatcher,getLowestIndex){var getTag,getOpeningTag,getClosingTag,getTagName,getAttributes,getAttribute,getAttributeName,getAttributeValue,getUnquotedAttributeValue,getUnquotedAttributeValueToken,getUnquotedAttributeValueText,getQuotedStringToken,getQuotedAttributeValue;return getTag=function(){return getOpeningTag(this)||getClosingTag(this)},getOpeningTag=function(tokenizer){var start,tag,attrs,lowerCaseName;return start=tokenizer.pos,tokenizer.inside?null:tokenizer.getStringMatch("<")?(tag={type:types.TAG},tokenizer.getStringMatch("!")&&(tag.doctype=!0),tag.name=getTagName(tokenizer),tag.name?(attrs=getAttributes(tokenizer),attrs&&(tag.attrs=attrs),tokenizer.allowWhitespace(),tokenizer.getStringMatch("/")&&(tag.selfClosing=!0),tokenizer.getStringMatch(">")?(lowerCaseName=tag.name.toLowerCase(),("script"===lowerCaseName||"style"===lowerCaseName)&&(tokenizer.inside=lowerCaseName),tag):(tokenizer.pos=start,null)):(tokenizer.pos=start,null)):null},getClosingTag=function(tokenizer){var start,tag,expected;if(start=tokenizer.pos,expected=function(str){throw new Error("Unexpected character "+tokenizer.remaining().charAt(0)+" (expected "+str+")")},!tokenizer.getStringMatch("<"))return null;if(tag={type:types.TAG,closing:!0},tokenizer.getStringMatch("/")||expected('"/"'),tag.name=getTagName(tokenizer),tag.name||expected("tag name"),tokenizer.getStringMatch(">")||expected('">"'),tokenizer.inside){if(tag.name.toLowerCase()!==tokenizer.inside)return tokenizer.pos=start,null;tokenizer.inside=null}return tag},getTagName=makeRegexMatcher(/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/),getAttributes=function(tokenizer){var start,attrs,attr;if(start=tokenizer.pos,tokenizer.allowWhitespace(),attr=getAttribute(tokenizer),!attr)return tokenizer.pos=start,null;for(attrs=[];null!==attr;)attrs[attrs.length]=attr,tokenizer.allowWhitespace(),attr=getAttribute(tokenizer);return attrs},getAttribute=function(tokenizer){var attr,name,value;return(name=getAttributeName(tokenizer))?(attr={name:name},value=getAttributeValue(tokenizer),value&&(attr.value=value),attr):null},getAttributeName=makeRegexMatcher(/^[^\s"'>\/=]+/),getAttributeValue=function(tokenizer){var start,value;return start=tokenizer.pos,tokenizer.allowWhitespace(),tokenizer.getStringMatch("=")?(tokenizer.allowWhitespace(),value=getQuotedAttributeValue(tokenizer,"'")||getQuotedAttributeValue(tokenizer,'"')||getUnquotedAttributeValue(tokenizer),null===value?(tokenizer.pos=start,null):value):(tokenizer.pos=start,null)},getUnquotedAttributeValueText=makeRegexMatcher(/^[^\s"'=<>`]+/),getUnquotedAttributeValueToken=function(tokenizer){var start,text,index;return start=tokenizer.pos,(text=getUnquotedAttributeValueText(tokenizer))?(-1!==(index=text.indexOf(tokenizer.delimiters[0]))&&(text=text.substr(0,index),tokenizer.pos=start+text.length),{type:types.TEXT,value:text}):null},getUnquotedAttributeValue=function(tokenizer){var tokens,token;for(tokens=[],token=tokenizer.getMustache()||getUnquotedAttributeValueToken(tokenizer);null!==token;)tokens[tokens.length]=token,token=tokenizer.getMustache()||getUnquotedAttributeValueToken(tokenizer);return tokens.length?tokens:null},getQuotedAttributeValue=function(tokenizer,quoteMark){var start,tokens,token;if(start=tokenizer.pos,!tokenizer.getStringMatch(quoteMark))return null;for(tokens=[],token=tokenizer.getMustache()||getQuotedStringToken(tokenizer,quoteMark);null!==token;)tokens[tokens.length]=token,token=tokenizer.getMustache()||getQuotedStringToken(tokenizer,quoteMark);return tokenizer.getStringMatch(quoteMark)?tokens:(tokenizer.pos=start,null)},getQuotedStringToken=function(tokenizer,quoteMark){var start,index,remaining;if(start=tokenizer.pos,remaining=tokenizer.remaining(),index=getLowestIndex(remaining,[quoteMark,tokenizer.delimiters[0],tokenizer.delimiters[1]]),-1===index)throw new Error("Quoted attribute value must have a closing quote");return index?(tokenizer.pos+=index,{type:types.TEXT,value:remaining.substr(0,index)}):null},getTag}(config_types,parse_Tokenizer_utils_makeRegexMatcher,parse_Tokenizer_utils_getLowestIndex),parse_Tokenizer_getText__getText=function(types,getLowestIndex){return function(){var index,remaining,barrier;return remaining=this.remaining(),barrier=this.inside?"</"+this.inside:"<",(index=getLowestIndex(remaining,[barrier,this.delimiters[0],this.tripleDelimiters[0]]))?(-1===index&&(index=remaining.length),this.pos+=index,{type:types.TEXT,value:remaining.substr(0,index)}):null}}(config_types,parse_Tokenizer_utils_getLowestIndex),parse_Tokenizer_getExpression_getPrimary_getLiteral_getBooleanLiteral=function(types){return function(tokenizer){var remaining=tokenizer.remaining();return"true"===remaining.substr(0,4)?(tokenizer.pos+=4,{t:types.BOOLEAN_LITERAL,v:"true"}):"false"===remaining.substr(0,5)?(tokenizer.pos+=5,{t:types.BOOLEAN_LITERAL,v:"false"}):null}}(config_types),parse_Tokenizer_getExpression_getPrimary_getLiteral_getObjectLiteral_getKeyValuePair=function(types,getKey){return function(tokenizer){var start,key,value;return start=tokenizer.pos,tokenizer.allowWhitespace(),key=getKey(tokenizer),null===key?(tokenizer.pos=start,null):(tokenizer.allowWhitespace(),tokenizer.getStringMatch(":")?(tokenizer.allowWhitespace(),value=tokenizer.getExpression(),null===value?(tokenizer.pos=start,null):{t:types.KEY_VALUE_PAIR,k:key,v:value}):(tokenizer.pos=start,null))}}(config_types,parse_Tokenizer_getExpression_shared_getKey),parse_Tokenizer_getExpression_getPrimary_getLiteral_getObjectLiteral_getKeyValuePairs=function(getKeyValuePair){return function getKeyValuePairs(tokenizer){var start,pairs,pair,keyValuePairs;return start=tokenizer.pos,pair=getKeyValuePair(tokenizer),null===pair?null:(pairs=[pair],tokenizer.getStringMatch(",")?(keyValuePairs=getKeyValuePairs(tokenizer),keyValuePairs?pairs.concat(keyValuePairs):(tokenizer.pos=start,null)):pairs)}}(parse_Tokenizer_getExpression_getPrimary_getLiteral_getObjectLiteral_getKeyValuePair),parse_Tokenizer_getExpression_getPrimary_getLiteral_getObjectLiteral__getObjectLiteral=function(types,getKeyValuePairs){return function(tokenizer){var start,keyValuePairs;return start=tokenizer.pos,tokenizer.allowWhitespace(),tokenizer.getStringMatch("{")?(keyValuePairs=getKeyValuePairs(tokenizer),tokenizer.allowWhitespace(),tokenizer.getStringMatch("}")?{t:types.OBJECT_LITERAL,m:keyValuePairs}:(tokenizer.pos=start,null)):(tokenizer.pos=start,null)}}(config_types,parse_Tokenizer_getExpression_getPrimary_getLiteral_getObjectLiteral_getKeyValuePairs),parse_Tokenizer_getExpression_shared_getExpressionList=function(){return function getExpressionList(tokenizer){var start,expressions,expr,next;if(start=tokenizer.pos,tokenizer.allowWhitespace(),expr=tokenizer.getExpression(),null===expr)return null;if(expressions=[expr],tokenizer.allowWhitespace(),tokenizer.getStringMatch(",")){if(next=getExpressionList(tokenizer),null===next)return tokenizer.pos=start,null;expressions=expressions.concat(next)}return expressions}}(),parse_Tokenizer_getExpression_getPrimary_getLiteral_getArrayLiteral=function(types,getExpressionList){return function(tokenizer){var start,expressionList;return start=tokenizer.pos,tokenizer.allowWhitespace(),tokenizer.getStringMatch("[")?(expressionList=getExpressionList(tokenizer),tokenizer.getStringMatch("]")?{t:types.ARRAY_LITERAL,m:expressionList}:(tokenizer.pos=start,null)):(tokenizer.pos=start,null)}}(config_types,parse_Tokenizer_getExpression_shared_getExpressionList),parse_Tokenizer_getExpression_getPrimary_getLiteral__getLiteral=function(getNumberLiteral,getBooleanLiteral,getStringLiteral,getObjectLiteral,getArrayLiteral){return function(tokenizer){var literal=getNumberLiteral(tokenizer)||getBooleanLiteral(tokenizer)||getStringLiteral(tokenizer)||getObjectLiteral(tokenizer)||getArrayLiteral(tokenizer);return literal}}(parse_Tokenizer_getExpression_getPrimary_getLiteral_getNumberLiteral,parse_Tokenizer_getExpression_getPrimary_getLiteral_getBooleanLiteral,parse_Tokenizer_getExpression_getPrimary_getLiteral_getStringLiteral__getStringLiteral,parse_Tokenizer_getExpression_getPrimary_getLiteral_getObjectLiteral__getObjectLiteral,parse_Tokenizer_getExpression_getPrimary_getLiteral_getArrayLiteral),parse_Tokenizer_getExpression_getPrimary_getReference=function(types,makeRegexMatcher,getName){var getDotRefinement,getArrayRefinement,getArrayMember,globals;return getDotRefinement=makeRegexMatcher(/^\.[a-zA-Z_$0-9]+/),getArrayRefinement=function(tokenizer){var num=getArrayMember(tokenizer);return num?"."+num:null},getArrayMember=makeRegexMatcher(/^\[(0|[1-9][0-9]*)\]/),globals=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,function(tokenizer){var startPos,ancestor,name,dot,combo,refinement,lastDotIndex;for(startPos=tokenizer.pos,ancestor="";tokenizer.getStringMatch("../");)ancestor+="../";if(ancestor||(dot=tokenizer.getStringMatch(".")||""),name=getName(tokenizer)||"",!ancestor&&!dot&&globals.test(name))return{t:types.GLOBAL,v:name};if("this"!==name||ancestor||dot||(name=".",startPos+=3),combo=(ancestor||dot)+name,!combo)return null;for(;refinement=getDotRefinement(tokenizer)||getArrayRefinement(tokenizer);)combo+=refinement;return tokenizer.getStringMatch("(")&&(lastDotIndex=combo.lastIndexOf("."),-1!==lastDotIndex?(combo=combo.substr(0,lastDotIndex),tokenizer.pos=startPos+combo.length):tokenizer.pos-=1),{t:types.REFERENCE,n:combo}}}(config_types,parse_Tokenizer_utils_makeRegexMatcher,parse_Tokenizer_getExpression_shared_getName),parse_Tokenizer_getExpression_getPrimary_getBracketedExpression=function(types){return function(tokenizer){var start,expr;return start=tokenizer.pos,tokenizer.getStringMatch("(")?(tokenizer.allowWhitespace(),(expr=tokenizer.getExpression())?(tokenizer.allowWhitespace(),tokenizer.getStringMatch(")")?{t:types.BRACKETED,x:expr}:(tokenizer.pos=start,null)):(tokenizer.pos=start,null)):null}}(config_types),parse_Tokenizer_getExpression_getPrimary__getPrimary=function(getLiteral,getReference,getBracketedExpression){return function(tokenizer){return getLiteral(tokenizer)||getReference(tokenizer)||getBracketedExpression(tokenizer)}}(parse_Tokenizer_getExpression_getPrimary_getLiteral__getLiteral,parse_Tokenizer_getExpression_getPrimary_getReference,parse_Tokenizer_getExpression_getPrimary_getBracketedExpression),parse_Tokenizer_getExpression_shared_getRefinement=function(types,getName){return function(tokenizer){var start,name,expr;if(start=tokenizer.pos,tokenizer.allowWhitespace(),tokenizer.getStringMatch(".")){if(tokenizer.allowWhitespace(),name=getName(tokenizer))return{t:types.REFINEMENT,n:name};tokenizer.expected("a property name")}return tokenizer.getStringMatch("[")?(tokenizer.allowWhitespace(),expr=tokenizer.getExpression(),expr||tokenizer.expected("an expression"),tokenizer.allowWhitespace(),tokenizer.getStringMatch("]")||tokenizer.expected('"]"'),{t:types.REFINEMENT,x:expr}):null}}(config_types,parse_Tokenizer_getExpression_shared_getName),parse_Tokenizer_getExpression_getMemberOrInvocation=function(types,getPrimary,getExpressionList,getRefinement){return function(tokenizer){var current,expression,refinement,expressionList;if(expression=getPrimary(tokenizer),!expression)return null;for(;expression;)if(current=tokenizer.pos,refinement=getRefinement(tokenizer))expression={t:types.MEMBER,x:expression,r:refinement};else{if(!tokenizer.getStringMatch("("))break;if(tokenizer.allowWhitespace(),expressionList=getExpressionList(tokenizer),tokenizer.allowWhitespace(),!tokenizer.getStringMatch(")")){tokenizer.pos=current;break}expression={t:types.INVOCATION,x:expression},expressionList&&(expression.o=expressionList)}return expression}}(config_types,parse_Tokenizer_getExpression_getPrimary__getPrimary,parse_Tokenizer_getExpression_shared_getExpressionList,parse_Tokenizer_getExpression_shared_getRefinement),parse_Tokenizer_getExpression_getTypeOf=function(types,getMemberOrInvocation){var getTypeOf,makePrefixSequenceMatcher;return makePrefixSequenceMatcher=function(symbol,fallthrough){return function(tokenizer){var start,expression;return tokenizer.getStringMatch(symbol)?(start=tokenizer.pos,tokenizer.allowWhitespace(),expression=tokenizer.getExpression(),expression||tokenizer.expected("an expression"),{s:symbol,o:expression,t:types.PREFIX_OPERATOR}):fallthrough(tokenizer)}},function(){var i,len,matcher,prefixOperators,fallthrough;for(prefixOperators="! ~ + - typeof".split(" "),fallthrough=getMemberOrInvocation,i=0,len=prefixOperators.length;len>i;i+=1)matcher=makePrefixSequenceMatcher(prefixOperators[i],fallthrough),fallthrough=matcher;getTypeOf=fallthrough}(),getTypeOf}(config_types,parse_Tokenizer_getExpression_getMemberOrInvocation),parse_Tokenizer_getExpression_getLogicalOr=function(types,getTypeOf){var getLogicalOr,makeInfixSequenceMatcher;return makeInfixSequenceMatcher=function(symbol,fallthrough){return function(tokenizer){var start,left,right;return(left=fallthrough(tokenizer))?(start=tokenizer.pos,tokenizer.allowWhitespace(),tokenizer.getStringMatch(symbol)?"in"===symbol&&/[a-zA-Z_$0-9]/.test(tokenizer.remaining().charAt(0))?(tokenizer.pos=start,left):(tokenizer.allowWhitespace(),right=tokenizer.getExpression(),right?{t:types.INFIX_OPERATOR,s:symbol,o:[left,right]}:(tokenizer.pos=start,left)):(tokenizer.pos=start,left)):null}},function(){var i,len,matcher,infixOperators,fallthrough;for(infixOperators="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),fallthrough=getTypeOf,i=0,len=infixOperators.length;len>i;i+=1)matcher=makeInfixSequenceMatcher(infixOperators[i],fallthrough),fallthrough=matcher;getLogicalOr=fallthrough}(),getLogicalOr}(config_types,parse_Tokenizer_getExpression_getTypeOf),parse_Tokenizer_getExpression_getConditional=function(types,getLogicalOr){return function(tokenizer){var start,expression,ifTrue,ifFalse;return(expression=getLogicalOr(tokenizer))?(start=tokenizer.pos,tokenizer.allowWhitespace(),tokenizer.getStringMatch("?")?(tokenizer.allowWhitespace(),(ifTrue=tokenizer.getExpression())?(tokenizer.allowWhitespace(),tokenizer.getStringMatch(":")?(tokenizer.allowWhitespace(),ifFalse=tokenizer.getExpression(),ifFalse?{t:types.CONDITIONAL,o:[expression,ifTrue,ifFalse]}:(tokenizer.pos=start,expression)):(tokenizer.pos=start,expression)):(tokenizer.pos=start,expression)):(tokenizer.pos=start,expression)):null}}(config_types,parse_Tokenizer_getExpression_getLogicalOr),parse_Tokenizer_getExpression__getExpression=function(getConditional){return function(){return getConditional(this)}}(parse_Tokenizer_getExpression_getConditional),parse_Tokenizer__Tokenizer=function(getMustache,getComment,getTag,getText,getExpression,allowWhitespace,getStringMatch){var Tokenizer;return Tokenizer=function(str,options){var token;for(this.str=str,this.pos=0,this.delimiters=options.delimiters,this.tripleDelimiters=options.tripleDelimiters,this.tokens=[];this.pos<this.str.length;)token=this.getToken(),null===token&&this.remaining()&&this.fail(),this.tokens.push(token)},Tokenizer.prototype={getToken:function(){var token=this.getMustache()||this.getComment()||this.getTag()||this.getText();return token},getMustache:getMustache,getComment:getComment,getTag:getTag,getText:getText,getExpression:getExpression,allowWhitespace:allowWhitespace,getStringMatch:getStringMatch,remaining:function(){return this.str.substring(this.pos)},fail:function(){var last20,next20;throw last20=this.str.substr(0,this.pos).substr(-20),20===last20.length&&(last20="..."+last20),next20=this.remaining().substr(0,20),20===next20.length&&(next20+="..."),new Error("Could not parse template: "+(last20?last20+"<- ":"")+"failed at character "+this.pos+" ->"+next20)},expected:function(thing){var remaining=this.remaining().substr(0,40);throw 40===remaining.length&&(remaining+="..."),new Error('Tokenizer failed: unexpected string "'+remaining+'" (expected '+thing+")")}},Tokenizer}(parse_Tokenizer_getMustache__getMustache,parse_Tokenizer_getComment_getComment,parse_Tokenizer_getTag__getTag,parse_Tokenizer_getText__getText,parse_Tokenizer_getExpression__getExpression,parse_Tokenizer_utils_allowWhitespace,parse_Tokenizer_utils_getStringMatch),parse_tokenize=function(stripHtmlComments,stripStandalones,stripCommentTokens,Tokenizer,circular){var tokenize,Ractive;return circular.push(function(){Ractive=circular.Ractive}),tokenize=function(template,options){var tokenizer,tokens;return options=options||{},options.stripComments!==!1&&(template=stripHtmlComments(template)),tokenizer=new Tokenizer(template,{delimiters:options.delimiters||(Ractive?Ractive.delimiters:["{{","}}"]),tripleDelimiters:options.tripleDelimiters||(Ractive?Ractive.tripleDelimiters:["{{{","}}}"])}),tokens=tokenizer.tokens,stripStandalones(tokens),stripCommentTokens(tokens),tokens}}(parse_utils_stripHtmlComments,parse_utils_stripStandalones,parse_utils_stripCommentTokens,parse_Tokenizer__Tokenizer,circular),parse_Parser_getText_TextStub__TextStub=function(types){var TextStub,htmlEntities,controlCharacters,namedEntityPattern,hexEntityPattern,decimalEntityPattern,validateCode,decodeCharacterReferences,whitespace;return TextStub=function(token,preserveWhitespace){this.text=preserveWhitespace?token.value:token.value.replace(whitespace," ")},TextStub.prototype={type:types.TEXT,toJSON:function(){return this.decoded||(this.decoded=decodeCharacterReferences(this.text))},toString:function(){return this.text}},htmlEntities={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},controlCharacters=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],namedEntityPattern=new RegExp("&("+Object.keys(htmlEntities).join("|")+");?","g"),hexEntityPattern=/&#x([0-9]+);?/g,decimalEntityPattern=/&#([0-9]+);?/g,validateCode=function(code){return code?10===code?32:128>code?code:159>=code?controlCharacters[code-128]:55296>code?code:57343>=code?65533:65535>=code?code:65533:65533},decodeCharacterReferences=function(html){var result;return result=html.replace(namedEntityPattern,function(match,name){return htmlEntities[name]?String.fromCharCode(htmlEntities[name]):match}),result=result.replace(hexEntityPattern,function(match,hex){return String.fromCharCode(validateCode(parseInt(hex,16)))}),result=result.replace(decimalEntityPattern,function(match,charCode){return String.fromCharCode(validateCode(charCode))})},whitespace=/\s+/g,TextStub}(config_types),parse_Parser_getText__getText=function(types,TextStub){return function(token){return token.type===types.TEXT?(this.pos+=1,new TextStub(token,this.preserveWhitespace)):null}}(config_types,parse_Parser_getText_TextStub__TextStub),parse_Parser_getComment_CommentStub__CommentStub=function(types){var CommentStub;return CommentStub=function(token){this.content=token.content},CommentStub.prototype={toJSON:function(){return{t:types.COMMENT,f:this.content}},toString:function(){return"<!--"+this.content+"-->"}},CommentStub}(config_types),parse_Parser_getComment__getComment=function(types,CommentStub){return function(token){return token.type===types.COMMENT?(this.pos+=1,new CommentStub(token,this.preserveWhitespace)):null}}(config_types,parse_Parser_getComment_CommentStub__CommentStub),parse_Parser_getMustache_ExpressionStub__ExpressionStub=function(types,isObject){var ExpressionStub,getRefs,stringify;return ExpressionStub=function(token){this.refs=[],getRefs(token,this.refs),this.str=stringify(token,this.refs)},ExpressionStub.prototype={toJSON:function(){return this.json?this.json:(this.json={r:this.refs,s:this.str},this.json)}},getRefs=function(token,refs){var i,list;if(token.t===types.REFERENCE&&-1===refs.indexOf(token.n)&&refs.unshift(token.n),list=token.o||token.m)if(isObject(list))getRefs(list,refs);else for(i=list.length;i--;)getRefs(list[i],refs);token.x&&getRefs(token.x,refs),token.r&&getRefs(token.r,refs),token.v&&getRefs(token.v,refs)},stringify=function(token,refs){var map=function(item){return stringify(item,refs)};switch(token.t){case types.BOOLEAN_LITERAL:case types.GLOBAL:case types.NUMBER_LITERAL:return token.v;case types.STRING_LITERAL:return"'"+token.v.replace(/'/g,"\\'")+"'";case types.ARRAY_LITERAL:return"["+(token.m?token.m.map(map).join(","):"")+"]";case types.OBJECT_LITERAL:return"{"+(token.m?token.m.map(map).join(","):"")+"}";case types.KEY_VALUE_PAIR:return token.k+":"+stringify(token.v,refs);case types.PREFIX_OPERATOR:return("typeof"===token.s?"typeof ":token.s)+stringify(token.o,refs);case types.INFIX_OPERATOR:return stringify(token.o[0],refs)+("in"===token.s.substr(0,2)?" "+token.s+" ":token.s)+stringify(token.o[1],refs);case types.INVOCATION:return stringify(token.x,refs)+"("+(token.o?token.o.map(map).join(","):"")+")";case types.BRACKETED:return"("+stringify(token.x,refs)+")";case types.MEMBER:return stringify(token.x,refs)+stringify(token.r,refs);case types.REFINEMENT:return token.n?"."+token.n:"["+stringify(token.x,refs)+"]";case types.CONDITIONAL:return stringify(token.o[0],refs)+"?"+stringify(token.o[1],refs)+":"+stringify(token.o[2],refs);case types.REFERENCE:return"${"+refs.indexOf(token.n)+"}";default:throw new Error("Could not stringify expression token. This error is unexpected")}},ExpressionStub}(config_types,utils_isObject),parse_Parser_getMustache_MustacheStub__MustacheStub=function(types,ExpressionStub){var MustacheStub=function(token,parser){this.type=token.type===types.TRIPLE?types.TRIPLE:token.mustacheType,token.ref&&(this.ref=token.ref),token.expression&&(this.expr=new ExpressionStub(token.expression)),parser.pos+=1};return MustacheStub.prototype={toJSON:function(){var json;return this.json?this.json:(json={t:this.type},this.ref&&(json.r=this.ref),this.expr&&(json.x=this.expr.toJSON()),this.json=json,json)},toString:function(){return!1}},MustacheStub}(config_types,parse_Parser_getMustache_ExpressionStub__ExpressionStub),parse_Parser_utils_stringifyStubs=function(){return function(items){var itemStr,i,len,str="";if(!items)return"";for(i=0,len=items.length;len>i;i+=1){if(itemStr=items[i].toString(),itemStr===!1)return!1;str+=itemStr}return str}}(),parse_Parser_utils_jsonifyStubs=function(stringifyStubs){return function(items,noStringify){var str,json;return noStringify||(str=stringifyStubs(items),str===!1)?json=items.map(function(item){return item.toJSON(noStringify)}):str}}(parse_Parser_utils_stringifyStubs),parse_Parser_getMustache_SectionStub__SectionStub=function(types,jsonifyStubs,ExpressionStub){var SectionStub=function(firstToken,parser){var next;for(this.ref=firstToken.ref,this.indexRef=firstToken.indexRef,this.inverted=firstToken.mustacheType===types.INVERTED,firstToken.expression&&(this.expr=new ExpressionStub(firstToken.expression)),parser.pos+=1,this.items=[],next=parser.next();next;){if(next.mustacheType===types.CLOSING){if(next.ref.trim()===this.ref||this.expr){parser.pos+=1;break}throw new Error("Could not parse template: Illegal closing section")}this.items[this.items.length]=parser.getStub(),next=parser.next()}};return SectionStub.prototype={toJSON:function(noStringify){var json;return this.json?this.json:(json={t:types.SECTION},this.ref&&(json.r=this.ref),this.indexRef&&(json.i=this.indexRef),this.inverted&&(json.n=!0),this.expr&&(json.x=this.expr.toJSON()),this.items.length&&(json.f=jsonifyStubs(this.items,noStringify)),this.json=json,json)},toString:function(){return!1}},SectionStub}(config_types,parse_Parser_utils_jsonifyStubs,parse_Parser_getMustache_ExpressionStub__ExpressionStub),parse_Parser_getMustache__getMustache=function(types,MustacheStub,SectionStub){return function(token){return token.type===types.MUSTACHE||token.type===types.TRIPLE?token.mustacheType===types.SECTION||token.mustacheType===types.INVERTED?new SectionStub(token,this):new MustacheStub(token,this):void 0}}(config_types,parse_Parser_getMustache_MustacheStub__MustacheStub,parse_Parser_getMustache_SectionStub__SectionStub),parse_Parser_getElement_ElementStub_utils_siblingsByTagName=function(){return{li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote dir div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rp","rt"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tr:["tr"],td:["td","th"],th:["td","th"]}
}(),parse_Parser_getElement_ElementStub_utils_filterAttributes=function(isArray){function deepClone(obj){var result,key;if("object"!=typeof obj)return obj;if(isArray(obj))return obj.map(deepClone);result={};for(key in obj)obj.hasOwnProperty(key)&&(result[key]=deepClone(obj[key]));return result}return function(items){var attrs,proxies,filtered,i,len,item;for(filtered={},attrs=[],proxies=[],len=items.length,i=0;len>i;i+=1)if(item=items[i],"intro"===item.name){if(filtered.intro)throw new Error("An element can only have one intro transition");filtered.intro=item}else if("outro"===item.name){if(filtered.outro)throw new Error("An element can only have one outro transition");filtered.outro=item}else if("intro-outro"===item.name){if(filtered.intro||filtered.outro)throw new Error("An element can only have one intro and one outro transition");filtered.intro=item,filtered.outro=deepClone(item)}else"proxy-"===item.name.substr(0,6)?(item.name=item.name.substring(6),proxies[proxies.length]=item):"on-"===item.name.substr(0,3)?(item.name=item.name.substring(3),proxies[proxies.length]=item):"decorator"===item.name?filtered.decorator=item:attrs[attrs.length]=item;return filtered.attrs=attrs,filtered.proxies=proxies,filtered}}(utils_isArray),parse_Parser_getElement_ElementStub_utils_processDirective=function(types,parseJSON){return function(directive){var processed,tokens,token,colonIndex,throwError,directiveName,directiveArgs,parsed;for(throwError=function(){throw new Error("Illegal directive")},directive.name&&directive.value||throwError(),processed={directiveType:directive.name},tokens=directive.value,directiveName=[],directiveArgs=[];tokens.length;)if(token=tokens.shift(),token.type===types.TEXT){if(colonIndex=token.value.indexOf(":"),-1!==colonIndex){colonIndex&&(directiveName[directiveName.length]={type:types.TEXT,value:token.value.substr(0,colonIndex)}),token.value.length>colonIndex+1&&(directiveArgs[0]={type:types.TEXT,value:token.value.substring(colonIndex+1)});break}directiveName[directiveName.length]=token}else directiveName[directiveName.length]=token;return directiveArgs=directiveArgs.concat(tokens),processed.name=1===directiveName.length&&directiveName[0].type===types.TEXT?directiveName[0].value:directiveName,directiveArgs.length&&(1===directiveArgs.length&&directiveArgs[0].type===types.TEXT?(parsed=parseJSON("["+directiveArgs[0].value+"]"),processed.args=parsed?parsed.value:directiveArgs[0].value):processed.dynamicArgs=directiveArgs),processed}}(config_types,utils_parseJSON),parse_Parser_StringStub_StringParser=function(getText,getMustache){var StringParser;return StringParser=function(tokens,options){var stub;for(this.tokens=tokens||[],this.pos=0,this.options=options,this.result=[];stub=this.getStub();)this.result.push(stub)},StringParser.prototype={getStub:function(){var token=this.next();return token?this.getText(token)||this.getMustache(token):null},getText:getText,getMustache:getMustache,next:function(){return this.tokens[this.pos]}},StringParser}(parse_Parser_getText__getText,parse_Parser_getMustache__getMustache),parse_Parser_StringStub__StringStub=function(StringParser,stringifyStubs,jsonifyStubs){var StringStub;return StringStub=function(tokens){var parser=new StringParser(tokens);this.stubs=parser.result},StringStub.prototype={toJSON:function(noStringify){var json;return this["json_"+noStringify]?this["json_"+noStringify]:json=this["json_"+noStringify]=jsonifyStubs(this.stubs,noStringify)},toString:function(){return void 0!==this.str?this.str:(this.str=stringifyStubs(this.stubs),this.str)}},StringStub}(parse_Parser_StringStub_StringParser,parse_Parser_utils_stringifyStubs,parse_Parser_utils_jsonifyStubs),parse_Parser_getElement_ElementStub_utils_jsonifyDirective=function(StringStub){return function(directive){var result,name;if("string"==typeof directive.name){if(!directive.args&&!directive.dynamicArgs)return directive.name;name=directive.name}else name=new StringStub(directive.name).toJSON();return result={n:name},directive.args?(result.a=directive.args,result):(directive.dynamicArgs&&(result.d=new StringStub(directive.dynamicArgs).toJSON()),result)}}(parse_Parser_StringStub__StringStub),parse_Parser_getElement_ElementStub_toJSON=function(types,jsonifyStubs,jsonifyDirective){return function(noStringify){var json,name,value,proxy,i,len,attribute;if(this["json_"+noStringify])return this["json_"+noStringify];if(json=this.component?{t:types.COMPONENT,e:this.component}:{t:types.ELEMENT,e:this.tag},this.doctype&&(json.y=1),this.attributes&&this.attributes.length)for(json.a={},len=this.attributes.length,i=0;len>i;i+=1){if(attribute=this.attributes[i],name=attribute.name,json.a[name])throw new Error("You cannot have multiple attributes with the same name");value=null===attribute.value?null:attribute.value.toJSON(noStringify),json.a[name]=value}if(this.items&&this.items.length&&(json.f=jsonifyStubs(this.items,noStringify)),this.proxies&&this.proxies.length)for(json.v={},len=this.proxies.length,i=0;len>i;i+=1)proxy=this.proxies[i],json.v[proxy.directiveType]=jsonifyDirective(proxy);return this.intro&&(json.t1=jsonifyDirective(this.intro)),this.outro&&(json.t2=jsonifyDirective(this.outro)),this.decorator&&(json.o=jsonifyDirective(this.decorator)),this["json_"+noStringify]=json,json}}(config_types,parse_Parser_utils_jsonifyStubs,parse_Parser_getElement_ElementStub_utils_jsonifyDirective),parse_Parser_getElement_ElementStub_toString=function(stringifyStubs,voidElementNames){var htmlElements;return htmlElements="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),function(){var str,i,len,attrStr,name,attrValueStr,fragStr,isVoid;if(void 0!==this.str)return this.str;if(this.component)return this.str=!1;if(-1===htmlElements.indexOf(this.tag.toLowerCase()))return this.str=!1;if(this.proxies||this.intro||this.outro||this.decorator)return this.str=!1;if(fragStr=stringifyStubs(this.items),fragStr===!1)return this.str=!1;if(isVoid=-1!==voidElementNames.indexOf(this.tag.toLowerCase()),str="<"+this.tag,this.attributes)for(i=0,len=this.attributes.length;len>i;i+=1){if(name=this.attributes[i].name,-1!==name.indexOf(":"))return this.str=!1;if("id"===name||"intro"===name||"outro"===name)return this.str=!1;if(attrStr=" "+name,null!==this.attributes[i].value){if(attrValueStr=this.attributes[i].value.toString(),attrValueStr===!1)return this.str=!1;""!==attrValueStr&&(attrStr+="=",attrStr+=/[\s"'=<>`]/.test(attrValueStr)?'"'+attrValueStr.replace(/"/g,"&quot;")+'"':attrValueStr)}str+=attrStr}return this.selfClosing&&!isVoid?(str+="/>",this.str=str):(str+=">",isVoid?this.str=str:(str+=fragStr,str+="</"+this.tag+">",this.str=str))}}(parse_Parser_utils_stringifyStubs,config_voidElementNames),parse_Parser_getElement_ElementStub__ElementStub=function(types,voidElementNames,warn,camelCase,stringifyStubs,siblingsByTagName,filterAttributes,processDirective,toJSON,toString,StringStub){var ElementStub,allElementNames,closedByParentClose,onPattern,sanitize,leadingWhitespace=/^\s+/,trailingWhitespace=/\s+$/;return ElementStub=function(firstToken,parser,preserveWhitespace){var next,attrs,filtered,proxies,item,getFrag,lowerCaseTag;if(parser.pos+=1,getFrag=function(attr){return{name:attr.name,value:attr.value?new StringStub(attr.value):null}},this.tag=firstToken.name,lowerCaseTag=firstToken.name.toLowerCase(),"rv-"===lowerCaseTag.substr(0,3)&&(warn('The "rv-" prefix for components has been deprecated. Support will be removed in a future version'),this.tag=this.tag.substring(3)),preserveWhitespace=preserveWhitespace||"pre"===lowerCaseTag,firstToken.attrs&&(filtered=filterAttributes(firstToken.attrs),attrs=filtered.attrs,proxies=filtered.proxies,parser.options.sanitize&&parser.options.sanitize.eventAttributes&&(attrs=attrs.filter(sanitize)),attrs.length&&(this.attributes=attrs.map(getFrag)),proxies.length&&(this.proxies=proxies.map(processDirective)),filtered.intro&&(this.intro=processDirective(filtered.intro)),filtered.outro&&(this.outro=processDirective(filtered.outro)),filtered.decorator&&(this.decorator=processDirective(filtered.decorator))),firstToken.doctype&&(this.doctype=!0),firstToken.selfClosing&&(this.selfClosing=!0),-1!==voidElementNames.indexOf(lowerCaseTag)&&(this.isVoid=!0),!this.selfClosing&&!this.isVoid){for(this.siblings=siblingsByTagName[lowerCaseTag],this.items=[],next=parser.next();next&&next.mustacheType!==types.CLOSING;){if(next.type===types.TAG){if(next.closing){next.name.toLowerCase()===lowerCaseTag&&(parser.pos+=1);break}if(this.siblings&&-1!==this.siblings.indexOf(next.name.toLowerCase()))break}this.items[this.items.length]=parser.getStub(),next=parser.next()}preserveWhitespace||(item=this.items[0],item&&item.type===types.TEXT&&(item.text=item.text.replace(leadingWhitespace,""),item.text||this.items.shift()),item=this.items[this.items.length-1],item&&item.type===types.TEXT&&(item.text=item.text.replace(trailingWhitespace,""),item.text||this.items.pop()))}},ElementStub.prototype={toJSON:toJSON,toString:toString},allElementNames="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),closedByParentClose="li dd rt rp optgroup option tbody tfoot tr td th".split(" "),onPattern=/^on[a-zA-Z]/,sanitize=function(attr){var valid=!onPattern.test(attr.name);return valid},ElementStub}(config_types,config_voidElementNames,utils_warn,utils_camelCase,parse_Parser_utils_stringifyStubs,parse_Parser_getElement_ElementStub_utils_siblingsByTagName,parse_Parser_getElement_ElementStub_utils_filterAttributes,parse_Parser_getElement_ElementStub_utils_processDirective,parse_Parser_getElement_ElementStub_toJSON,parse_Parser_getElement_ElementStub_toString,parse_Parser_StringStub__StringStub),parse_Parser_getElement__getElement=function(types,ElementStub){return function(token){return this.options.sanitize&&this.options.sanitize.elements&&-1!==this.options.sanitize.elements.indexOf(token.name.toLowerCase())?null:new ElementStub(token,this)}}(config_types,parse_Parser_getElement_ElementStub__ElementStub),parse_Parser__Parser=function(getText,getComment,getMustache,getElement,jsonifyStubs){var Parser;return Parser=function(tokens,options){var stub,stubs;for(this.tokens=tokens||[],this.pos=0,this.options=options,this.preserveWhitespace=options.preserveWhitespace,stubs=[];stub=this.getStub();)stubs.push(stub);this.result=jsonifyStubs(stubs)},Parser.prototype={getStub:function(){var token=this.next();return token?this.getText(token)||this.getComment(token)||this.getMustache(token)||this.getElement(token):null},getText:getText,getComment:getComment,getMustache:getMustache,getElement:getElement,next:function(){return this.tokens[this.pos]}},Parser}(parse_Parser_getText__getText,parse_Parser_getComment__getComment,parse_Parser_getMustache__getMustache,parse_Parser_getElement__getElement,parse_Parser_utils_jsonifyStubs),parse__parse=function(tokenize,types,Parser){var parse,onlyWhitespace,inlinePartialStart,inlinePartialEnd,parseCompoundTemplate;return onlyWhitespace=/^\s*$/,inlinePartialStart=/<!--\s*\{\{\s*>\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,inlinePartialEnd=/<!--\s*\{\{\s*\/\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,parse=function(template,options){var tokens,json,token;return options=options||{},inlinePartialStart.test(template)?parseCompoundTemplate(template,options):(options.sanitize===!0&&(options.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),tokens=tokenize(template,options),options.preserveWhitespace||(token=tokens[0],token&&token.type===types.TEXT&&onlyWhitespace.test(token.value)&&tokens.shift(),token=tokens[tokens.length-1],token&&token.type===types.TEXT&&onlyWhitespace.test(token.value)&&tokens.pop()),json=new Parser(tokens,options).result,"string"==typeof json?[json]:json)},parseCompoundTemplate=function(template,options){var mainTemplate,remaining,partials,name,startMatch,endMatch;for(partials={},mainTemplate="",remaining=template;startMatch=inlinePartialStart.exec(remaining);){if(name=startMatch[1],mainTemplate+=remaining.substr(0,startMatch.index),remaining=remaining.substring(startMatch.index+startMatch[0].length),endMatch=inlinePartialEnd.exec(remaining),!endMatch||endMatch[1]!==name)throw new Error("Inline partials must have a closing delimiter, and cannot be nested");partials[name]=parse(remaining.substr(0,endMatch.index),options),remaining=remaining.substring(endMatch.index+endMatch[0].length)}return{main:parse(mainTemplate,options),partials:partials}},parse}(parse_tokenize,config_types,parse_Parser__Parser),render_DomFragment_Partial_getPartialDescriptor=function(errors,isClient,warn,isObject,partials,parse){var getPartialDescriptor,registerPartial,getPartialFromRegistry,unpack;return getPartialDescriptor=function(root,name){var el,partial,errorMessage;if(partial=getPartialFromRegistry(root,name))return partial;if(isClient&&(el=document.getElementById(name),el&&"SCRIPT"===el.tagName)){if(!parse)throw new Error(errors.missingParser);registerPartial(parse(el.innerHTML),name,partials)}if(partial=partials[name],!partial){if(errorMessage='Could not find descriptor for partial "'+name+'"',root.debug)throw new Error(errorMessage);return warn(errorMessage),[]}return unpack(partial)},getPartialFromRegistry=function(registryOwner,name){var partial;if(registryOwner.partials[name]){if("string"==typeof registryOwner.partials[name]){if(!parse)throw new Error(errors.missingParser);partial=parse(registryOwner.partials[name],registryOwner.parseOptions),registerPartial(partial,name,registryOwner.partials)}return unpack(registryOwner.partials[name])}},registerPartial=function(partial,name,registry){var key;if(isObject(partial)){registry[name]=partial.main;for(key in partial.partials)partial.partials.hasOwnProperty(key)&&(registry[key]=partial.partials[key])}else registry[name]=partial},unpack=function(partial){return 1===partial.length&&"string"==typeof partial[0]?partial[0]:partial},getPartialDescriptor}(config_errors,config_isClient,utils_warn,utils_isObject,registries_partials,parse__parse),render_DomFragment_Partial__Partial=function(types,getPartialDescriptor,circular){var DomPartial,DomFragment;return circular.push(function(){DomFragment=circular.DomFragment}),DomPartial=function(options,docFrag){var descriptor,parentFragment=this.parentFragment=options.parentFragment;if(this.type=types.PARTIAL,this.name=options.descriptor.r,this.index=options.index,!options.descriptor.r)throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.");descriptor=getPartialDescriptor(parentFragment.root,options.descriptor.r),this.fragment=new DomFragment({descriptor:descriptor,root:parentFragment.root,pNode:parentFragment.pNode,contextStack:parentFragment.contextStack,owner:this}),docFrag&&docFrag.appendChild(this.fragment.docFrag)},DomPartial.prototype={firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},teardown:function(destroy){this.fragment.teardown(destroy)},toString:function(){return this.fragment.toString()},find:function(selector){return this.fragment.find(selector)},findAll:function(selector,query){return this.fragment.findAll(selector,query)},findComponent:function(selector){return this.fragment.findComponent(selector)},findAllComponents:function(selector,query){return this.fragment.findAllComponents(selector,query)}},DomPartial}(config_types,render_DomFragment_Partial_getPartialDescriptor,circular),render_DomFragment_Component_initialise_createModel_ComponentParameter=function(StringFragment){var ComponentParameter=function(component,key,value){this.parentFragment=component.parentFragment,this.component=component,this.key=key,this.fragment=new StringFragment({descriptor:value,root:component.root,owner:this,contextStack:component.parentFragment.contextStack}),this.selfUpdating=this.fragment.isSimple(),this.value=this.fragment.getValue()};return ComponentParameter.prototype={bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(this.root._deferred.attrs.push(this),this.deferred=!0)},update:function(){var value=this.fragment.getValue();this.component.instance.set(this.key,value),this.value=value},teardown:function(){this.fragment.teardown()}},ComponentParameter}(render_StringFragment__StringFragment),render_DomFragment_Component_initialise_createModel__createModel=function(types,parseJSON,resolveRef,ComponentParameter){function getValue(component,key,descriptor,toBind){var parameter,parsed,root,parentFragment,keypath;return root=component.root,parentFragment=component.parentFragment,"string"==typeof descriptor?(parsed=parseJSON(descriptor),parsed?parsed.value:descriptor):null===descriptor?!0:1===descriptor.length&&descriptor[0].t===types.INTERPOLATOR&&descriptor[0].r?parentFragment.indexRefs&&void 0!==parentFragment.indexRefs[descriptor[0].r]?parentFragment.indexRefs[descriptor[0].r]:(keypath=resolveRef(root,descriptor[0].r,parentFragment.contextStack)||descriptor[0].r,toBind.push({childKeypath:key,parentKeypath:keypath}),root.get(keypath)):(parameter=new ComponentParameter(component,key,descriptor),component.complexParameters.push(parameter),parameter.value)}return function(component,attributes,toBind){var data,key,value;data={},component.complexParameters=[];for(key in attributes)attributes.hasOwnProperty(key)&&(value=getValue(component,key,attributes[key],toBind),void 0!==value&&(data[key]=value));return data}}(config_types,utils_parseJSON,shared_resolveRef,render_DomFragment_Component_initialise_createModel_ComponentParameter),render_DomFragment_Component_initialise_createInstance=function(){return function(component,Component,data,docFrag,contentDescriptor){var instance,parentFragment,partials,root;return parentFragment=component.parentFragment,root=component.root,partials={content:contentDescriptor||[]},instance=new Component({el:parentFragment.pNode.cloneNode(!1),data:data,partials:partials,_parent:root,adaptors:root.adaptors}),instance.component=component,component.instance=instance,instance.insert(docFrag),instance.fragment.pNode=parentFragment.pNode,instance}}(),render_DomFragment_Component_initialise_createObservers=function(){function bind(component,parentKeypath,childKeypath){var parentInstance,childInstance,settingParent,settingChild,observers,observer,value;parentInstance=component.root,childInstance=component.instance,observers=component.observers,observer=parentInstance.observe(parentKeypath,function(value){settingParent||parentInstance._wrapped[parentKeypath]||(settingChild=!0,childInstance.set(childKeypath,value),settingChild=!1)},observeOptions),observers.push(observer),childInstance.twoway&&(observer=childInstance.observe(childKeypath,function(value){settingChild||(settingParent=!0,parentInstance.set(parentKeypath,value),settingParent=!1)},observeOptions),observers.push(observer),value=childInstance.get(childKeypath),void 0!==value&&parentInstance.set(parentKeypath,value))}var observeOptions={init:!1,debug:!0};return function(component,toBind){var pair,i;for(component.observers=[],i=toBind.length;i--;)pair=toBind[i],bind(component,pair.parentKeypath,pair.childKeypath)}}(),render_DomFragment_Component_initialise_propagateEvents=function(warn){function propagateEvent(childInstance,parentInstance,eventName,proxyEventName){if("string"!=typeof proxyEventName){if(parentInstance.debug)throw new Error(errorMessage);return void warn(errorMessage)}childInstance.on(eventName,function(){var args=Array.prototype.slice.call(arguments);args.unshift(proxyEventName),parentInstance.fire.apply(parentInstance,args)})}var errorMessage="Components currently only support simple events - you cannot include arguments. Sorry!";return function(component,eventsDescriptor){var eventName;for(eventName in eventsDescriptor)eventsDescriptor.hasOwnProperty(eventName)&&propagateEvent(component.instance,component.root,eventName,eventsDescriptor[eventName])}}(utils_warn),render_DomFragment_Component_initialise_updateLiveQueries=function(){return function(component){var ancestor,query;for(ancestor=component.root;ancestor;)(query=ancestor._liveComponentQueries[component.name])&&query.push(component.instance),ancestor=ancestor._parent}}(),render_DomFragment_Component_initialise__initialise=function(types,warn,createModel,createInstance,createObservers,propagateEvents,updateLiveQueries){return function(component,options,docFrag){var parentFragment,root,Component,data,toBind;if(parentFragment=component.parentFragment=options.parentFragment,root=parentFragment.root,component.root=root,component.type=types.COMPONENT,component.name=options.descriptor.e,component.index=options.index,component.observers=[],Component=root.components[options.descriptor.e],!Component)throw new Error('Component "'+options.descriptor.e+'" not found');toBind=[],data=createModel(component,options.descriptor.a,toBind),createInstance(component,Component,data,docFrag,options.descriptor.f),createObservers(component,toBind),propagateEvents(component,options.descriptor.v),(options.descriptor.t1||options.descriptor.t2||options.descriptor.o)&&warn('The "intro", "outro" and "decorator" directives have no effect on components'),updateLiveQueries(component)}}(config_types,utils_warn,render_DomFragment_Component_initialise_createModel__createModel,render_DomFragment_Component_initialise_createInstance,render_DomFragment_Component_initialise_createObservers,render_DomFragment_Component_initialise_propagateEvents,render_DomFragment_Component_initialise_updateLiveQueries),render_DomFragment_Component__Component=function(initialise){var DomComponent=function(options,docFrag){initialise(this,options,docFrag)};return DomComponent.prototype={firstNode:function(){return this.instance.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.instance.fragment.detach()},teardown:function(){for(var query;this.complexParameters.length;)this.complexParameters.pop().teardown();for(;this.observers.length;)this.observers.pop().cancel();(query=this.root._liveComponentQueries[this.name])&&query._remove(this),this.instance.teardown()},toString:function(){return this.instance.fragment.toString()},find:function(selector){return this.instance.fragment.find(selector)},findAll:function(selector,query){return this.instance.fragment.findAll(selector,query)},findComponent:function(selector){return selector&&selector!==this.name?null:this.instance},findAllComponents:function(selector,query){query._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(selector,query)}},DomComponent}(render_DomFragment_Component_initialise__initialise),render_DomFragment_Comment=function(types){var DomComment=function(options,docFrag){this.type=types.COMMENT,this.descriptor=options.descriptor,docFrag&&(this.node=document.createComment(options.descriptor.f),docFrag.appendChild(this.node))};return DomComment.prototype={detach:function(){return this.node.parentNode.removeChild(this.node),this.node},teardown:function(destroy){destroy&&this.detach()},firstNode:function(){return this.node},toString:function(){return"<!--"+this.descriptor.f+"-->"}},DomComment}(config_types),render_DomFragment__DomFragment=function(types,matches,initFragment,insertHtml,Text,Interpolator,Section,Triple,Element,Partial,Component,Comment,circular){var DomFragment=function(options){options.pNode&&(this.docFrag=document.createDocumentFragment()),"string"==typeof options.descriptor?(this.html=options.descriptor,this.docFrag&&(this.nodes=insertHtml(this.html,options.pNode.tagName,this.docFrag))):initFragment(this,options)};return DomFragment.prototype={detach:function(){var len,i;if(this.nodes)for(i=this.nodes.length;i--;)this.docFrag.appendChild(this.nodes[i]);else if(this.items)for(len=this.items.length,i=0;len>i;i+=1)this.docFrag.appendChild(this.items[i].detach());return this.docFrag},createItem:function(options){if("string"==typeof options.descriptor)return new Text(options,this.docFrag);switch(options.descriptor.t){case types.INTERPOLATOR:return new Interpolator(options,this.docFrag);case types.SECTION:return new Section(options,this.docFrag);case types.TRIPLE:return new Triple(options,this.docFrag);case types.ELEMENT:return this.root.components[options.descriptor.e]?new Component(options,this.docFrag):new Element(options,this.docFrag);case types.PARTIAL:return new Partial(options,this.docFrag);case types.COMMENT:return new Comment(options,this.docFrag);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/RactiveJS/Ractive/issues. Thanks!")}},teardown:function(destroy){var node;if(this.nodes&&destroy)for(;node=this.nodes.pop();)node.parentNode.removeChild(node);else if(this.items)for(;this.items.length;)this.items.pop().teardown(destroy);this.nodes=this.items=this.docFrag=null},firstNode:function(){return this.items&&this.items[0]?this.items[0].firstNode():this.nodes?this.nodes[0]||null:null},findNextNode:function(item){var index=item.index;return this.items[index+1]?this.items[index+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},toString:function(){var html,i,len,item;if(this.html)return this.html;if(html="",!this.items)return html;for(len=this.items.length,i=0;len>i;i+=1)item=this.items[i],html+=item.toString();return html},find:function(selector){var i,len,item,node,queryResult;if(this.nodes){for(len=this.nodes.length,i=0;len>i;i+=1)if(node=this.nodes[i],1===node.nodeType){if(matches(node,selector))return node;if(queryResult=node.querySelector(selector))return queryResult}return null}if(this.items){for(len=this.items.length,i=0;len>i;i+=1)if(item=this.items[i],item.find&&(queryResult=item.find(selector)))return queryResult;return null}},findAll:function(selector,query){var i,len,item,node,queryAllResult,numNodes,j;if(this.nodes){for(len=this.nodes.length,i=0;len>i;i+=1)if(node=this.nodes[i],1===node.nodeType&&(matches(node,selector)&&query.push(node),queryAllResult=node.querySelectorAll(selector)))for(numNodes=queryAllResult.length,j=0;numNodes>j;j+=1)query.push(queryAllResult[j])}else if(this.items)for(len=this.items.length,i=0;len>i;i+=1)item=this.items[i],item.findAll&&item.findAll(selector,query);return query},findComponent:function(selector){var len,i,item,queryResult;if(this.items){for(len=this.items.length,i=0;len>i;i+=1)if(item=this.items[i],item.findComponent&&(queryResult=item.findComponent(selector)))return queryResult;return null}},findAllComponents:function(selector,query){var i,len,item;if(this.items)for(len=this.items.length,i=0;len>i;i+=1)item=this.items[i],item.findAllComponents&&item.findAllComponents(selector,query);return query}},circular.DomFragment=DomFragment,DomFragment}(config_types,utils_matches,render_shared_initFragment,render_DomFragment_shared_insertHtml,render_DomFragment_Text,render_DomFragment_Interpolator,render_DomFragment_Section__Section,render_DomFragment_Triple,render_DomFragment_Element__Element,render_DomFragment_Partial__Partial,render_DomFragment_Component__Component,render_DomFragment_Comment,circular),Ractive_prototype_render=function(getElement,makeTransitionManager,preDomUpdate,postDomUpdate,DomFragment){return function(target,complete){var transitionManager;if(!this._initing)throw new Error("You cannot call ractive.render() directly!");this._transitionManager=transitionManager=makeTransitionManager(this,complete),this.fragment=new DomFragment({descriptor:this.template,root:this,owner:this,pNode:target}),preDomUpdate(this),target&&target.appendChild(this.fragment.docFrag),postDomUpdate(this),this._transitionManager=null,transitionManager.ready(),this.rendered=!0}}(utils_getElement,shared_makeTransitionManager,shared_preDomUpdate,shared_postDomUpdate,render_DomFragment__DomFragment),Ractive_prototype_renderHTML=function(warn){return function(){return warn("renderHTML() has been deprecated and will be removed in a future version. Please use toHTML() instead"),this.toHTML()}}(utils_warn),Ractive_prototype_toHTML=function(){return function(){return this.fragment.toString()}}(),Ractive_prototype_teardown=function(makeTransitionManager,clearCache){return function(complete){var keypath,transitionManager,previousTransitionManager;for(this.fire("teardown"),previousTransitionManager=this._transitionManager,this._transitionManager=transitionManager=makeTransitionManager(this,complete),this.fragment.teardown(!0);this._animations[0];)this._animations[0].stop();for(keypath in this._cache)clearCache(this,keypath);this._transitionManager=previousTransitionManager,transitionManager.ready()}}(shared_makeTransitionManager,shared_clearCache),Ractive_prototype_shared_add=function(isNumeric){return function(root,keypath,d){var value;if("string"==typeof keypath&&isNumeric(d)){if(value=root.get(keypath),void 0===value&&(value=0),isNumeric(value))root.set(keypath,value+d);else if(root.debug)throw new Error("Cannot add to a non-numeric value")}else if(root.debug)throw new Error("Bad arguments")}}(utils_isNumeric),Ractive_prototype_add=function(add){return function(keypath,d){add(this,keypath,void 0===d?1:d)}}(Ractive_prototype_shared_add),Ractive_prototype_subtract=function(add){return function(keypath,d){add(this,keypath,void 0===d?-1:-d)}}(Ractive_prototype_shared_add),Ractive_prototype_toggle=function(){return function(keypath){var value;if("string"==typeof keypath)value=this.get(keypath),this.set(keypath,!value);else if(this.debug)throw new Error("Bad arguments")}}(),Ractive_prototype_merge_mapOldToNewIndex=function(){return function(oldArray,newArray){var usedIndices,mapper,firstUnusedIndex,newIndices,changed;return usedIndices={},firstUnusedIndex=0,mapper=function(item,i){var index,start,len;start=firstUnusedIndex,len=newArray.length;do{if(index=newArray.indexOf(item,start),-1===index)return changed=!0,-1;start=index+1}while(usedIndices[index]&&len>start);return index===firstUnusedIndex&&(firstUnusedIndex+=1),index!==i&&(changed=!0),usedIndices[index]=!0,index},newIndices=oldArray.map(mapper),newIndices.unchanged=!changed,newIndices}}(),Ractive_prototype_merge_queueDependants=function(types){return function(keypath,deps,mergeQueue,updateQueue){var i,dependant;for(i=deps.length;i--;)dependant=deps[i],dependant.type===types.REFERENCE?dependant.update():dependant.keypath===keypath&&dependant.type===types.SECTION&&!dependant.inverted&&dependant.docFrag?mergeQueue[mergeQueue.length]=dependant:updateQueue[updateQueue.length]=dependant}}(config_types),Ractive_prototype_merge__merge=function(warn,isArray,clearCache,preDomUpdate,processDeferredUpdates,makeTransitionManager,notifyDependants,replaceData,mapOldToNewIndex,queueDependants){function stringify(item){return JSON.stringify(item)
}function getIdentifier(str){return identifiers[str]||(identifiers[str]=function(item){return item[str]}),identifiers[str]}var identifiers={};return function(keypath,array,options){var currentArray,oldArray,newArray,identifier,lengthUnchanged,i,newIndices,mergeQueue,updateQueue,depsByKeypath,deps,transitionManager,previousTransitionManager,upstreamQueue,keys;if(currentArray=this.get(keypath),!isArray(currentArray)||!isArray(array))return this.set(keypath,array,options&&options.complete);if(lengthUnchanged=currentArray.length===array.length,options&&options.compare){if(options.compare===!0)identifier=stringify;else if("string"==typeof options.compare)identifier=getIdentifier(options.compare);else{if("function"!=typeof options.compare)throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)");identifier=options.compare}try{oldArray=currentArray.map(identifier),newArray=array.map(identifier)}catch(err){if(this.debug)throw err;warn("Merge operation: comparison failed. Falling back to identity checking"),oldArray=currentArray,newArray=array}}else oldArray=currentArray,newArray=array;if(newIndices=mapOldToNewIndex(oldArray,newArray),clearCache(this,keypath),replaceData(this,keypath,array),!newIndices.unchanged||!lengthUnchanged){for(previousTransitionManager=this._transitionManager,this._transitionManager=transitionManager=makeTransitionManager(this,options&&options.complete),mergeQueue=[],updateQueue=[],i=0;i<this._deps.length;i+=1)if(depsByKeypath=this._deps[i],depsByKeypath&&(deps=depsByKeypath[keypath])){for(queueDependants(keypath,deps,mergeQueue,updateQueue),preDomUpdate(this);mergeQueue.length;)mergeQueue.pop().merge(newIndices);for(;updateQueue.length;)updateQueue.pop().update()}for(processDeferredUpdates(this),upstreamQueue=[],keys=keypath.split(".");keys.length;)keys.pop(),upstreamQueue[upstreamQueue.length]=keys.join(".");notifyDependants.multiple(this,upstreamQueue,!0),oldArray.length!==newArray.length&&notifyDependants(this,keypath+".length",!0),this._transitionManager=previousTransitionManager,transitionManager.ready()}}}(utils_warn,utils_isArray,shared_clearCache,shared_preDomUpdate,shared_processDeferredUpdates,shared_makeTransitionManager,shared_notifyDependants,Ractive_prototype_shared_replaceData,Ractive_prototype_merge_mapOldToNewIndex,Ractive_prototype_merge_queueDependants),Ractive_prototype_detach=function(){return function(){return this.fragment.detach()}}(),Ractive_prototype_insert=function(getElement){return function(target,anchor){if(target=getElement(target),anchor=getElement(anchor)||null,!target)throw new Error("You must specify a valid target to insert into");target.insertBefore(this.detach(),anchor),this.fragment.pNode=target}}(utils_getElement),Ractive_prototype__prototype=function(get,set,update,updateModel,animate,on,off,observe,fire,find,findAll,findComponent,findAllComponents,render,renderHTML,toHTML,teardown,add,subtract,toggle,merge,detach,insert){return{get:get,set:set,update:update,updateModel:updateModel,animate:animate,on:on,off:off,observe:observe,fire:fire,find:find,findAll:findAll,findComponent:findComponent,findAllComponents:findAllComponents,renderHTML:renderHTML,toHTML:toHTML,render:render,teardown:teardown,add:add,subtract:subtract,toggle:toggle,merge:merge,detach:detach,insert:insert}}(Ractive_prototype_get__get,Ractive_prototype_set,Ractive_prototype_update,Ractive_prototype_updateModel,Ractive_prototype_animate__animate,Ractive_prototype_on,Ractive_prototype_off,Ractive_prototype_observe__observe,Ractive_prototype_fire,Ractive_prototype_find,Ractive_prototype_findAll,Ractive_prototype_findComponent,Ractive_prototype_findAllComponents,Ractive_prototype_render,Ractive_prototype_renderHTML,Ractive_prototype_toHTML,Ractive_prototype_teardown,Ractive_prototype_add,Ractive_prototype_subtract,Ractive_prototype_toggle,Ractive_prototype_merge__merge,Ractive_prototype_detach,Ractive_prototype_insert),extend_registries=function(){return["partials","transitions","events","components","decorators","data"]}(),extend_initOptions=function(){return["el","template","complete","modifyArrays","magic","twoway","lazy","append","preserveWhitespace","sanitize","stripComments","noIntro","transitionsEnabled","adaptors"]}(),extend_inheritFromParent=function(registries,initOptions,create){return function(Child,Parent){registries.forEach(function(property){Parent[property]&&(Child[property]=create(Parent[property]))}),initOptions.forEach(function(property){Child[property]=Parent[property]})}}(extend_registries,extend_initOptions,utils_create),extend_wrapMethod=function(){return function(method,superMethod){return/_super/.test(method)?function(){var result,_super=this._super;return this._super=superMethod,result=method.apply(this,arguments),this._super=_super,result}:method}}(),extend_utils_augment=function(){return function(target,source){var key;for(key in source)source.hasOwnProperty(key)&&(target[key]=source[key]);return target}}(),extend_inheritFromChildProps=function(registries,initOptions,wrapMethod,augment){var blacklist,blacklisted;return blacklist=registries.concat(initOptions),blacklisted={},blacklist.forEach(function(property){blacklisted[property]=!0}),function(Child,childProps){var key,member;registries.forEach(function(property){var value=childProps[property];value&&(Child[property]?augment(Child[property],value):Child[property]=value)}),initOptions.forEach(function(property){var value=childProps[property];void 0!==value&&(Child[property]="function"==typeof value&&"function"==typeof Child[property]?wrapMethod(value,Child[property]):childProps[property])});for(key in childProps)childProps.hasOwnProperty(key)&&!blacklisted[key]&&(member=childProps[key],Child.prototype[key]="function"==typeof member&&"function"==typeof Child.prototype[key]?wrapMethod(member,Child.prototype[key]):member)}}(extend_registries,extend_initOptions,extend_wrapMethod,extend_utils_augment),extend_extractInlinePartials=function(isObject,augment){return function(Child,childProps){isObject(Child.template)&&(Child.partials||(Child.partials={}),augment(Child.partials,Child.template.partials),childProps.partials&&augment(Child.partials,childProps.partials),Child.template=Child.template.main)}}(utils_isObject,extend_utils_augment),extend_conditionallyParseTemplate=function(errors,isClient,parse){return function(Child){var templateEl;if("string"==typeof Child.template){if(!parse)throw new Error(errors.missingParser);if("#"===Child.template.charAt(0)&&isClient){if(templateEl=document.getElementById(Child.template.substring(1)),!templateEl||"SCRIPT"!==templateEl.tagName)throw new Error("Could not find template element ("+Child.template+")");Child.template=parse(templateEl.innerHTML,Child)}else Child.template=parse(Child.template,Child)}}}(config_errors,config_isClient,parse__parse),extend_conditionallyParsePartials=function(errors,parse){return function(Child){var key;if(Child.partials)for(key in Child.partials)if(Child.partials.hasOwnProperty(key)&&"string"==typeof Child.partials[key]){if(!parse)throw new Error(errors.missingParser);Child.partials[key]=parse(Child.partials[key],Child)}}}(config_errors,parse__parse),extend_utils_clone=function(){return function(source){var key,target={};for(key in source)source.hasOwnProperty(key)&&(target[key]=source[key]);return target}}(),utils_extend=function(){return function(target){for(var prop,source,sources=Array.prototype.slice.call(arguments,1);source=sources.shift();)for(prop in source)source.hasOwnProperty(prop)&&(target[prop]=source[prop]);return target}}(),Ractive_initialise=function(isClient,errors,warn,create,extend,defineProperty,defineProperties,getElement,isObject,magicAdaptor,parse){var getObject,getArray,defaultOptions,registries;return getObject=function(){return{}},getArray=function(){return[]},defaultOptions=create(null),defineProperties(defaultOptions,{preserveWhitespace:{enumerable:!0,value:!1},append:{enumerable:!0,value:!1},twoway:{enumerable:!0,value:!0},modifyArrays:{enumerable:!0,value:!0},data:{enumerable:!0,value:getObject},lazy:{enumerable:!0,value:!1},debug:{enumerable:!0,value:!1},transitions:{enumerable:!0,value:getObject},decorators:{enumerable:!0,value:getObject},events:{enumerable:!0,value:getObject},noIntro:{enumerable:!0,value:!1},transitionsEnabled:{enumerable:!0,value:!0},magic:{enumerable:!0,value:!1},adaptors:{enumerable:!0,value:getArray}}),registries=["components","decorators","events","partials","transitions","data"],function(ractive,options){var key,template,templateEl,parsedTemplate;for(key in defaultOptions)void 0===options[key]&&(options[key]="function"==typeof defaultOptions[key]?defaultOptions[key]():defaultOptions[key]);if(defineProperties(ractive,{_initing:{value:!0,writable:!0},_guid:{value:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r,v;return r=16*Math.random()|0,v="x"==c?r:3&r|8,v.toString(16)})},_subs:{value:create(null),configurable:!0},_cache:{value:{}},_cacheMap:{value:create(null)},_deps:{value:[]},_depsMap:{value:create(null)},_patternObservers:{value:[]},_pendingResolution:{value:[]},_deferred:{value:{}},_evaluators:{value:create(null)},_twowayBindings:{value:{}},_transitionManager:{value:null,writable:!0},_animations:{value:[]},nodes:{value:{}},_wrapped:{value:create(null)},_liveQueries:{value:[]},_liveComponentQueries:{value:[]}}),defineProperties(ractive._deferred,{attrs:{value:[]},evals:{value:[]},selectValues:{value:[]},checkboxes:{value:[]},radios:{value:[]},observers:{value:[]},transitions:{value:[]},liveQueries:{value:[]},decorators:{value:[]},focusable:{value:null,writable:!0}}),ractive.adaptors=options.adaptors,ractive.modifyArrays=options.modifyArrays,ractive.magic=options.magic,ractive.twoway=options.twoway,ractive.lazy=options.lazy,ractive.debug=options.debug,ractive.magic&&!magicAdaptor)throw new Error("Getters and setters (magic mode) are not supported in this browser");if(options._parent&&defineProperty(ractive,"_parent",{value:options._parent}),options.el&&(ractive.el=getElement(options.el),!ractive.el&&ractive.debug))throw new Error("Could not find container element");if(options.eventDefinitions&&(warn("ractive.eventDefinitions has been deprecated in favour of ractive.events. Support will be removed in future versions"),options.events=options.eventDefinitions),registries.forEach(function(registry){ractive.constructor[registry]?ractive[registry]=extend(create(ractive.constructor[registry]||{}),options[registry]):options[registry]&&(ractive[registry]=options[registry])}),template=options.template,"string"==typeof template){if(!parse)throw new Error(errors.missingParser);if("#"===template.charAt(0)&&isClient){if(templateEl=document.getElementById(template.substring(1)),!templateEl)throw new Error("Could not find template element ("+template+")");parsedTemplate=parse(templateEl.innerHTML,options)}else parsedTemplate=parse(template,options)}else parsedTemplate=template;isObject(parsedTemplate)&&(extend(ractive.partials,parsedTemplate.partials),parsedTemplate=parsedTemplate.main),parsedTemplate&&1===parsedTemplate.length&&"string"==typeof parsedTemplate[0]&&(parsedTemplate=parsedTemplate[0]),ractive.template=parsedTemplate,extend(ractive.partials,options.partials),ractive.parseOptions={preserveWhitespace:options.preserveWhitespace,sanitize:options.sanitize,stripComments:options.stripComments},ractive.transitionsEnabled=options.noIntro?!1:options.transitionsEnabled,isClient&&!ractive.el&&(ractive.el=document.createDocumentFragment()),ractive.el&&!options.append&&(ractive.el.innerHTML=""),ractive.render(ractive.el,options.complete),ractive.transitionsEnabled=options.transitionsEnabled,ractive._initing=!1}}(config_isClient,config_errors,utils_warn,utils_create,utils_extend,utils_defineProperty,utils_defineProperties,utils_getElement,utils_isObject,Ractive_prototype_get_magicAdaptor,parse__parse),extend_initChildInstance=function(fillGaps,initOptions,clone,wrapMethod,initialise){return function(child,Child,options){initOptions.forEach(function(property){var value=options[property],defaultValue=Child[property];"function"==typeof value&&"function"==typeof defaultValue?options[property]=wrapMethod(value,defaultValue):void 0===value&&void 0!==defaultValue&&(options[property]=defaultValue)}),child.beforeInit&&child.beforeInit(options),initialise(child,options),child.init&&child.init(options)}}(utils_fillGaps,extend_initOptions,extend_utils_clone,extend_wrapMethod,Ractive_initialise),extend__extend=function(create,inheritFromParent,inheritFromChildProps,extractInlinePartials,conditionallyParseTemplate,conditionallyParsePartials,initChildInstance,circular){var Ractive;return circular.push(function(){Ractive=circular.Ractive}),function(childProps){var Child,Parent=this;return Child=function(options){initChildInstance(this,Child,options||{})},Child.prototype=create(Parent.prototype),Child.prototype.constructor=Child,inheritFromParent(Child,Parent),inheritFromChildProps(Child,childProps),conditionallyParseTemplate(Child),extractInlinePartials(Child,childProps),conditionallyParsePartials(Child),Child.extend=Parent.extend,Child}}(utils_create,extend_inheritFromParent,extend_inheritFromChildProps,extend_extractInlinePartials,extend_conditionallyParseTemplate,extend_conditionallyParsePartials,extend_initChildInstance,circular),Ractive__Ractive=function(svg,create,defineProperties,prototype,partialRegistry,adaptorRegistry,easingRegistry,Ractive_extend,parse,initialise,circular){var Ractive=function(options){initialise(this,options)};return defineProperties(Ractive,{prototype:{value:prototype},partials:{value:partialRegistry},adaptors:{value:adaptorRegistry},easing:{value:easingRegistry},transitions:{value:{}},events:{value:{}},components:{value:{}},decorators:{value:{}},svg:{value:svg},VERSION:{value:"0.3.9"}}),Ractive.eventDefinitions=Ractive.events,Ractive.prototype.constructor=Ractive,Ractive.delimiters=["{{","}}"],Ractive.tripleDelimiters=["{{{","}}}"],Ractive.extend=Ractive_extend,Ractive.parse=parse,circular.Ractive=Ractive,Ractive}(config_svg,utils_create,utils_defineProperties,Ractive_prototype__prototype,registries_partials,registries_adaptors,registries_easing,extend__extend,parse__parse,Ractive_initialise,circular),Ractive=function(Ractive,circular){for("undefined"!=typeof window&&window.Node&&!window.Node.prototype.contains&&window.HTMLElement&&window.HTMLElement.prototype.contains&&(window.Node.prototype.contains=window.HTMLElement.prototype.contains);circular.length;)circular.pop()();return Ractive}(Ractive__Ractive,circular);"undefined"!=typeof module&&module.exports?module.exports=Ractive:"function"==typeof define&&define.amd?define(function(){return Ractive}):global.Ractive=Ractive}("undefined"!=typeof window?window:this),!function(d){var h=function(a){this.messages={defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",urlstrict:"This value should be a valid url.",number:"This value should be a valid number.",digits:"This value should be digits.",dateIso:"This value should be a valid date (YYYY-MM-DD).",alphanum:"This value should be alphanumeric.",phone:"This value should be a valid phone number."},notnull:"This value should not be null.",notblank:"This value should not be blank.",required:"This value is required.",regexp:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",rangelength:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",rangecheck:"You must select between %s and %s choices.",equalto:"This value should be the same."},this.init(a)};h.prototype={constructor:h,validators:{notnull:function(){return{validate:function(a){return 0<a.length},priority:2}},notblank:function(){return{validate:function(a){return"string"==typeof a&&""!==a.replace(/^\s+/g,"").replace(/\s+$/g,"")},priority:2}},required:function(){var a=this;return{validate:function(b){if("object"==typeof b){for(var c in b)if(a.required().validate(b[c]))return!0;return!1}return a.notnull().validate(b)&&a.notblank().validate(b)},priority:512}},type:function(){return{validate:function(a,b){var c;switch(b){case"number":c=/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/;break;case"digits":c=/^\d+$/;break;case"alphanum":c=/^\w+$/;break;case"email":c=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))){2,6}$/i;break;case"url":a=/(https?|s?ftp|git)/i.test(a)?a:"http://"+a;case"urlstrict":c=/^(https?|s?ftp|git):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;break;case"dateIso":c=/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/;break;case"phone":c=/^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/;break;default:return!1}return""!==a?c.test(a):!1},priority:256}},regexp:function(){return{validate:function(a,b,c){return RegExp(b,c.options.regexpFlag||"").test(a)},priority:64}},minlength:function(){return{validate:function(a,b){return a.length>=b},priority:32}},maxlength:function(){return{validate:function(a,b){return a.length<=b},priority:32}},rangelength:function(){var a=this;return{validate:function(b,c){return a.minlength().validate(b,c[0])&&a.maxlength().validate(b,c[1])},priority:32}},min:function(){return{validate:function(a,b){return Number(a)>=b},priority:32}},max:function(){return{validate:function(a,b){return Number(a)<=b},priority:32}},range:function(){var a=this;return{validate:function(b,c){return a.min().validate(b,c[0])&&a.max().validate(b,c[1])},priority:32}},equalto:function(){return{validate:function(a,b,c){return c.options.validateIfUnchanged=!0,a===d(b).val()},priority:64}},remote:function(){return{validate:function(a,b,c){var f={},g={};f[c.$element.attr("name")]=a,"undefined"!=typeof c.options.remoteDatatype&&(g={dataType:c.options.remoteDatatype});var e=function(a,b){"undefined"!=typeof b&&"undefined"!=typeof c.Validator.messages.remote&&b!==c.Validator.messages.remote&&d(c.UI.ulError+" .remote").remove(),!1===a?c.options.listeners.onFieldError(c.element,c.constraints,c):!0===a&&!1===c.options.listeners.onFieldSuccess(c.element,c.constraints,c)&&(a=!1),c.updtConstraint({name:"remote",valid:a},b),c.manageValidationResult()},k=function(a){if("object"==typeof a)return a;try{a=d.parseJSON(a)}catch(b){}return a},l=function(a){return"object"==typeof a&&null!==a?"undefined"!=typeof a.error?a.error:"undefined"!=typeof a.message?a.message:null:null};return d.ajax(d.extend({},{url:b,data:f,type:c.options.remoteMethod||"GET",success:function(a){a=k(a),e(1===a||!0===a||"object"==typeof a&&null!==a&&"undefined"!=typeof a.success,l(a))},error:function(a){a=k(a),e(!1,l(a))}},g)),null},priority:64}},mincheck:function(){var a=this;return{validate:function(b,c){return a.minlength().validate(b,c)},priority:32}},maxcheck:function(){var a=this;return{validate:function(b,c){return a.maxlength().validate(b,c)},priority:32}},rangecheck:function(){var a=this;return{validate:function(b,c){return a.rangelength().validate(b,c)},priority:32}}},init:function(a){var b=a.validators;a=a.messages;for(var c in b)this.addValidator(c,b[c]);for(c in a)this.addMessage(c,a[c])},formatMesssage:function(a,b){if("object"==typeof b){for(var c in b)a=this.formatMesssage(a,b[c]);return a}return"string"==typeof a?a.replace(/%s/i,b):""},addValidator:function(a,b){if("undefined"==typeof b().validate)throw Error("Validator `"+a+"` must have a validate method. See more here: http://parsleyjs.org/documentation.html#javascript-general");"undefined"==typeof b().priority&&(b={validate:b().validate,priority:32},window.console&&window.console.warn&&window.console.warn("Validator `"+a+"` should have a priority. Default priority 32 given")),this.validators[a]=b},addMessage:function(a,b,c){if("undefined"!=typeof c&&!0===c)this.messages.type[a]=b;else if("type"===a)for(var d in b)this.messages.type[d]=b[d];else this.messages[a]=b}};var n=function(a){this.init(a)};n.prototype={constructor:n,init:function(a){this.ParsleyInstance=a,this.hash=a.hash,this.options=this.ParsleyInstance.options,this.errorClassHandler=this.options.errors.classHandler(this.ParsleyInstance.element,this.ParsleyInstance.isRadioOrCheckbox)||this.ParsleyInstance.$element,this.ulErrorManagement()},ulErrorManagement:function(){this.ulError="#"+this.hash,this.ulTemplate=d(this.options.errors.errorsWrapper).attr("id",this.hash).addClass("parsley-error-list")},removeError:function(a){a=this.ulError+" ."+a;var b=this;return this.options.animate?d(a).fadeOut(this.options.animateDuration,function(){d(this).remove(),b.ulError&&0===d(b.ulError).children().length&&b.removeErrors()}):d(a).remove(),this},addError:function(a){for(var b in a){var c=d(this.options.errors.errorElem).addClass(b);d(this.ulError).append(this.options.animate?d(c).html(a[b]).hide().fadeIn(this.options.animateDuration):d(c).html(a[b]))}return this},updateError:function(a){for(var b in a)a[b]!==d(this.ulError+" > li."+b).html()&&this.removeError(b).addError(a);return this},removeErrors:function(){return this.options.animate?d(this.ulError).fadeOut(this.options.animateDuration,function(){d(this).remove()}):d(this.ulError).remove(),this},reset:function(){this.ParsleyInstance.valid=null,this.removeErrors(),this.ParsleyInstance.validatedOnce=!1,this.errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass);for(var a in this.constraints)this.constraints[a].valid=null;return this},manageError:function(a){if(d(this.ulError).length||this.manageErrorContainer(),"required"===a.name&&null!==this.ParsleyInstance.getVal()&&0<this.ParsleyInstance.getVal().length)return this;if(this.ParsleyInstance.isRequired&&"required"!==a.name&&(null===this.ParsleyInstance.getVal()||0===this.ParsleyInstance.getVal().length))return this.removeError(a.name),this;var b=a.name,c=!1!==this.options.errorMessage?"custom-error-message":b,f={};return a=!1!==this.options.errorMessage?this.options.errorMessage:"type"===a.name?this.ParsleyInstance.Validator.messages[b][a.requirements]:"undefined"==typeof this.ParsleyInstance.Validator.messages[b]?this.ParsleyInstance.Validator.messages.defaultMessage:this.ParsleyInstance.Validator.formatMesssage(this.ParsleyInstance.Validator.messages[b],a.requirements),f[c]=a,d(this.ulError+" ."+c).length?this.updateError(f):this.addError(f),this},manageErrorContainer:function(){var a=this.options.errorContainer||this.options.errors.container(this.ParsleyInstance.element,this.ParsleyInstance.isRadioOrCheckbox),b=this.options.animate?this.ulTemplate.css("display",""):this.ulTemplate;return"undefined"==typeof a?(this.ParsleyInstance.isRadioOrCheckbox?this.ParsleyInstance.$element.parent().after(b):this.ParsleyInstance.$element.after(b),this):void d(a).append(b)}};var m=function(a,b,c){return this.options=b,"ParsleyFieldMultiple"===c?this:void this.init(a,c||"ParsleyField")};m.prototype={constructor:m,init:function(a,b){this.type=b,this.valid=!0,this.element=a,this.validatedOnce=!1,this.$element=d(a),this.val=this.$element.val(),this.Validator=new h(this.options),this.isRequired=!1,this.constraints={},"undefined"==typeof this.isRadioOrCheckbox&&(this.isRadioOrCheckbox=!1,this.hash=this.generateHash()),this.UI=new n(this),this.options.useHtml5Constraints&&this.bindHtml5Constraints(),this.addConstraints(),this.hasConstraints()&&this.bindValidationEvents()},setParent:function(a){this.$parent=d(a)},getParent:function(){return this.$parent},bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&(this.options.required=!0);var a=this.$element.attr("type");"undefined"!=typeof a&&RegExp(a,"i").test("email url number range tel")&&(this.options.type="tel"===a?"phone":a,RegExp(this.options.type,"i").test("number range")&&(this.options.type="number","undefined"!=typeof this.$element.attr("min")&&this.$element.attr("min").length&&(this.options.min=this.$element.attr("min")),"undefined"!=typeof this.$element.attr("max")&&this.$element.attr("max").length&&(this.options.max=this.$element.attr("max")))),"string"==typeof this.$element.attr("pattern")&&this.$element.attr("pattern").length&&(this.options.regexp=this.$element.attr("pattern"))},addConstraints:function(){for(var a in this.options){var b={};b[a]=this.options[a],this.addConstraint(b,!0,!1)}},addConstraint:function(a,b){for(var d in a)d=d.toLowerCase(),"function"==typeof this.Validator.validators[d]&&(this.constraints[d]={name:d,requirements:a[d],valid:null},"required"===d&&(this.isRequired=!0),this.addCustomConstraintMessage(d));"undefined"==typeof b&&this.bindValidationEvents()},updateConstraint:function(a,b){for(var c in a)this.updtConstraint({name:c,requirements:a[c],valid:null},b)},updtConstraint:function(a,b){this.constraints[a.name]=d.extend(!0,this.constraints[a.name],a),"string"==typeof b&&("type"===a.name?this.Validator.messages[a.name][a.requirements]=b:this.Validator.messages[a.name]=b),this.bindValidationEvents()},removeConstraint:function(a){a=a.toLowerCase(),delete this.constraints[a],"required"===a&&(this.isRequired=!1),this.hasConstraints()?this.bindValidationEvents():this.UI.reset()},addCustomConstraintMessage:function(a){var b=a+("type"===a&&"undefined"!=typeof this.options[a]?this.options[a].charAt(0).toUpperCase()+this.options[a].substr(1):"")+"Message";"undefined"!=typeof this.options[b]&&this.Validator.addMessage("type"===a?this.options[a]:a,this.options[b],"type"===a)},bindValidationEvents:function(){this.valid=null,this.$element.addClass("parsley-validated"),this.$element.off("."+this.type),this.options.remote&&!/change/i.test(this.options.trigger)&&(this.options.trigger=this.options.trigger?" change":"change");var a=(this.options.trigger?this.options.trigger:"")+(/key/i.test(this.options.trigger)?"":" keyup");this.$element.is("select")&&(a+=/change/i.test(a)?"":" change"),a=a.replace(/^\s+/g,"").replace(/\s+$/g,""),this.$element.on((a+" ").split(" ").join("."+this.type+" "),!1,d.proxy(this.eventValidation,this))},generateHash:function(){return"parsley-"+(Math.random()+"").substring(2)},getHash:function(){return this.hash},getVal:function(){return"undefined"!=typeof this.$element.domApi(this.options.namespace).value?this.$element.domApi(this.options.namespace).value:this.$element.val()},eventValidation:function(a){var b=this.getVal();return"keyup"===a.type&&!/keyup/i.test(this.options.trigger)&&!this.validatedOnce||"change"===a.type&&!/change/i.test(this.options.trigger)&&!this.validatedOnce||!this.isRadioOrCheckbox&&this.getLength(b)<this.options.validationMinlength&&!this.validatedOnce?!0:void this.validate()},getLength:function(a){return a&&a.hasOwnProperty("length")?a.length:0},isValid:function(){return this.validate(!1)},hasConstraints:function(){for(var a in this.constraints)return!0;return!1},validate:function(a){var b=this.getVal(),c=null;return!this.hasConstraints()||this.$element.is(this.options.excluded)?null:this.options.listeners.onFieldValidate(this.element,this)||""===b&&!this.isRequired?(this.UI.reset(),null):this.needsValidation(b)?(c=this.applyValidators(),("undefined"!=typeof a?a:this.options.showErrors)&&this.manageValidationResult(),c):this.valid},needsValidation:function(a){return!this.options.validateIfUnchanged&&null!==this.valid&&this.val===a&&this.validatedOnce?!1:(this.val=a,this.validatedOnce=!0)},applyValidators:function(){var b,a=null;for(b in this.constraints){var c=this.Validator.validators[this.constraints[b].name]().validate(this.val,this.constraints[b].requirements,this);!1===c?(a=!1,this.constraints[b].valid=a):!0===c&&(this.constraints[b].valid=!0,a=!1!==a)}return!1===a?this.options.listeners.onFieldError(this.element,this.constraints,this):!0===a&&!1===this.options.listeners.onFieldSuccess(this.element,this.constraints,this)&&(a=!1),a},manageValidationResult:function(){var c,a=null,b=[];for(c in this.constraints)!1===this.constraints[c].valid?(b.push(this.constraints[c]),a=!1):!0===this.constraints[c].valid&&(this.UI.removeError(this.constraints[c].name),a=!1!==a);if(this.valid=a,!0===this.valid)return this.UI.removeErrors(),this.UI.errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass),!0;if(!1===this.valid){if(!0===this.options.priorityEnabled){for(var f,a=0,g=[],e=0;e<b.length;e++)f=this.Validator.validators[b[e].name](),f=f.priority,g.push(b[e]),f>a&&(c=b[e],a=f);for(e=0;e<g.length;e++)c===g[e]?this.UI.manageError(c):this.UI.removeError(g[e].name)}else for(e=0;e<b.length;e++)this.UI.manageError(b[e]);return this.UI.errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass),!1}return this.UI.ulError&&0===d(this.ulError).children().length&&this.UI.removeErrors(),a},addListener:function(a){for(var b in a)this.options.listeners[b]=a[b]},destroy:function(){this.$element.removeClass("parsley-validated"),this.UI.reset(),this.$element.off("."+this.type).removeData(this.type)}};var p=function(a,b,c){this.initMultiple(a,b),this.inherit(a,b),this.Validator=new h(b),this.init(a,c||"ParsleyFieldMultiple")};p.prototype={constructor:p,initMultiple:function(a,b){this.element=a,this.$element=d(a),this.group=b.group||!1,this.hash=this.getName(),this.siblings=this.group?"["+b.namespace+'group="'+this.group+'"]':'input[name="'+this.$element.attr("name")+'"]',this.isRadioOrCheckbox=!0,this.isRadio=this.$element.is("input[type=radio]"),this.isCheckbox=this.$element.is("input[type=checkbox]"),this.errorClassHandler=b.errors.classHandler(a,this.isRadioOrCheckbox)||this.$element.parent()},inherit:function(a,b){var d,c=new m(a,b,"ParsleyFieldMultiple");for(d in c)"undefined"==typeof this[d]&&(this[d]=c[d])},getName:function(){if(this.group)return"parsley-"+this.group;
if("undefined"==typeof this.$element.attr("name"))throw"A radio / checkbox input must have a parsley-group attribute or a name to be Parsley validated !";return"parsley-"+this.$element.attr("name").replace(/(:|\.|\[|\]|\$)/g,"")},getVal:function(){if(this.isRadio)return d(this.siblings+":checked").val()||"";if(this.isCheckbox){var a=[];return d(this.siblings+":checked").each(function(){a.push(d(this).val())}),a}},bindValidationEvents:function(){this.valid=null,this.$element.addClass("parsley-validated"),this.$element.off("."+this.type);var a=this,b=(this.options.trigger?this.options.trigger:"")+(/change/i.test(this.options.trigger)?"":" change"),b=b.replace(/^\s+/g,"").replace(/\s+$/g,"");d(this.siblings).each(function(){d(this).on(b.split(" ").join("."+a.type+" "),!1,d.proxy(a.eventValidation,a))})}};var q=function(a,b,c){this.init(a,b,c||"parsleyForm")};q.prototype={constructor:q,init:function(a,b,c){this.type=c,this.items=[],this.$element=d(a),this.options=b;var f=this;this.$element.find(b.inputs).each(function(){f.addItem(this)}),this.$element.on("submit."+this.type,!1,d.proxy(this.validate,this))},addListener:function(a){for(var b in a)if(/Field/.test(b))for(var c=0;c<this.items.length;c++)this.items[c].addListener(a);else this.options.listeners[b]=a[b]},addItem:function(a){a=d(a).parsley(this.options),a.setParent(this),this.items.push(a)},removeItem:function(a){a=d(a).parsley();for(var b=0;b<this.items.length;b++)if(this.items[b].hash===a.hash)return this.items[b].destroy(),this.items.splice(b,1),!0;return!1},validate:function(a){var b=!0;this.focusedField=!1;for(var c=0;c<this.items.length;c++)"undefined"!=typeof this.items[c]&&!1===this.items[c].validate()&&(b=!1,!this.focusedField&&"first"===this.options.focus||"last"===this.options.focus)&&(this.focusedField=this.items[c].$element);if(this.focusedField&&!b)if(0<this.options.scrollDuration){var f=this,c=this.focusedField.offset().top-d(window).height()/2;d("html, body").animate({scrollTop:c},this.options.scrollDuration,function(){f.focusedField.focus()})}else this.focusedField.focus();return a=this.options.listeners.onFormValidate(b,a,this),"undefined"!=typeof a?a:b},isValid:function(){for(var a=0;a<this.items.length;a++)if(!1===this.items[a].isValid())return!1;return!0},removeErrors:function(){for(var a=0;a<this.items.length;a++)this.items[a].parsley("reset")},destroy:function(){for(var a=0;a<this.items.length;a++)this.items[a].destroy();this.$element.off("."+this.type).removeData(this.type)},reset:function(){for(var a=0;a<this.items.length;a++)this.items[a].UI.reset()}},d.fn.parsley=function(a,b){function c(b,c){var e=d(b).data(c);if(!e){switch(c){case"parsleyForm":e=new q(b,g,"parsleyForm");break;case"parsleyField":e=new m(b,g,"parsleyField");break;case"parsleyFieldMultiple":e=new p(b,g,"parsleyFieldMultiple");break;default:return}d(b).data(c,e)}return"string"==typeof a&&"function"==typeof e[a]?(e=e[a].apply(e,k),"undefined"!=typeof e?e:d(b)):e}var f=d(this).data("parsleyNamespace")?d(this).data("parsleyNamespace"):"undefined"!=typeof a&&"undefined"!=typeof a.namespace?a.namespace:d.fn.parsley.defaults.namespace,g=d.extend(!0,{},d.fn.parsley.defaults,"undefined"!=typeof window.ParsleyConfig?window.ParsleyConfig:{},a,this.domApi(f)),e=null,k=Array.prototype.slice.call(arguments,1);return d(this).is("form")||"undefined"!=typeof d(this).domApi(f).bind?e=c(d(this),"parsleyForm"):d(this).is(g.inputs)&&(e=c(d(this),d(this).is("input[type=radio], input[type=checkbox]")?"parsleyFieldMultiple":"parsleyField")),"function"==typeof b?b():e},d(window).on("load",function(){d("[parsley-validate], [data-parsley-validate]").each(function(){d(this).parsley()})}),d.fn.domApi=function(a){var b,c={},f=RegExp("^"+a,"i");if("undefined"==typeof this[0])return{};for(var g in this[0].attributes)if(b=this[0].attributes[g],"undefined"!=typeof b&&null!==b&&b.specified&&f.test(b.name)){var l,e=c,k=r(b.name.replace(a,""));b=b.value;var h=void 0;try{l=b?"true"==b||("false"==b?!1:"null"==b?null:isNaN(h=Number(b))?/^[\[\{]/.test(b)?d.parseJSON(b):b:h):b}catch(m){l=b}e[k]=l}return c};var r=function(a){return a.replace(/-+(.)?/g,function(a,c){return c?c.toUpperCase():""})};d.fn.parsley.defaults={namespace:"parsley-",inputs:"input, textarea, select",excluded:"input[type=hidden], input[type=file], :disabled",priorityEnabled:!0,trigger:!1,animate:!0,animateDuration:300,scrollDuration:500,focus:"first",validationMinlength:3,successClass:"parsley-success",errorClass:"parsley-error",errorMessage:!1,validators:{},showErrors:!0,useHtml5Constraints:!0,messages:{},validateIfUnchanged:!1,errors:{classHandler:function(){},container:function(){},errorsWrapper:"<ul></ul>",errorElem:"<li></li>"},listeners:{onFieldValidate:function(){return!1},onFormValidate:function(){},onFieldError:function(){},onFieldSuccess:function(){}}}}(window.jQuery||window.Zepto),Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]},function(){var $D=Date,$P=$D.prototype,$C=$D.CultureInfo,p=function(s,l){return l||(l=2),("000"+s).slice(-1*l)};$P.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},$P.setTimeToNow=function(){var n=new Date;return this.setHours(n.getHours()),this.setMinutes(n.getMinutes()),this.setSeconds(n.getSeconds()),this.setMilliseconds(n.getMilliseconds()),this},$D.today=function(){return(new Date).clearTime()},$D.compare=function(date1,date2){if(isNaN(date1)||isNaN(date2))throw new Error(date1+" - "+date2);if(date1 instanceof Date&&date2 instanceof Date)return date2>date1?-1:date1>date2?1:0;throw new TypeError(date1+" - "+date2)},$D.equals=function(date1,date2){return 0===date1.compareTo(date2)},$D.getDayNumberFromName=function(name){for(var n=$C.dayNames,m=$C.abbreviatedDayNames,o=$C.shortestDayNames,s=name.toLowerCase(),i=0;i<n.length;i++)if(n[i].toLowerCase()==s||m[i].toLowerCase()==s||o[i].toLowerCase()==s)return i;return-1},$D.getMonthNumberFromName=function(name){for(var n=$C.monthNames,m=$C.abbreviatedMonthNames,s=name.toLowerCase(),i=0;i<n.length;i++)if(n[i].toLowerCase()==s||m[i].toLowerCase()==s)return i;return-1},$D.isLeapYear=function(year){return year%4===0&&year%100!==0||year%400===0},$D.getDaysInMonth=function(year,month){return[31,$D.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]},$D.getTimezoneAbbreviation=function(offset){for(var z=$C.timezones,i=0;i<z.length;i++)if(z[i].offset===offset)return z[i].name;return null},$D.getTimezoneOffset=function(name){for(var z=$C.timezones,i=0;i<z.length;i++)if(z[i].name===name.toUpperCase())return z[i].offset;return null},$P.clone=function(){return new Date(this.getTime())},$P.compareTo=function(date){return Date.compare(this,date)},$P.equals=function(date){return Date.equals(this,date||new Date)},$P.between=function(start,end){return this.getTime()>=start.getTime()&&this.getTime()<=end.getTime()},$P.isAfter=function(date){return 1===this.compareTo(date||new Date)},$P.isBefore=function(date){return-1===this.compareTo(date||new Date)},$P.isToday=function(){return this.isSameDay(new Date)},$P.isSameDay=function(date){return this.clone().clearTime().equals(date.clone().clearTime())},$P.addMilliseconds=function(value){return this.setMilliseconds(this.getMilliseconds()+value),this},$P.addSeconds=function(value){return this.addMilliseconds(1e3*value)},$P.addMinutes=function(value){return this.addMilliseconds(6e4*value)},$P.addHours=function(value){return this.addMilliseconds(36e5*value)},$P.addDays=function(value){return this.setDate(this.getDate()+value),this},$P.addWeeks=function(value){return this.addDays(7*value)},$P.addMonths=function(value){var n=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+value),this.setDate(Math.min(n,$D.getDaysInMonth(this.getFullYear(),this.getMonth()))),this},$P.addYears=function(value){return this.addMonths(12*value)},$P.add=function(config){if("number"==typeof config)return this._orient=config,this;var x=config;return x.milliseconds&&this.addMilliseconds(x.milliseconds),x.seconds&&this.addSeconds(x.seconds),x.minutes&&this.addMinutes(x.minutes),x.hours&&this.addHours(x.hours),x.weeks&&this.addWeeks(x.weeks),x.months&&this.addMonths(x.months),x.years&&this.addYears(x.years),x.days&&this.addDays(x.days),this};var $y,$m,$d;$P.getWeek=function(){var a,b,c,d,e,f,g,n,s,w;return $y=$y?$y:this.getFullYear(),$m=$m?$m:this.getMonth()+1,$d=$d?$d:this.getDate(),2>=$m?(a=$y-1,b=(a/4|0)-(a/100|0)+(a/400|0),c=((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0),s=b-c,e=0,f=$d-1+31*($m-1)):(a=$y,b=(a/4|0)-(a/100|0)+(a/400|0),c=((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0),s=b-c,e=s+1,f=$d+(153*($m-3)+2)/5+58+s),g=(a+b)%7,d=(f+g-e)%7,n=f+3-d|0,w=0>n?53-((g-s)/5|0):n>364+s?1:(n/7|0)+1,$y=$m=$d=null,w},$P.getISOWeek=function(){return $y=this.getUTCFullYear(),$m=this.getUTCMonth()+1,$d=this.getUTCDate(),p(this.getWeek())},$P.setWeek=function(n){return this.moveToDayOfWeek(1).addWeeks(n-this.getWeek())},$D._validate=function(n,min,max,name){if("undefined"==typeof n)return!1;if("number"!=typeof n)throw new TypeError(n+" is not a Number.");if(min>n||n>max)throw new RangeError(n+" is not a valid value for "+name+".");return!0},$D.validateMillisecond=function(value){return $D._validate(value,0,999,"millisecond")},$D.validateSecond=function(value){return $D._validate(value,0,59,"second")},$D.validateMinute=function(value){return $D._validate(value,0,59,"minute")},$D.validateHour=function(value){return $D._validate(value,0,23,"hour")},$D.validateDay=function(value,year,month){return $D._validate(value,1,$D.getDaysInMonth(year,month),"day")},$D.validateMonth=function(value){return $D._validate(value,0,11,"month")},$D.validateYear=function(value){return $D._validate(value,0,9999,"year")},$P.set=function(config){return $D.validateMillisecond(config.millisecond)&&this.addMilliseconds(config.millisecond-this.getMilliseconds()),$D.validateSecond(config.second)&&this.addSeconds(config.second-this.getSeconds()),$D.validateMinute(config.minute)&&this.addMinutes(config.minute-this.getMinutes()),$D.validateHour(config.hour)&&this.addHours(config.hour-this.getHours()),$D.validateMonth(config.month)&&this.addMonths(config.month-this.getMonth()),$D.validateYear(config.year)&&this.addYears(config.year-this.getFullYear()),$D.validateDay(config.day,this.getFullYear(),this.getMonth())&&this.addDays(config.day-this.getDate()),config.timezone&&this.setTimezone(config.timezone),config.timezoneOffset&&this.setTimezoneOffset(config.timezoneOffset),config.week&&$D._validate(config.week,0,53,"week")&&this.setWeek(config.week),this},$P.moveToFirstDayOfMonth=function(){return this.set({day:1})},$P.moveToLastDayOfMonth=function(){return this.set({day:$D.getDaysInMonth(this.getFullYear(),this.getMonth())})},$P.moveToNthOccurrence=function(dayOfWeek,occurrence){var shift=0;if(occurrence>0)shift=occurrence-1;else if(-1===occurrence)return this.moveToLastDayOfMonth(),this.getDay()!==dayOfWeek&&this.moveToDayOfWeek(dayOfWeek,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(dayOfWeek,1).addWeeks(shift)},$P.moveToDayOfWeek=function(dayOfWeek,orient){var diff=(dayOfWeek-this.getDay()+7*(orient||1))%7;return this.addDays(0===diff?diff+=7*(orient||1):diff)},$P.moveToMonth=function(month,orient){var diff=(month-this.getMonth()+12*(orient||1))%12;return this.addMonths(0===diff?diff+=12*(orient||1):diff)},$P.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864e5)+1},$P.getTimezone=function(){return $D.getTimezoneAbbreviation(this.getUTCOffset())},$P.setTimezoneOffset=function(offset){var here=this.getTimezoneOffset(),there=-6*Number(offset)/10;return this.addMinutes(there-here)},$P.setTimezone=function(offset){return this.setTimezoneOffset($D.getTimezoneOffset(offset))},$P.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()},$P.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()},$P.getUTCOffset=function(){var r,n=-10*this.getTimezoneOffset()/6;return 0>n?(r=(n-1e4).toString(),r.charAt(0)+r.substr(2)):(r=(n+1e4).toString(),"+"+r.substr(1))},$P.getElapsed=function(date){return(date||new Date)-this},$P.toISOString||($P.toISOString=function(){function f(n){return 10>n?"0"+n:n}return'"'+this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+'Z"'}),$P._toString=$P.toString,$P.toString=function(format){var x=this;if(format&&1==format.length){var c=$C.formatPatterns;switch(x.t=x.toString,format){case"d":return x.t(c.shortDate);case"D":return x.t(c.longDate);case"F":return x.t(c.fullDateTime);case"m":return x.t(c.monthDay);case"r":return x.t(c.rfc1123);case"s":return x.t(c.sortableDateTime);case"t":return x.t(c.shortTime);case"T":return x.t(c.longTime);case"u":return x.t(c.universalSortableDateTime);case"y":return x.t(c.yearMonth)}}var ord=function(n){switch(1*n){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return format?format.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(m){if("\\"===m.charAt(0))return m.replace("\\","");switch(x.h=x.getHours,m){case"hh":return p(x.h()<13?0===x.h()?12:x.h():x.h()-12);case"h":return x.h()<13?0===x.h()?12:x.h():x.h()-12;case"HH":return p(x.h());case"H":return x.h();case"mm":return p(x.getMinutes());case"m":return x.getMinutes();case"ss":return p(x.getSeconds());case"s":return x.getSeconds();case"yyyy":return p(x.getFullYear(),4);case"yy":return p(x.getFullYear());case"dddd":return $C.dayNames[x.getDay()];case"ddd":return $C.abbreviatedDayNames[x.getDay()];case"dd":return p(x.getDate());case"d":return x.getDate();case"MMMM":return $C.monthNames[x.getMonth()];case"MMM":return $C.abbreviatedMonthNames[x.getMonth()];case"MM":return p(x.getMonth()+1);case"M":return x.getMonth()+1;case"t":return x.h()<12?$C.amDesignator.substring(0,1):$C.pmDesignator.substring(0,1);case"tt":return x.h()<12?$C.amDesignator:$C.pmDesignator;case"S":return ord(x.getDate());default:return m}}):this._toString()}}(),function(){var $D=Date,$P=$D.prototype,$C=$D.CultureInfo,$N=Number.prototype;$P._orient=1,$P._nth=null,$P._is=!1,$P._same=!1,$P._isSecond=!1,$N._dateElement="day",$P.next=function(){return this._orient=1,this},$D.next=function(){return $D.today().next()},$P.last=$P.prev=$P.previous=function(){return this._orient=-1,this},$D.last=$D.prev=$D.previous=function(){return $D.today().last()},$P.is=function(){return this._is=!0,this},$P.same=function(){return this._same=!0,this._isSecond=!1,this},$P.today=function(){return this.same().day()},$P.weekday=function(){return this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1},$P.at=function(time){return"string"==typeof time?$D.parse(this.toString("d")+" "+time):this.set(time)},$N.fromNow=$N.after=function(date){var c={};return c[this._dateElement]=this,(date?date.clone():new Date).add(c)},$N.ago=$N.before=function(date){var c={};return c[this._dateElement]=-1*this,(date?date.clone():new Date).add(c)};var de,dx="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),mx="january february march april may june july august september october november december".split(/\s/),px="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),pxf="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),nth="final first second third fourth fifth".split(/\s/);$P.toObject=function(){for(var o={},i=0;i<px.length;i++)o[px[i].toLowerCase()]=this["get"+pxf[i]]();return o},$D.fromObject=function(config){return config.week=null,Date.today().set(config)};for(var df=function(n){return function(){if(this._is)return this._is=!1,this.getDay()==n;if(null!==this._nth){this._isSecond&&this.addSeconds(-1*this._orient),this._isSecond=!1;var ntemp=this._nth;this._nth=null;var temp=this.clone().moveToLastDayOfMonth();if(this.moveToNthOccurrence(n,ntemp),this>temp)throw new RangeError($D.getDayName(n)+" does not occur "+ntemp+" times in the month of "+$D.getMonthName(temp.getMonth())+" "+temp.getFullYear()+".");return this}return this.moveToDayOfWeek(n,this._orient)}},sdf=function(n){return function(){var t=$D.today(),shift=n-t.getDay();return 0===n&&1===$C.firstDayOfWeek&&0!==t.getDay()&&(shift+=7),t.addDays(shift)}},i=0;i<dx.length;i++)$D[dx[i].toUpperCase()]=$D[dx[i].toUpperCase().substring(0,3)]=i,$D[dx[i]]=$D[dx[i].substring(0,3)]=sdf(i),$P[dx[i]]=$P[dx[i].substring(0,3)]=df(i);for(var mf=function(n){return function(){return this._is?(this._is=!1,this.getMonth()===n):this.moveToMonth(n,this._orient)}},smf=function(n){return function(){return $D.today().set({month:n,day:1})}},j=0;j<mx.length;j++)$D[mx[j].toUpperCase()]=$D[mx[j].toUpperCase().substring(0,3)]=j,$D[mx[j]]=$D[mx[j].substring(0,3)]=smf(j),$P[mx[j]]=$P[mx[j].substring(0,3)]=mf(j);for(var ef=function(j){return function(){if(this._isSecond)return this._isSecond=!1,this;if(this._same){this._same=this._is=!1;for(var o1=this.toObject(),o2=(arguments[0]||new Date).toObject(),v="",k=j.toLowerCase(),m=px.length-1;m>-1;m--){if(v=px[m].toLowerCase(),o1[v]!=o2[v])return!1;if(k==v)break}return!0}return"s"!=j.substring(j.length-1)&&(j+="s"),this["add"+j](this._orient)}},nf=function(n){return function(){return this._dateElement=n,this}},k=0;k<px.length;k++)de=px[k].toLowerCase(),$P[de]=$P[de+"s"]=ef(px[k]),$N[de]=$N[de+"s"]=nf(de);$P._ss=ef("Second");for(var nthfn=function(n){return function(dayOfWeek){return this._same?this._ss(arguments[0]):dayOfWeek||0===dayOfWeek?this.moveToNthOccurrence(dayOfWeek,n):(this._nth=n,2!==n||void 0!==dayOfWeek&&null!==dayOfWeek?this:(this._isSecond=!0,this.addSeconds(this._orient)))}},l=0;l<nth.length;l++)$P[nth[l]]=nthfn(0===l?-1:l)}(),function(){Date.Parsing={Exception:function(s){this.message="Parse error at '"+s.substring(0,10)+" ...'"}};for(var $P=Date.Parsing,_=$P.Operators={rtoken:function(r){return function(s){var mx=s.match(r);if(mx)return[mx[0],s.substring(mx[0].length)];throw new $P.Exception(s)}},token:function(){return function(s){return _.rtoken(new RegExp("^s*"+s+"s*"))(s)}},stoken:function(s){return _.rtoken(new RegExp("^"+s))},until:function(p){return function(s){for(var qx=[],rx=null;s.length;){try{rx=p.call(this,s)}catch(e){qx.push(rx[0]),s=rx[1];continue}break}return[qx,s]}},many:function(p){return function(s){for(var rx=[],r=null;s.length;){try{r=p.call(this,s)}catch(e){return[rx,s]}rx.push(r[0]),s=r[1]}return[rx,s]}},optional:function(p){return function(s){var r=null;try{r=p.call(this,s)}catch(e){return[null,s]}return[r[0],r[1]]}},not:function(p){return function(s){try{p.call(this,s)}catch(e){return[null,s]}throw new $P.Exception(s)}},ignore:function(p){return p?function(s){var r=null;return r=p.call(this,s),[null,r[1]]}:null},product:function(){for(var px=arguments[0],qx=Array.prototype.slice.call(arguments,1),rx=[],i=0;i<px.length;i++)rx.push(_.each(px[i],qx));return rx},cache:function(rule){var cache={},r=null;return function(s){try{r=cache[s]=cache[s]||rule.call(this,s)}catch(e){r=cache[s]=e}if(r instanceof $P.Exception)throw r;return r}},any:function(){var px=arguments;return function(s){for(var r=null,i=0;i<px.length;i++)if(null!=px[i]){try{r=px[i].call(this,s)}catch(e){r=null}if(r)return r}throw new $P.Exception(s)}},each:function(){var px=arguments;return function(s){for(var rx=[],r=null,i=0;i<px.length;i++)if(null!=px[i]){try{r=px[i].call(this,s)}catch(e){throw new $P.Exception(s)}rx.push(r[0]),s=r[1]}return[rx,s]}},all:function(){var px=arguments,_=_;return _.each(_.optional(px))},sequence:function(px,d,c){return d=d||_.rtoken(/^\s*/),c=c||null,1==px.length?px[0]:function(s){for(var r=null,q=null,rx=[],i=0;i<px.length;i++){try{r=px[i].call(this,s)}catch(e){break}rx.push(r[0]);try{q=d.call(this,r[1])}catch(ex){q=null;break}s=q[1]}if(!r)throw new $P.Exception(s);if(q)throw new $P.Exception(q[1]);if(c)try{r=c.call(this,r[1])}catch(ey){throw new $P.Exception(r[1])}return[rx,r?r[1]:s]}},between:function(d1,p,d2){d2=d2||d1;var _fn=_.each(_.ignore(d1),p,_.ignore(d2));return function(s){var rx=_fn.call(this,s);return[[rx[0][0],r[0][2]],rx[1]]}},list:function(p,d,c){return d=d||_.rtoken(/^\s*/),c=c||null,p instanceof Array?_.each(_.product(p.slice(0,-1),_.ignore(d)),p.slice(-1),_.ignore(c)):_.each(_.many(_.each(p,_.ignore(d))),px,_.ignore(c))},set:function(px,d,c){return d=d||_.rtoken(/^\s*/),c=c||null,function(s){for(var r=null,p=null,q=null,rx=null,best=[[],s],last=!1,i=0;i<px.length;i++){q=null,p=null,r=null,last=1==px.length;try{r=px[i].call(this,s)}catch(e){continue}if(rx=[[r[0]],r[1]],r[1].length>0&&!last)try{q=d.call(this,r[1])}catch(ex){last=!0}else last=!0;if(last||0!==q[1].length||(last=!0),!last){for(var qx=[],j=0;j<px.length;j++)i!=j&&qx.push(px[j]);p=_.set(qx,d).call(this,q[1]),p[0].length>0&&(rx[0]=rx[0].concat(p[0]),rx[1]=p[1])}if(rx[1].length<best[1].length&&(best=rx),0===best[1].length)break}if(0===best[0].length)return best;if(c){try{q=c.call(this,best[1])}catch(ey){throw new $P.Exception(best[1])}best[1]=q[1]}return best}},forward:function(gr,fname){return function(s){return gr[fname].call(this,s)}},replace:function(rule,repl){return function(s){var r=rule.call(this,s);return[repl,r[1]]}},process:function(rule,fn){return function(s){var r=rule.call(this,s);return[fn.call(this,r[0]),r[1]]}},min:function(min,rule){return function(s){var rx=rule.call(this,s);if(rx[0].length<min)throw new $P.Exception(s);return rx}}},_generator=function(op){return function(){var args=null,rx=[];if(arguments.length>1?args=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(args=arguments[0]),!args)return op.apply(null,arguments);for(var i=0,px=args.shift();i<px.length;i++)return args.unshift(px[i]),rx.push(op.apply(null,args)),args.shift(),rx}},gx="optional not ignore cache".split(/\s/),i=0;i<gx.length;i++)_[gx[i]]=_generator(_[gx[i]]);for(var _vector=function(op){return function(){return arguments[0]instanceof Array?op.apply(null,arguments[0]):op.apply(null,arguments)}},vx="each any all".split(/\s/),j=0;j<vx.length;j++)_[vx[j]]=_vector(_[vx[j]])}(),function(){var $D=Date,$C=($D.prototype,$D.CultureInfo),flattenAndCompact=function(ax){for(var rx=[],i=0;i<ax.length;i++)ax[i]instanceof Array?rx=rx.concat(flattenAndCompact(ax[i])):ax[i]&&rx.push(ax[i]);return rx};$D.Grammar={},$D.Translator={hour:function(s){return function(){this.hour=Number(s)}},minute:function(s){return function(){this.minute=Number(s)}},second:function(s){return function(){this.second=Number(s)}},meridian:function(s){return function(){this.meridian=s.slice(0,1).toLowerCase()}},timezone:function(s){return function(){var n=s.replace(/[^\d\+\-]/g,"");n.length?this.timezoneOffset=Number(n):this.timezone=s.toLowerCase()}},day:function(x){var s=x[0];return function(){this.day=Number(s.match(/\d+/)[0])}},month:function(s){return function(){this.month=3==s.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(s)/4:Number(s)-1}},year:function(s){return function(){var n=Number(s);this.year=s.length>2?n:n+(n+2e3<$C.twoDigitYearMax?2e3:1900)}},rday:function(s){return function(){switch(s){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(x){x=x instanceof Array?x:[x];for(var i=0;i<x.length;i++)x[i]&&x[i].call(this);var now=new Date;if(!this.hour&&!this.minute||this.month||this.year||this.day||(this.day=now.getDate()),this.year||(this.year=now.getFullYear()),this.month||0===this.month||(this.month=now.getMonth()),this.day||(this.day=1),this.hour||(this.hour=0),this.minute||(this.minute=0),this.second||(this.second=0),this.meridian&&this.hour&&("p"==this.meridian&&this.hour<12?this.hour=this.hour+12:"a"==this.meridian&&12==this.hour&&(this.hour=0)),this.day>$D.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var r=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?r.set({timezone:this.timezone}):this.timezoneOffset&&r.set({timezoneOffset:this.timezoneOffset}),r},finish:function(x){if(x=x instanceof Array?flattenAndCompact(x):[x],0===x.length)return null;for(var i=0;i<x.length;i++)"function"==typeof x[i]&&x[i].call(this);var today=$D.today();if(this.now&&!this.unit&&!this.operator)return new Date;this.now&&(today=new Date);var gap,mod,orient,expression=!!(this.days&&null!==this.days||this.orient||this.operator);if(orient="past"==this.orient||"subtract"==this.operator?-1:1,this.now||-1=="hour minute second".indexOf(this.unit)||today.setTimeToNow(),(this.month||0===this.month)&&-1!="year day hour minute second".indexOf(this.unit)&&(this.value=this.month+1,this.month=null,expression=!0),!expression&&this.weekday&&!this.day&&!this.days){var temp=Date[this.weekday]();this.day=temp.getDate(),this.month||(this.month=temp.getMonth()),this.year=temp.getFullYear()}if(expression&&this.weekday&&"month"!=this.unit&&(this.unit="day",gap=$D.getDayNumberFromName(this.weekday)-today.getDay(),mod=7,this.days=gap?(gap+orient*mod)%mod:orient*mod),this.month&&"day"==this.unit&&this.operator&&(this.value=this.month+1,this.month=null),null!=this.value&&null!=this.month&&null!=this.year&&(this.day=1*this.value),this.month&&!this.day&&this.value&&(today.set({day:1*this.value}),expression||(this.day=1*this.value)),this.month||!this.value||"month"!=this.unit||this.now||(this.month=this.value,expression=!0),expression&&(this.month||0===this.month)&&"year"!=this.unit&&(this.unit="month",gap=this.month-today.getMonth(),mod=12,this.months=gap?(gap+orient*mod)%mod:orient*mod,this.month=null),this.unit||(this.unit="day"),!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"]?this[this.unit+"s"]=this[this.unit+"s"]+("add"==this.operator?1:-1)+(this.value||0)*orient:(null==this[this.unit+"s"]||null!=this.operator)&&(this.value||(this.value=1),this[this.unit+"s"]=this.value*orient),this.meridian&&this.hour&&("p"==this.meridian&&this.hour<12?this.hour=this.hour+12:"a"==this.meridian&&12==this.hour&&(this.hour=0)),this.weekday&&!this.day&&!this.days){var temp=Date[this.weekday]();this.day=temp.getDate(),temp.getMonth()!==today.getMonth()&&(this.month=temp.getMonth())}return!this.month&&0!==this.month||this.day||(this.day=1),this.orient||this.operator||"week"!=this.unit||!this.value||this.day||this.month?(expression&&this.timezone&&this.day&&this.days&&(this.day=this.days),expression?today.add(this):today.set(this)):Date.today().setWeek(this.value)}};var _fn,_=$D.Parsing.Operators,g=$D.Grammar,t=$D.Translator;g.datePartDelimiter=_.rtoken(/^([\s\-\.\,\/\x27]+)/),g.timePartDelimiter=_.stoken(":"),g.whiteSpace=_.rtoken(/^\s*/),g.generalDelimiter=_.rtoken(/^(([\s\,]|at|@|on)+)/);var _C={};g.ctoken=function(keys){var fn=_C[keys];if(!fn){for(var c=$C.regexPatterns,kx=keys.split(/\s+/),px=[],i=0;i<kx.length;i++)px.push(_.replace(_.rtoken(c[kx[i]]),kx[i]));fn=_C[keys]=_.any.apply(null,px)}return fn},g.ctoken2=function(key){return _.rtoken($C.regexPatterns[key])},g.h=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),t.hour)),g.hh=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2])/),t.hour)),g.H=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),t.hour)),g.HH=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3])/),t.hour)),g.m=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.minute)),g.mm=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.minute)),g.s=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.second)),g.ss=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.second)),g.hms=_.cache(_.sequence([g.H,g.m,g.s],g.timePartDelimiter)),g.t=_.cache(_.process(g.ctoken2("shortMeridian"),t.meridian)),g.tt=_.cache(_.process(g.ctoken2("longMeridian"),t.meridian)),g.z=_.cache(_.process(_.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),t.timezone)),g.zz=_.cache(_.process(_.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),t.timezone)),g.zzz=_.cache(_.process(g.ctoken2("timezone"),t.timezone)),g.timeSuffix=_.each(_.ignore(g.whiteSpace),_.set([g.tt,g.zzz])),g.time=_.each(_.optional(_.ignore(_.stoken("T"))),g.hms,g.timeSuffix),g.d=_.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1]|\d)/),_.optional(g.ctoken2("ordinalSuffix"))),t.day)),g.dd=_.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1])/),_.optional(g.ctoken2("ordinalSuffix"))),t.day)),g.ddd=g.dddd=_.cache(_.process(g.ctoken("sun mon tue wed thu fri sat"),function(s){return function(){this.weekday=s}})),g.M=_.cache(_.process(_.rtoken(/^(1[0-2]|0\d|\d)/),t.month)),g.MM=_.cache(_.process(_.rtoken(/^(1[0-2]|0\d)/),t.month)),g.MMM=g.MMMM=_.cache(_.process(g.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),t.month)),g.y=_.cache(_.process(_.rtoken(/^(\d\d?)/),t.year)),g.yy=_.cache(_.process(_.rtoken(/^(\d\d)/),t.year)),g.yyy=_.cache(_.process(_.rtoken(/^(\d\d?\d?\d?)/),t.year)),g.yyyy=_.cache(_.process(_.rtoken(/^(\d\d\d\d)/),t.year)),_fn=function(){return _.each(_.any.apply(null,arguments),_.not(g.ctoken2("timeContext")))},g.day=_fn(g.d,g.dd),g.month=_fn(g.M,g.MMM),g.year=_fn(g.yyyy,g.yy),g.orientation=_.process(g.ctoken("past future"),function(s){return function(){this.orient=s}}),g.operator=_.process(g.ctoken("add subtract"),function(s){return function(){this.operator=s}}),g.rday=_.process(g.ctoken("yesterday tomorrow today now"),t.rday),g.unit=_.process(g.ctoken("second minute hour day week month year"),function(s){return function(){this.unit=s}}),g.value=_.process(_.rtoken(/^\d\d?(st|nd|rd|th)?/),function(s){return function(){this.value=s.replace(/\D/g,"")}}),g.expression=_.set([g.rday,g.operator,g.value,g.unit,g.orientation,g.ddd,g.MMM]),_fn=function(){return _.set(arguments,g.datePartDelimiter)
},g.mdy=_fn(g.ddd,g.month,g.day,g.year),g.ymd=_fn(g.ddd,g.year,g.month,g.day),g.dmy=_fn(g.ddd,g.day,g.month,g.year),g.date=function(s){return(g[$C.dateElementOrder]||g.mdy).call(this,s)},g.format=_.process(_.many(_.any(_.process(_.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(fmt){if(g[fmt])return g[fmt];throw $D.Parsing.Exception(fmt)}),_.process(_.rtoken(/^[^dMyhHmstz]+/),function(s){return _.ignore(_.stoken(s))}))),function(rules){return _.process(_.each.apply(null,rules),t.finishExact)});var _F={},_get=function(f){return _F[f]=_F[f]||g.format(f)[0]};g.formats=function(fx){if(fx instanceof Array){for(var rx=[],i=0;i<fx.length;i++)rx.push(_get(fx[i]));return _.any.apply(null,rx)}return _get(fx)},g._formats=g.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]),g._start=_.process(_.set([g.date,g.time,g.expression],g.generalDelimiter,g.whiteSpace),t.finish),g.start=function(s){try{var r=g._formats.call({},s);if(0===r[1].length)return r}catch(e){}return g._start.call({},s)},$D._parse=$D.parse,$D.parse=function(s){var r=null;if(!s)return null;if(s instanceof Date)return s;try{r=$D.Grammar.start.call({},s.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(e){return null}return 0===r[1].length?r[0]:null},$D.getParseFunction=function(fx){var fn=$D.Grammar.formats(fx);return function(s){var r=null;try{r=fn.call({},s)}catch(e){return null}return 0===r[1].length?r[0]:null}},$D.parseExact=function(s,fx){return $D.getParseFunction(fx)(s)}}(),Date.CultureInfo={name:"pt-BR",englishName:"Portuguese (Brazil)",nativeName:"Português (Brasil)",dayNames:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],abbreviatedDayNames:["dom","seg","ter","qua","qui","sex","sáb"],shortestDayNames:["dom","seg","ter","qua","qui","sex","sáb"],firstLetterDayNames:["d","s","t","q","q","s","s"],monthNames:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],abbreviatedMonthNames:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],amDesignator:"",pmDesignator:"",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"dmy",formatPatterns:{shortDate:"d/M/yyyy",longDate:"dddd, d' de 'MMMM' de 'yyyy",shortTime:"H:mm",longTime:"H:mm:ss",fullDateTime:"dddd, d' de 'MMMM' de 'yyyy H:mm:ss",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"dd' de 'MMMM",yearMonth:"MMMM' de 'yyyy"},regexPatterns:{jan:/^jan(eiro)?/i,feb:/^fev(ereiro)?/i,mar:/^mar(ço)?/i,apr:/^abr(il)?/i,may:/^mai(o)?/i,jun:/^jun(ho)?/i,jul:/^jul(ho)?/i,aug:/^ago(sto)?/i,sep:/^set(embro)?/i,oct:/^out(ubro)?/i,nov:/^nov(embro)?/i,dec:/^dez(embro)?/i,sun:/^domingo/i,mon:/^segunda-feira/i,tue:/^terça-feira/i,wed:/^quarta-feira/i,thu:/^quinta-feira/i,fri:/^sexta-feira/i,sat:/^sábado/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]},function(){var $D=Date,$P=$D.prototype,$C=$D.CultureInfo,p=function(s,l){return l||(l=2),("000"+s).slice(-1*l)};$P.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},$P.setTimeToNow=function(){var n=new Date;return this.setHours(n.getHours()),this.setMinutes(n.getMinutes()),this.setSeconds(n.getSeconds()),this.setMilliseconds(n.getMilliseconds()),this},$D.today=function(){return(new Date).clearTime()},$D.compare=function(date1,date2){if(isNaN(date1)||isNaN(date2))throw new Error(date1+" - "+date2);if(date1 instanceof Date&&date2 instanceof Date)return date2>date1?-1:date1>date2?1:0;throw new TypeError(date1+" - "+date2)},$D.equals=function(date1,date2){return 0===date1.compareTo(date2)},$D.getDayNumberFromName=function(name){for(var n=$C.dayNames,m=$C.abbreviatedDayNames,o=$C.shortestDayNames,s=name.toLowerCase(),i=0;i<n.length;i++)if(n[i].toLowerCase()==s||m[i].toLowerCase()==s||o[i].toLowerCase()==s)return i;return-1},$D.getMonthNumberFromName=function(name){for(var n=$C.monthNames,m=$C.abbreviatedMonthNames,s=name.toLowerCase(),i=0;i<n.length;i++)if(n[i].toLowerCase()==s||m[i].toLowerCase()==s)return i;return-1},$D.isLeapYear=function(year){return year%4===0&&year%100!==0||year%400===0},$D.getDaysInMonth=function(year,month){return[31,$D.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]},$D.getTimezoneAbbreviation=function(offset){for(var z=$C.timezones,i=0;i<z.length;i++)if(z[i].offset===offset)return z[i].name;return null},$D.getTimezoneOffset=function(name){for(var z=$C.timezones,i=0;i<z.length;i++)if(z[i].name===name.toUpperCase())return z[i].offset;return null},$P.clone=function(){return new Date(this.getTime())},$P.compareTo=function(date){return Date.compare(this,date)},$P.equals=function(date){return Date.equals(this,date||new Date)},$P.between=function(start,end){return this.getTime()>=start.getTime()&&this.getTime()<=end.getTime()},$P.isAfter=function(date){return 1===this.compareTo(date||new Date)},$P.isBefore=function(date){return-1===this.compareTo(date||new Date)},$P.isToday=function(){return this.isSameDay(new Date)},$P.isSameDay=function(date){return this.clone().clearTime().equals(date.clone().clearTime())},$P.addMilliseconds=function(value){return this.setMilliseconds(this.getMilliseconds()+value),this},$P.addSeconds=function(value){return this.addMilliseconds(1e3*value)},$P.addMinutes=function(value){return this.addMilliseconds(6e4*value)},$P.addHours=function(value){return this.addMilliseconds(36e5*value)},$P.addDays=function(value){return this.setDate(this.getDate()+value),this},$P.addWeeks=function(value){return this.addDays(7*value)},$P.addMonths=function(value){var n=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+value),this.setDate(Math.min(n,$D.getDaysInMonth(this.getFullYear(),this.getMonth()))),this},$P.addYears=function(value){return this.addMonths(12*value)},$P.add=function(config){if("number"==typeof config)return this._orient=config,this;var x=config;return x.milliseconds&&this.addMilliseconds(x.milliseconds),x.seconds&&this.addSeconds(x.seconds),x.minutes&&this.addMinutes(x.minutes),x.hours&&this.addHours(x.hours),x.weeks&&this.addWeeks(x.weeks),x.months&&this.addMonths(x.months),x.years&&this.addYears(x.years),x.days&&this.addDays(x.days),this};var $y,$m,$d;$P.getWeek=function(){var a,b,c,d,e,f,g,n,s,w;return $y=$y?$y:this.getFullYear(),$m=$m?$m:this.getMonth()+1,$d=$d?$d:this.getDate(),2>=$m?(a=$y-1,b=(a/4|0)-(a/100|0)+(a/400|0),c=((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0),s=b-c,e=0,f=$d-1+31*($m-1)):(a=$y,b=(a/4|0)-(a/100|0)+(a/400|0),c=((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0),s=b-c,e=s+1,f=$d+(153*($m-3)+2)/5+58+s),g=(a+b)%7,d=(f+g-e)%7,n=f+3-d|0,w=0>n?53-((g-s)/5|0):n>364+s?1:(n/7|0)+1,$y=$m=$d=null,w},$P.getISOWeek=function(){return $y=this.getUTCFullYear(),$m=this.getUTCMonth()+1,$d=this.getUTCDate(),p(this.getWeek())},$P.setWeek=function(n){return this.moveToDayOfWeek(1).addWeeks(n-this.getWeek())},$D._validate=function(n,min,max,name){if("undefined"==typeof n)return!1;if("number"!=typeof n)throw new TypeError(n+" is not a Number.");if(min>n||n>max)throw new RangeError(n+" is not a valid value for "+name+".");return!0},$D.validateMillisecond=function(value){return $D._validate(value,0,999,"millisecond")},$D.validateSecond=function(value){return $D._validate(value,0,59,"second")},$D.validateMinute=function(value){return $D._validate(value,0,59,"minute")},$D.validateHour=function(value){return $D._validate(value,0,23,"hour")},$D.validateDay=function(value,year,month){return $D._validate(value,1,$D.getDaysInMonth(year,month),"day")},$D.validateMonth=function(value){return $D._validate(value,0,11,"month")},$D.validateYear=function(value){return $D._validate(value,0,9999,"year")},$P.set=function(config){return $D.validateMillisecond(config.millisecond)&&this.addMilliseconds(config.millisecond-this.getMilliseconds()),$D.validateSecond(config.second)&&this.addSeconds(config.second-this.getSeconds()),$D.validateMinute(config.minute)&&this.addMinutes(config.minute-this.getMinutes()),$D.validateHour(config.hour)&&this.addHours(config.hour-this.getHours()),$D.validateMonth(config.month)&&this.addMonths(config.month-this.getMonth()),$D.validateYear(config.year)&&this.addYears(config.year-this.getFullYear()),$D.validateDay(config.day,this.getFullYear(),this.getMonth())&&this.addDays(config.day-this.getDate()),config.timezone&&this.setTimezone(config.timezone),config.timezoneOffset&&this.setTimezoneOffset(config.timezoneOffset),config.week&&$D._validate(config.week,0,53,"week")&&this.setWeek(config.week),this},$P.moveToFirstDayOfMonth=function(){return this.set({day:1})},$P.moveToLastDayOfMonth=function(){return this.set({day:$D.getDaysInMonth(this.getFullYear(),this.getMonth())})},$P.moveToNthOccurrence=function(dayOfWeek,occurrence){var shift=0;if(occurrence>0)shift=occurrence-1;else if(-1===occurrence)return this.moveToLastDayOfMonth(),this.getDay()!==dayOfWeek&&this.moveToDayOfWeek(dayOfWeek,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(dayOfWeek,1).addWeeks(shift)},$P.moveToDayOfWeek=function(dayOfWeek,orient){var diff=(dayOfWeek-this.getDay()+7*(orient||1))%7;return this.addDays(0===diff?diff+=7*(orient||1):diff)},$P.moveToMonth=function(month,orient){var diff=(month-this.getMonth()+12*(orient||1))%12;return this.addMonths(0===diff?diff+=12*(orient||1):diff)},$P.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864e5)+1},$P.getTimezone=function(){return $D.getTimezoneAbbreviation(this.getUTCOffset())},$P.setTimezoneOffset=function(offset){var here=this.getTimezoneOffset(),there=-6*Number(offset)/10;return this.addMinutes(there-here)},$P.setTimezone=function(offset){return this.setTimezoneOffset($D.getTimezoneOffset(offset))},$P.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()},$P.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()},$P.getUTCOffset=function(){var r,n=-10*this.getTimezoneOffset()/6;return 0>n?(r=(n-1e4).toString(),r.charAt(0)+r.substr(2)):(r=(n+1e4).toString(),"+"+r.substr(1))},$P.getElapsed=function(date){return(date||new Date)-this},$P.toISOString||($P.toISOString=function(){function f(n){return 10>n?"0"+n:n}return'"'+this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+'Z"'}),$P._toString=$P.toString,$P.toString=function(format){var x=this;if(format&&1==format.length){var c=$C.formatPatterns;switch(x.t=x.toString,format){case"d":return x.t(c.shortDate);case"D":return x.t(c.longDate);case"F":return x.t(c.fullDateTime);case"m":return x.t(c.monthDay);case"r":return x.t(c.rfc1123);case"s":return x.t(c.sortableDateTime);case"t":return x.t(c.shortTime);case"T":return x.t(c.longTime);case"u":return x.t(c.universalSortableDateTime);case"y":return x.t(c.yearMonth)}}var ord=function(n){switch(1*n){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return format?format.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(m){if("\\"===m.charAt(0))return m.replace("\\","");switch(x.h=x.getHours,m){case"hh":return p(x.h()<13?0===x.h()?12:x.h():x.h()-12);case"h":return x.h()<13?0===x.h()?12:x.h():x.h()-12;case"HH":return p(x.h());case"H":return x.h();case"mm":return p(x.getMinutes());case"m":return x.getMinutes();case"ss":return p(x.getSeconds());case"s":return x.getSeconds();case"yyyy":return p(x.getFullYear(),4);case"yy":return p(x.getFullYear());case"dddd":return $C.dayNames[x.getDay()];case"ddd":return $C.abbreviatedDayNames[x.getDay()];case"dd":return p(x.getDate());case"d":return x.getDate();case"MMMM":return $C.monthNames[x.getMonth()];case"MMM":return $C.abbreviatedMonthNames[x.getMonth()];case"MM":return p(x.getMonth()+1);case"M":return x.getMonth()+1;case"t":return x.h()<12?$C.amDesignator.substring(0,1):$C.pmDesignator.substring(0,1);case"tt":return x.h()<12?$C.amDesignator:$C.pmDesignator;case"S":return ord(x.getDate());default:return m}}):this._toString()}}(),function(){var $D=Date,$P=$D.prototype,$C=$D.CultureInfo,$N=Number.prototype;$P._orient=1,$P._nth=null,$P._is=!1,$P._same=!1,$P._isSecond=!1,$N._dateElement="day",$P.next=function(){return this._orient=1,this},$D.next=function(){return $D.today().next()},$P.last=$P.prev=$P.previous=function(){return this._orient=-1,this},$D.last=$D.prev=$D.previous=function(){return $D.today().last()},$P.is=function(){return this._is=!0,this},$P.same=function(){return this._same=!0,this._isSecond=!1,this},$P.today=function(){return this.same().day()},$P.weekday=function(){return this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1},$P.at=function(time){return"string"==typeof time?$D.parse(this.toString("d")+" "+time):this.set(time)},$N.fromNow=$N.after=function(date){var c={};return c[this._dateElement]=this,(date?date.clone():new Date).add(c)},$N.ago=$N.before=function(date){var c={};return c[this._dateElement]=-1*this,(date?date.clone():new Date).add(c)};var de,dx="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),mx="january february march april may june july august september october november december".split(/\s/),px="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),pxf="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),nth="final first second third fourth fifth".split(/\s/);$P.toObject=function(){for(var o={},i=0;i<px.length;i++)o[px[i].toLowerCase()]=this["get"+pxf[i]]();return o},$D.fromObject=function(config){return config.week=null,Date.today().set(config)};for(var df=function(n){return function(){if(this._is)return this._is=!1,this.getDay()==n;if(null!==this._nth){this._isSecond&&this.addSeconds(-1*this._orient),this._isSecond=!1;var ntemp=this._nth;this._nth=null;var temp=this.clone().moveToLastDayOfMonth();if(this.moveToNthOccurrence(n,ntemp),this>temp)throw new RangeError($D.getDayName(n)+" does not occur "+ntemp+" times in the month of "+$D.getMonthName(temp.getMonth())+" "+temp.getFullYear()+".");return this}return this.moveToDayOfWeek(n,this._orient)}},sdf=function(n){return function(){var t=$D.today(),shift=n-t.getDay();return 0===n&&1===$C.firstDayOfWeek&&0!==t.getDay()&&(shift+=7),t.addDays(shift)}},i=0;i<dx.length;i++)$D[dx[i].toUpperCase()]=$D[dx[i].toUpperCase().substring(0,3)]=i,$D[dx[i]]=$D[dx[i].substring(0,3)]=sdf(i),$P[dx[i]]=$P[dx[i].substring(0,3)]=df(i);for(var mf=function(n){return function(){return this._is?(this._is=!1,this.getMonth()===n):this.moveToMonth(n,this._orient)}},smf=function(n){return function(){return $D.today().set({month:n,day:1})}},j=0;j<mx.length;j++)$D[mx[j].toUpperCase()]=$D[mx[j].toUpperCase().substring(0,3)]=j,$D[mx[j]]=$D[mx[j].substring(0,3)]=smf(j),$P[mx[j]]=$P[mx[j].substring(0,3)]=mf(j);for(var ef=function(j){return function(){if(this._isSecond)return this._isSecond=!1,this;if(this._same){this._same=this._is=!1;for(var o1=this.toObject(),o2=(arguments[0]||new Date).toObject(),v="",k=j.toLowerCase(),m=px.length-1;m>-1;m--){if(v=px[m].toLowerCase(),o1[v]!=o2[v])return!1;if(k==v)break}return!0}return"s"!=j.substring(j.length-1)&&(j+="s"),this["add"+j](this._orient)}},nf=function(n){return function(){return this._dateElement=n,this}},k=0;k<px.length;k++)de=px[k].toLowerCase(),$P[de]=$P[de+"s"]=ef(px[k]),$N[de]=$N[de+"s"]=nf(de);$P._ss=ef("Second");for(var nthfn=function(n){return function(dayOfWeek){return this._same?this._ss(arguments[0]):dayOfWeek||0===dayOfWeek?this.moveToNthOccurrence(dayOfWeek,n):(this._nth=n,2!==n||void 0!==dayOfWeek&&null!==dayOfWeek?this:(this._isSecond=!0,this.addSeconds(this._orient)))}},l=0;l<nth.length;l++)$P[nth[l]]=nthfn(0===l?-1:l)}(),function(){Date.Parsing={Exception:function(s){this.message="Parse error at '"+s.substring(0,10)+" ...'"}};for(var $P=Date.Parsing,_=$P.Operators={rtoken:function(r){return function(s){var mx=s.match(r);if(mx)return[mx[0],s.substring(mx[0].length)];throw new $P.Exception(s)}},token:function(){return function(s){return _.rtoken(new RegExp("^s*"+s+"s*"))(s)}},stoken:function(s){return _.rtoken(new RegExp("^"+s))},until:function(p){return function(s){for(var qx=[],rx=null;s.length;){try{rx=p.call(this,s)}catch(e){qx.push(rx[0]),s=rx[1];continue}break}return[qx,s]}},many:function(p){return function(s){for(var rx=[],r=null;s.length;){try{r=p.call(this,s)}catch(e){return[rx,s]}rx.push(r[0]),s=r[1]}return[rx,s]}},optional:function(p){return function(s){var r=null;try{r=p.call(this,s)}catch(e){return[null,s]}return[r[0],r[1]]}},not:function(p){return function(s){try{p.call(this,s)}catch(e){return[null,s]}throw new $P.Exception(s)}},ignore:function(p){return p?function(s){var r=null;return r=p.call(this,s),[null,r[1]]}:null},product:function(){for(var px=arguments[0],qx=Array.prototype.slice.call(arguments,1),rx=[],i=0;i<px.length;i++)rx.push(_.each(px[i],qx));return rx},cache:function(rule){var cache={},r=null;return function(s){try{r=cache[s]=cache[s]||rule.call(this,s)}catch(e){r=cache[s]=e}if(r instanceof $P.Exception)throw r;return r}},any:function(){var px=arguments;return function(s){for(var r=null,i=0;i<px.length;i++)if(null!=px[i]){try{r=px[i].call(this,s)}catch(e){r=null}if(r)return r}throw new $P.Exception(s)}},each:function(){var px=arguments;return function(s){for(var rx=[],r=null,i=0;i<px.length;i++)if(null!=px[i]){try{r=px[i].call(this,s)}catch(e){throw new $P.Exception(s)}rx.push(r[0]),s=r[1]}return[rx,s]}},all:function(){var px=arguments,_=_;return _.each(_.optional(px))},sequence:function(px,d,c){return d=d||_.rtoken(/^\s*/),c=c||null,1==px.length?px[0]:function(s){for(var r=null,q=null,rx=[],i=0;i<px.length;i++){try{r=px[i].call(this,s)}catch(e){break}rx.push(r[0]);try{q=d.call(this,r[1])}catch(ex){q=null;break}s=q[1]}if(!r)throw new $P.Exception(s);if(q)throw new $P.Exception(q[1]);if(c)try{r=c.call(this,r[1])}catch(ey){throw new $P.Exception(r[1])}return[rx,r?r[1]:s]}},between:function(d1,p,d2){d2=d2||d1;var _fn=_.each(_.ignore(d1),p,_.ignore(d2));return function(s){var rx=_fn.call(this,s);return[[rx[0][0],r[0][2]],rx[1]]}},list:function(p,d,c){return d=d||_.rtoken(/^\s*/),c=c||null,p instanceof Array?_.each(_.product(p.slice(0,-1),_.ignore(d)),p.slice(-1),_.ignore(c)):_.each(_.many(_.each(p,_.ignore(d))),px,_.ignore(c))},set:function(px,d,c){return d=d||_.rtoken(/^\s*/),c=c||null,function(s){for(var r=null,p=null,q=null,rx=null,best=[[],s],last=!1,i=0;i<px.length;i++){q=null,p=null,r=null,last=1==px.length;try{r=px[i].call(this,s)}catch(e){continue}if(rx=[[r[0]],r[1]],r[1].length>0&&!last)try{q=d.call(this,r[1])}catch(ex){last=!0}else last=!0;if(last||0!==q[1].length||(last=!0),!last){for(var qx=[],j=0;j<px.length;j++)i!=j&&qx.push(px[j]);p=_.set(qx,d).call(this,q[1]),p[0].length>0&&(rx[0]=rx[0].concat(p[0]),rx[1]=p[1])}if(rx[1].length<best[1].length&&(best=rx),0===best[1].length)break}if(0===best[0].length)return best;if(c){try{q=c.call(this,best[1])}catch(ey){throw new $P.Exception(best[1])}best[1]=q[1]}return best}},forward:function(gr,fname){return function(s){return gr[fname].call(this,s)}},replace:function(rule,repl){return function(s){var r=rule.call(this,s);return[repl,r[1]]}},process:function(rule,fn){return function(s){var r=rule.call(this,s);return[fn.call(this,r[0]),r[1]]}},min:function(min,rule){return function(s){var rx=rule.call(this,s);if(rx[0].length<min)throw new $P.Exception(s);return rx}}},_generator=function(op){return function(){var args=null,rx=[];if(arguments.length>1?args=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(args=arguments[0]),!args)return op.apply(null,arguments);for(var i=0,px=args.shift();i<px.length;i++)return args.unshift(px[i]),rx.push(op.apply(null,args)),args.shift(),rx}},gx="optional not ignore cache".split(/\s/),i=0;i<gx.length;i++)_[gx[i]]=_generator(_[gx[i]]);for(var _vector=function(op){return function(){return arguments[0]instanceof Array?op.apply(null,arguments[0]):op.apply(null,arguments)}},vx="each any all".split(/\s/),j=0;j<vx.length;j++)_[vx[j]]=_vector(_[vx[j]])}(),function(){var $D=Date,$C=($D.prototype,$D.CultureInfo),flattenAndCompact=function(ax){for(var rx=[],i=0;i<ax.length;i++)ax[i]instanceof Array?rx=rx.concat(flattenAndCompact(ax[i])):ax[i]&&rx.push(ax[i]);return rx};$D.Grammar={},$D.Translator={hour:function(s){return function(){this.hour=Number(s)}},minute:function(s){return function(){this.minute=Number(s)}},second:function(s){return function(){this.second=Number(s)}},meridian:function(s){return function(){this.meridian=s.slice(0,1).toLowerCase()}},timezone:function(s){return function(){var n=s.replace(/[^\d\+\-]/g,"");n.length?this.timezoneOffset=Number(n):this.timezone=s.toLowerCase()}},day:function(x){var s=x[0];return function(){this.day=Number(s.match(/\d+/)[0])}},month:function(s){return function(){this.month=3==s.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(s)/4:Number(s)-1}},year:function(s){return function(){var n=Number(s);this.year=s.length>2?n:n+(n+2e3<$C.twoDigitYearMax?2e3:1900)}},rday:function(s){return function(){switch(s){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(x){x=x instanceof Array?x:[x];for(var i=0;i<x.length;i++)x[i]&&x[i].call(this);var now=new Date;if(!this.hour&&!this.minute||this.month||this.year||this.day||(this.day=now.getDate()),this.year||(this.year=now.getFullYear()),this.month||0===this.month||(this.month=now.getMonth()),this.day||(this.day=1),this.hour||(this.hour=0),this.minute||(this.minute=0),this.second||(this.second=0),this.meridian&&this.hour&&("p"==this.meridian&&this.hour<12?this.hour=this.hour+12:"a"==this.meridian&&12==this.hour&&(this.hour=0)),this.day>$D.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var r=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?r.set({timezone:this.timezone}):this.timezoneOffset&&r.set({timezoneOffset:this.timezoneOffset}),r},finish:function(x){if(x=x instanceof Array?flattenAndCompact(x):[x],0===x.length)return null;for(var i=0;i<x.length;i++)"function"==typeof x[i]&&x[i].call(this);var today=$D.today();if(this.now&&!this.unit&&!this.operator)return new Date;this.now&&(today=new Date);var gap,mod,orient,expression=!!(this.days&&null!==this.days||this.orient||this.operator);if(orient="past"==this.orient||"subtract"==this.operator?-1:1,this.now||-1=="hour minute second".indexOf(this.unit)||today.setTimeToNow(),(this.month||0===this.month)&&-1!="year day hour minute second".indexOf(this.unit)&&(this.value=this.month+1,this.month=null,expression=!0),!expression&&this.weekday&&!this.day&&!this.days){var temp=Date[this.weekday]();this.day=temp.getDate(),this.month||(this.month=temp.getMonth()),this.year=temp.getFullYear()}if(expression&&this.weekday&&"month"!=this.unit&&(this.unit="day",gap=$D.getDayNumberFromName(this.weekday)-today.getDay(),mod=7,this.days=gap?(gap+orient*mod)%mod:orient*mod),this.month&&"day"==this.unit&&this.operator&&(this.value=this.month+1,this.month=null),null!=this.value&&null!=this.month&&null!=this.year&&(this.day=1*this.value),this.month&&!this.day&&this.value&&(today.set({day:1*this.value}),expression||(this.day=1*this.value)),this.month||!this.value||"month"!=this.unit||this.now||(this.month=this.value,expression=!0),expression&&(this.month||0===this.month)&&"year"!=this.unit&&(this.unit="month",gap=this.month-today.getMonth(),mod=12,this.months=gap?(gap+orient*mod)%mod:orient*mod,this.month=null),this.unit||(this.unit="day"),!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"]?this[this.unit+"s"]=this[this.unit+"s"]+("add"==this.operator?1:-1)+(this.value||0)*orient:(null==this[this.unit+"s"]||null!=this.operator)&&(this.value||(this.value=1),this[this.unit+"s"]=this.value*orient),this.meridian&&this.hour&&("p"==this.meridian&&this.hour<12?this.hour=this.hour+12:"a"==this.meridian&&12==this.hour&&(this.hour=0)),this.weekday&&!this.day&&!this.days){var temp=Date[this.weekday]();this.day=temp.getDate(),temp.getMonth()!==today.getMonth()&&(this.month=temp.getMonth())}return!this.month&&0!==this.month||this.day||(this.day=1),this.orient||this.operator||"week"!=this.unit||!this.value||this.day||this.month?(expression&&this.timezone&&this.day&&this.days&&(this.day=this.days),expression?today.add(this):today.set(this)):Date.today().setWeek(this.value)}};var _fn,_=$D.Parsing.Operators,g=$D.Grammar,t=$D.Translator;g.datePartDelimiter=_.rtoken(/^([\s\-\.\,\/\x27]+)/),g.timePartDelimiter=_.stoken(":"),g.whiteSpace=_.rtoken(/^\s*/),g.generalDelimiter=_.rtoken(/^(([\s\,]|at|@|on)+)/);var _C={};g.ctoken=function(keys){var fn=_C[keys];if(!fn){for(var c=$C.regexPatterns,kx=keys.split(/\s+/),px=[],i=0;i<kx.length;i++)px.push(_.replace(_.rtoken(c[kx[i]]),kx[i]));fn=_C[keys]=_.any.apply(null,px)}return fn},g.ctoken2=function(key){return _.rtoken($C.regexPatterns[key])},g.h=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),t.hour)),g.hh=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2])/),t.hour)),g.H=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),t.hour)),g.HH=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3])/),t.hour)),g.m=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.minute)),g.mm=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.minute)),g.s=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.second)),g.ss=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.second)),g.hms=_.cache(_.sequence([g.H,g.m,g.s],g.timePartDelimiter)),g.t=_.cache(_.process(g.ctoken2("shortMeridian"),t.meridian)),g.tt=_.cache(_.process(g.ctoken2("longMeridian"),t.meridian)),g.z=_.cache(_.process(_.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),t.timezone)),g.zz=_.cache(_.process(_.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),t.timezone)),g.zzz=_.cache(_.process(g.ctoken2("timezone"),t.timezone)),g.timeSuffix=_.each(_.ignore(g.whiteSpace),_.set([g.tt,g.zzz])),g.time=_.each(_.optional(_.ignore(_.stoken("T"))),g.hms,g.timeSuffix),g.d=_.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1]|\d)/),_.optional(g.ctoken2("ordinalSuffix"))),t.day)),g.dd=_.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1])/),_.optional(g.ctoken2("ordinalSuffix"))),t.day)),g.ddd=g.dddd=_.cache(_.process(g.ctoken("sun mon tue wed thu fri sat"),function(s){return function(){this.weekday=s}})),g.M=_.cache(_.process(_.rtoken(/^(1[0-2]|0\d|\d)/),t.month)),g.MM=_.cache(_.process(_.rtoken(/^(1[0-2]|0\d)/),t.month)),g.MMM=g.MMMM=_.cache(_.process(g.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),t.month)),g.y=_.cache(_.process(_.rtoken(/^(\d\d?)/),t.year)),g.yy=_.cache(_.process(_.rtoken(/^(\d\d)/),t.year)),g.yyy=_.cache(_.process(_.rtoken(/^(\d\d?\d?\d?)/),t.year)),g.yyyy=_.cache(_.process(_.rtoken(/^(\d\d\d\d)/),t.year)),_fn=function(){return _.each(_.any.apply(null,arguments),_.not(g.ctoken2("timeContext")))},g.day=_fn(g.d,g.dd),g.month=_fn(g.M,g.MMM),g.year=_fn(g.yyyy,g.yy),g.orientation=_.process(g.ctoken("past future"),function(s){return function(){this.orient=s}}),g.operator=_.process(g.ctoken("add subtract"),function(s){return function(){this.operator=s}}),g.rday=_.process(g.ctoken("yesterday tomorrow today now"),t.rday),g.unit=_.process(g.ctoken("second minute hour day week month year"),function(s){return function(){this.unit=s}}),g.value=_.process(_.rtoken(/^\d\d?(st|nd|rd|th)?/),function(s){return function(){this.value=s.replace(/\D/g,"")}}),g.expression=_.set([g.rday,g.operator,g.value,g.unit,g.orientation,g.ddd,g.MMM]),_fn=function(){return _.set(arguments,g.datePartDelimiter)},g.mdy=_fn(g.ddd,g.month,g.day,g.year),g.ymd=_fn(g.ddd,g.year,g.month,g.day),g.dmy=_fn(g.ddd,g.day,g.month,g.year),g.date=function(s){return(g[$C.dateElementOrder]||g.mdy).call(this,s)},g.format=_.process(_.many(_.any(_.process(_.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(fmt){if(g[fmt])return g[fmt];throw $D.Parsing.Exception(fmt)}),_.process(_.rtoken(/^[^dMyhHmstz]+/),function(s){return _.ignore(_.stoken(s))}))),function(rules){return _.process(_.each.apply(null,rules),t.finishExact)});var _F={},_get=function(f){return _F[f]=_F[f]||g.format(f)[0]};g.formats=function(fx){if(fx instanceof Array){for(var rx=[],i=0;i<fx.length;i++)rx.push(_get(fx[i]));return _.any.apply(null,rx)}return _get(fx)},g._formats=g.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]),g._start=_.process(_.set([g.date,g.time,g.expression],g.generalDelimiter,g.whiteSpace),t.finish),g.start=function(s){try{var r=g._formats.call({},s);if(0===r[1].length)return r}catch(e){}return g._start.call({},s)},$D._parse=$D.parse,$D.parse=function(s){var r=null;if(!s)return null;if(s instanceof Date)return s;try{r=$D.Grammar.start.call({},s.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(e){return null}return 0===r[1].length?r[0]:null},$D.getParseFunction=function(fx){var fn=$D.Grammar.formats(fx);return function(s){var r=null;try{r=fn.call({},s)}catch(e){return null}return 0===r[1].length?r[0]:null}},$D.parseExact=function(s,fx){return $D.getParseFunction(fx)(s)}}(),function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(){},{}],2:[function(require,module,exports){function Buffer(subject,encoding,noZero){if(!(this instanceof Buffer))return new Buffer(subject,encoding,noZero);var type=typeof subject;if("base64"===encoding&&"string"===type)for(subject=stringtrim(subject);subject.length%4!==0;)subject+="=";var length;if("number"===type)length=coerce(subject);else if("string"===type)length=Buffer.byteLength(subject,encoding);else{if("object"!==type)throw new Error("First argument needs to be a number, array or string.");length=coerce(subject.length)}var buf;Buffer._useTypedArrays?buf=augment(new Uint8Array(length)):(buf=this,buf.length=length,buf._isBuffer=!0);var i;if(Buffer._useTypedArrays&&"function"==typeof Uint8Array&&subject instanceof Uint8Array)buf._set(subject);else if(isArrayish(subject))for(i=0;length>i;i++)buf[i]=Buffer.isBuffer(subject)?subject.readUInt8(i):subject[i];else if("string"===type)buf.write(subject,0,encoding);
else if("number"===type&&!Buffer._useTypedArrays&&!noZero)for(i=0;length>i;i++)buf[i]=0;return buf}function _hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;assert(strLen%2===0,"Invalid hex string"),length>strLen/2&&(length=strLen/2);for(var i=0;length>i;i++){var byte=parseInt(string.substr(2*i,2),16);assert(!isNaN(byte),"Invalid hex string"),buf[offset+i]=byte}return Buffer._charsWritten=2*i,i}function _utf8Write(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(utf8ToBytes(string),buf,offset,length);return charsWritten}function _asciiWrite(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(asciiToBytes(string),buf,offset,length);return charsWritten}function _binaryWrite(buf,string,offset,length){return _asciiWrite(buf,string,offset,length)}function _base64Write(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(base64ToBytes(string),buf,offset,length);return charsWritten}function _utf16leWrite(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(utf16leToBytes(string),buf,offset,length);return charsWritten}function _base64Slice(buf,start,end){return base64.fromByteArray(0===start&&end===buf.length?buf:buf.slice(start,end))}function _utf8Slice(buf,start,end){var res="",tmp="";end=Math.min(buf.length,end);for(var i=start;end>i;i++)buf[i]<=127?(res+=decodeUtf8Char(tmp)+String.fromCharCode(buf[i]),tmp=""):tmp+="%"+buf[i].toString(16);return res+decodeUtf8Char(tmp)}function _asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;end>i;i++)ret+=String.fromCharCode(buf[i]);return ret}function _binarySlice(buf,start,end){return _asciiSlice(buf,start,end)}function _hexSlice(buf,start,end){var len=buf.length;(!start||0>start)&&(start=0),(!end||0>end||end>len)&&(end=len);for(var out="",i=start;end>i;i++)out+=toHex(buf[i]);return out}function _utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function _readUInt16(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val;return littleEndian?(val=buf[offset],len>offset+1&&(val|=buf[offset+1]<<8)):(val=buf[offset]<<8,len>offset+1&&(val|=buf[offset+1])),val}}function _readUInt32(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val;return littleEndian?(len>offset+2&&(val=buf[offset+2]<<16),len>offset+1&&(val|=buf[offset+1]<<8),val|=buf[offset],len>offset+3&&(val+=buf[offset+3]<<24>>>0)):(len>offset+1&&(val=buf[offset+1]<<16),len>offset+2&&(val|=buf[offset+2]<<8),len>offset+3&&(val|=buf[offset+3]),val+=buf[offset]<<24>>>0),val}}function _readInt16(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val=_readUInt16(buf,offset,littleEndian,!0),neg=32768&val;return neg?-1*(65535-val+1):val}}function _readInt32(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val=_readUInt32(buf,offset,littleEndian,!0),neg=2147483648&val;return neg?-1*(4294967295-val+1):val}}function _readFloat(buf,offset,littleEndian,noAssert){return noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(offset+3<buf.length,"Trying to read beyond buffer length")),ieee754.read(buf,offset,littleEndian,23,4)}function _readDouble(buf,offset,littleEndian,noAssert){return noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(offset+7<buf.length,"Trying to read beyond buffer length")),ieee754.read(buf,offset,littleEndian,52,8)}function _writeUInt16(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"trying to write beyond buffer length"),verifuint(value,65535));var len=buf.length;if(!(offset>=len))for(var i=0,j=Math.min(len-offset,2);j>i;i++)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function _writeUInt32(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"trying to write beyond buffer length"),verifuint(value,4294967295));var len=buf.length;if(!(offset>=len))for(var i=0,j=Math.min(len-offset,4);j>i;i++)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function _writeInt16(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"Trying to write beyond buffer length"),verifsint(value,32767,-32768));var len=buf.length;offset>=len||(value>=0?_writeUInt16(buf,value,offset,littleEndian,noAssert):_writeUInt16(buf,65535+value+1,offset,littleEndian,noAssert))}function _writeInt32(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to write beyond buffer length"),verifsint(value,2147483647,-2147483648));var len=buf.length;offset>=len||(value>=0?_writeUInt32(buf,value,offset,littleEndian,noAssert):_writeUInt32(buf,4294967295+value+1,offset,littleEndian,noAssert))}function _writeFloat(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to write beyond buffer length"),verifIEEE754(value,3.4028234663852886e38,-3.4028234663852886e38));var len=buf.length;offset>=len||ieee754.write(buf,value,offset,littleEndian,23,4)}function _writeDouble(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+7<buf.length,"Trying to write beyond buffer length"),verifIEEE754(value,1.7976931348623157e308,-1.7976931348623157e308));var len=buf.length;offset>=len||ieee754.write(buf,value,offset,littleEndian,52,8)}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function augment(arr){return arr._isBuffer=!0,arr._get=arr.get,arr._set=arr.set,arr.get=BP.get,arr.set=BP.set,arr.write=BP.write,arr.toString=BP.toString,arr.toLocaleString=BP.toString,arr.toJSON=BP.toJSON,arr.copy=BP.copy,arr.slice=BP.slice,arr.readUInt8=BP.readUInt8,arr.readUInt16LE=BP.readUInt16LE,arr.readUInt16BE=BP.readUInt16BE,arr.readUInt32LE=BP.readUInt32LE,arr.readUInt32BE=BP.readUInt32BE,arr.readInt8=BP.readInt8,arr.readInt16LE=BP.readInt16LE,arr.readInt16BE=BP.readInt16BE,arr.readInt32LE=BP.readInt32LE,arr.readInt32BE=BP.readInt32BE,arr.readFloatLE=BP.readFloatLE,arr.readFloatBE=BP.readFloatBE,arr.readDoubleLE=BP.readDoubleLE,arr.readDoubleBE=BP.readDoubleBE,arr.writeUInt8=BP.writeUInt8,arr.writeUInt16LE=BP.writeUInt16LE,arr.writeUInt16BE=BP.writeUInt16BE,arr.writeUInt32LE=BP.writeUInt32LE,arr.writeUInt32BE=BP.writeUInt32BE,arr.writeInt8=BP.writeInt8,arr.writeInt16LE=BP.writeInt16LE,arr.writeInt16BE=BP.writeInt16BE,arr.writeInt32LE=BP.writeInt32LE,arr.writeInt32BE=BP.writeInt32BE,arr.writeFloatLE=BP.writeFloatLE,arr.writeFloatBE=BP.writeFloatBE,arr.writeDoubleLE=BP.writeDoubleLE,arr.writeDoubleBE=BP.writeDoubleBE,arr.fill=BP.fill,arr.inspect=BP.inspect,arr.toArrayBuffer=BP.toArrayBuffer,arr}function clamp(index,len,defaultValue){return"number"!=typeof index?defaultValue:(index=~~index,index>=len?len:index>=0?index:(index+=len,index>=0?index:0))}function coerce(length){return length=~~Math.ceil(+length),0>length?0:length}function isArray(subject){return(Array.isArray||function(subject){return"[object Array]"===Object.prototype.toString.call(subject)})(subject)}function isArrayish(subject){return isArray(subject)||Buffer.isBuffer(subject)||subject&&"object"==typeof subject&&"number"==typeof subject.length}function toHex(n){return 16>n?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(str){for(var byteArray=[],i=0;i<str.length;i++){var b=str.charCodeAt(i);if(127>=b)byteArray.push(str.charCodeAt(i));else{var start=i;b>=55296&&57343>=b&&i++;for(var h=encodeURIComponent(str.slice(start,i+1)).substr(1).split("%"),j=0;j<h.length;j++)byteArray.push(parseInt(h[j],16))}}return byteArray}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;i++)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str){for(var c,hi,lo,byteArray=[],i=0;i<str.length;i++)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(str)}function blitBuffer(src,dst,offset,length){for(var i=0;length>i&&!(i+offset>=dst.length||i>=src.length);i++)dst[i+offset]=src[i];return i}function decodeUtf8Char(str){try{return decodeURIComponent(str)}catch(err){return String.fromCharCode(65533)}}function verifuint(value,max){assert("number"==typeof value,"cannot write a non-number as a number"),assert(value>=0,"specified a negative value for writing an unsigned value"),assert(max>=value,"value is larger than maximum value for type"),assert(Math.floor(value)===value,"value has a fractional component")}function verifsint(value,max,min){assert("number"==typeof value,"cannot write a non-number as a number"),assert(max>=value,"value larger than maximum allowed value"),assert(value>=min,"value smaller than minimum allowed value"),assert(Math.floor(value)===value,"value has a fractional component")}function verifIEEE754(value,max,min){assert("number"==typeof value,"cannot write a non-number as a number"),assert(max>=value,"value larger than maximum allowed value"),assert(value>=min,"value smaller than minimum allowed value")}function assert(test,message){if(!test)throw new Error(message||"Failed assertion")}var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=Buffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192,Buffer._useTypedArrays=function(){if("function"!=typeof Uint8Array||"function"!=typeof ArrayBuffer)return!1;try{var arr=new Uint8Array(0);return arr.foo=function(){return 42},42===arr.foo()&&"function"==typeof arr.subarray}catch(e){return!1}}(),Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.isBuffer=function(b){return!(null===b||void 0===b||!b._isBuffer)},Buffer.byteLength=function(str,encoding){var ret;switch(str+="",encoding||"utf8"){case"hex":ret=str.length/2;break;case"utf8":case"utf-8":ret=utf8ToBytes(str).length;break;case"ascii":case"binary":case"raw":ret=str.length;break;case"base64":ret=base64ToBytes(str).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=2*str.length;break;default:throw new Error("Unknown encoding")}return ret},Buffer.concat=function(list,totalLength){if(assert(isArray(list),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===list.length)return new Buffer(0);if(1===list.length)return list[0];var i;if("number"!=typeof totalLength)for(totalLength=0,i=0;i<list.length;i++)totalLength+=list[i].length;var buf=new Buffer(totalLength),pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos),pos+=item.length}return buf},Buffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}offset=Number(offset)||0;var remaining=this.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining,encoding=String(encoding||"utf8").toLowerCase();var ret;switch(encoding){case"hex":ret=_hexWrite(this,string,offset,length);break;case"utf8":case"utf-8":ret=_utf8Write(this,string,offset,length);break;case"ascii":ret=_asciiWrite(this,string,offset,length);break;case"binary":ret=_binaryWrite(this,string,offset,length);break;case"base64":ret=_base64Write(this,string,offset,length);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=_utf16leWrite(this,string,offset,length);break;default:throw new Error("Unknown encoding")}return ret},Buffer.prototype.toString=function(encoding,start,end){var self=this;if(encoding=String(encoding||"utf8").toLowerCase(),start=Number(start)||0,end=void 0!==end?Number(end):end=self.length,end===start)return"";var ret;switch(encoding){case"hex":ret=_hexSlice(self,start,end);break;case"utf8":case"utf-8":ret=_utf8Slice(self,start,end);break;case"ascii":ret=_asciiSlice(self,start,end);break;case"binary":ret=_binarySlice(self,start,end);break;case"base64":ret=_base64Slice(self,start,end);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=_utf16leSlice(self,start,end);break;default:throw new Error("Unknown encoding")}return ret},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.copy=function(target,target_start,start,end){var source=this;if(start||(start=0),end||0===end||(end=this.length),target_start||(target_start=0),end!==start&&0!==target.length&&0!==source.length){assert(end>=start,"sourceEnd < sourceStart"),assert(target_start>=0&&target_start<target.length,"targetStart out of bounds"),assert(start>=0&&start<source.length,"sourceStart out of bounds"),assert(end>=0&&end<=source.length,"sourceEnd out of bounds"),end>this.length&&(end=this.length),target.length-target_start<end-start&&(end=target.length-target_start+start);for(var i=0;end-start>i;i++)target[i+target_start]=this[i+start]}},Buffer.prototype.slice=function(start,end){var len=this.length;if(start=clamp(start,len,0),end=clamp(end,len,len),Buffer._useTypedArrays)return augment(this.subarray(start,end));for(var sliceLen=end-start,newBuf=new Buffer(sliceLen,void 0,!0),i=0;sliceLen>i;i++)newBuf[i]=this[i+start];return newBuf},Buffer.prototype.get=function(offset){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(offset)},Buffer.prototype.set=function(v,offset){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(v,offset)},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||(assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"Trying to read beyond buffer length")),offset>=this.length?void 0:this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return _readUInt16(this,offset,!0,noAssert)},Buffer.prototype.readUInt16BE=function(offset,noAssert){return _readUInt16(this,offset,!1,noAssert)},Buffer.prototype.readUInt32LE=function(offset,noAssert){return _readUInt32(this,offset,!0,noAssert)},Buffer.prototype.readUInt32BE=function(offset,noAssert){return _readUInt32(this,offset,!1,noAssert)},Buffer.prototype.readInt8=function(offset,noAssert){if(noAssert||(assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"Trying to read beyond buffer length")),!(offset>=this.length)){var neg=128&this[offset];return neg?-1*(255-this[offset]+1):this[offset]}},Buffer.prototype.readInt16LE=function(offset,noAssert){return _readInt16(this,offset,!0,noAssert)},Buffer.prototype.readInt16BE=function(offset,noAssert){return _readInt16(this,offset,!1,noAssert)},Buffer.prototype.readInt32LE=function(offset,noAssert){return _readInt32(this,offset,!0,noAssert)},Buffer.prototype.readInt32BE=function(offset,noAssert){return _readInt32(this,offset,!1,noAssert)},Buffer.prototype.readFloatLE=function(offset,noAssert){return _readFloat(this,offset,!0,noAssert)},Buffer.prototype.readFloatBE=function(offset,noAssert){return _readFloat(this,offset,!1,noAssert)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return _readDouble(this,offset,!0,noAssert)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return _readDouble(this,offset,!1,noAssert)},Buffer.prototype.writeUInt8=function(value,offset,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"trying to write beyond buffer length"),verifuint(value,255)),offset>=this.length||(this[offset]=value)},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){_writeUInt16(this,value,offset,!0,noAssert)},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){_writeUInt16(this,value,offset,!1,noAssert)},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){_writeUInt32(this,value,offset,!0,noAssert)},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){_writeUInt32(this,value,offset,!1,noAssert)},Buffer.prototype.writeInt8=function(value,offset,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"Trying to write beyond buffer length"),verifsint(value,127,-128)),offset>=this.length||(value>=0?this.writeUInt8(value,offset,noAssert):this.writeUInt8(255+value+1,offset,noAssert))},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){_writeInt16(this,value,offset,!0,noAssert)},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){_writeInt16(this,value,offset,!1,noAssert)},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){_writeInt32(this,value,offset,!0,noAssert)},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){_writeInt32(this,value,offset,!1,noAssert)},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){_writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){_writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){_writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){_writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.fill=function(value,start,end){if(value||(value=0),start||(start=0),end||(end=this.length),"string"==typeof value&&(value=value.charCodeAt(0)),assert("number"==typeof value&&!isNaN(value),"value is not a number"),assert(end>=start,"end < start"),end!==start&&0!==this.length){assert(start>=0&&start<this.length,"start out of bounds"),assert(end>=0&&end<=this.length,"end out of bounds");for(var i=start;end>i;i++)this[i]=value}},Buffer.prototype.inspect=function(){for(var out=[],len=this.length,i=0;len>i;i++)if(out[i]=toHex(this[i]),i===exports.INSPECT_MAX_BYTES){out[i+1]="...";break}return"<Buffer "+out.join(" ")+">"},Buffer.prototype.toArrayBuffer=function(){if("function"==typeof Uint8Array){if(Buffer._useTypedArrays)return new Buffer(this).buffer;for(var buf=new Uint8Array(this.length),i=0,len=buf.length;len>i;i+=1)buf[i]=this[i];return buf.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype},{"base64-js":3,ieee754:4}],3:[function(require,module){var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(){"use strict";function decode(elt){var code=elt.charCodeAt(0);return code===PLUS?62:code===SLASH?63:NUMBER>code?-1:NUMBER+10>code?code-NUMBER+26+26:UPPER+26>code?code-UPPER:LOWER+26>code?code-LOWER+26:void 0}function b64ToByteArray(b64){function push(v){arr[L++]=v}var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0,arr=new Arr(3*b64.length/4-placeHolders),l=placeHolders>0?b64.length-4:b64.length;var L=0;for(i=0,j=0;l>i;i+=4,j+=3)tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3)),push((16711680&tmp)>>16),push((65280&tmp)>>8),push(255&tmp);return 2===placeHolders?(tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4,push(255&tmp)):1===placeHolders&&(tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2,push(tmp>>8&255),push(255&tmp)),arr}function uint8ToBase64(uint8){function encode(num){return lookup.charAt(num)}function tripletToBase64(num){return encode(num>>18&63)+encode(num>>12&63)+encode(num>>6&63)+encode(63&num)}var i,temp,length,extraBytes=uint8.length%3,output="";for(i=0,length=uint8.length-extraBytes;length>i;i+=3)temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output+=tripletToBase64(temp);switch(extraBytes){case 1:temp=uint8[uint8.length-1],output+=encode(temp>>2),output+=encode(temp<<4&63),output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1],output+=encode(temp>>10),output+=encode(temp>>4&63),output+=encode(temp<<2&63),output+="="}return output}var Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,PLUS=("0".charCodeAt(0),"+".charCodeAt(0)),SLASH="/".charCodeAt(0),NUMBER="0".charCodeAt(0),LOWER="a".charCodeAt(0),UPPER="A".charCodeAt(0);module.exports.toByteArray=b64ToByteArray,module.exports.fromByteArray=uint8ToBase64}()},{}],4:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?0/0:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=0>value||0===value&&0>1/value?1:0;for(value=Math.abs(value),isNaN(value)||1/0===value?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],5:[function(require){(function(Buffer){var config=(require("fs"),JSON.parse(Buffer("ewogICJkaXJlY3RvcnkiOiAiYXBwL2RlcGVuZGVuY2llcyIKfQo=","base64")));console.log("Hello from browserify: ",config)}).call(this,require("buffer").Buffer)},{buffer:2,fs:1}]},{},[5]),function(){var Test,t;Test=function(){function Test(){console.log("Hello from coffee-script")}return Test}(),t=new Test}.call(this),console.log("javascript: one"),console.log("javascript: three"),console.log("javascript: two");